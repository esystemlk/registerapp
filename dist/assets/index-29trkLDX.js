const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-DpD5mtPt.js","assets/input-D4oRv7lk.js","assets/label-C8eofHuj.js","assets/index--ESsa993.js","assets/card-WBB6GQn7.js","assets/Dashboard-BH71Uh7a.js","assets/db-DRhg_JvH.js","assets/HeaderBar-qIyb8_N6.js","assets/calendar-_2YOwdHT.js","assets/createLucideIcon-D2ca4Kpj.js","assets/star-BVeSEjp0.js","assets/dollar-sign-DA27Zz4u.js","assets/LecturerDetails-BXC648Fy.js","assets/badge-BnKgLRNG.js","assets/arrow-left-DOABcHRX.js","assets/clock-D3D33bRm.js","assets/BookClass-Ct__P4GO.js","assets/radio-group-DJGMxgjq.js","assets/index-aoTNzHMW.js","assets/index-Due8Zo6c.js","assets/index-BaLXfkNy.js","assets/index-DNG9mSFE.js","assets/credit-card-Dc-DNFDJ.js","assets/check-BwZctonS.js","assets/MyBookings-CFfVVniC.js","assets/tabs-CsATiU_f.js","assets/calendar-CpbuF6B_.js","assets/file-text-2jUWd2ng.js","assets/Dashboard-Bsf24kqA.js","assets/users-BoSnzeNQ.js","assets/settings-Bx7pHFNy.js","assets/Availability-DsedtKT-.js","assets/circle-alert-DnE59jz4.js","assets/Dashboard-vPxKZu6Y.js","assets/circle-x-Ba1u1peR.js","assets/Dashboard-btEX5XVc.js","assets/Dashboard-CpLmt-YH.js","assets/NotFound-c3CZLJTB.js","assets/Register-DpTwukyh.js","assets/Onboarding-BYYfceBz.js","assets/Thread-DpQI95da.js","assets/Analytics-BxRZ0k3V.js","assets/BookingDetails-D-1CtYc8.js","assets/KYCReview-BETRtgt6.js","assets/SupportInbox-B2egYrl9.js","assets/Support-CE0nJyoL.js"])))=>i.map(i=>d[i]);
function Bk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Q5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dm={exports:{}},Bu={},Nm={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function zk(){if(eE)return it;eE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,L={};function N(O,G,re){this.props=O,this.context=G,this.refs=L,this.updater=re||b}N.prototype.isReactComponent={},N.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},N.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=N.prototype;function K(O,G,re){this.props=O,this.context=G,this.refs=L,this.updater=re||b}var Z=K.prototype=new X;Z.constructor=K,C(Z,N.prototype),Z.isPureReactComponent=!0;var oe=Array.isArray,ie=Object.prototype.hasOwnProperty,ue={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(O,G,re){var de,ve={},we=null,Ce=null;if(G!=null)for(de in G.ref!==void 0&&(Ce=G.ref),G.key!==void 0&&(we=""+G.key),G)ie.call(G,de)&&!I.hasOwnProperty(de)&&(ve[de]=G[de]);var qe=arguments.length-2;if(qe===1)ve.children=re;else if(1<qe){for(var Ze=Array(qe),At=0;At<qe;At++)Ze[At]=arguments[At+2];ve.children=Ze}if(O&&O.defaultProps)for(de in qe=O.defaultProps,qe)ve[de]===void 0&&(ve[de]=qe[de]);return{$$typeof:n,type:O,key:we,ref:Ce,props:ve,_owner:ue.current}}function A(O,G){return{$$typeof:n,type:O.type,key:G,ref:O.ref,props:O.props,_owner:O._owner}}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function D(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return G[re]})}var F=/\/+/g;function P(O,G){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):G.toString(36)}function Be(O,G,re,de,ve){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var Ce=!1;if(O===null)Ce=!0;else switch(we){case"string":case"number":Ce=!0;break;case"object":switch(O.$$typeof){case n:case e:Ce=!0}}if(Ce)return Ce=O,ve=ve(Ce),O=de===""?"."+P(Ce,0):de,oe(ve)?(re="",O!=null&&(re=O.replace(F,"$&/")+"/"),Be(ve,G,re,"",function(At){return At})):ve!=null&&(V(ve)&&(ve=A(ve,re+(!ve.key||Ce&&Ce.key===ve.key?"":(""+ve.key).replace(F,"$&/")+"/")+O)),G.push(ve)),1;if(Ce=0,de=de===""?".":de+":",oe(O))for(var qe=0;qe<O.length;qe++){we=O[qe];var Ze=de+P(we,qe);Ce+=Be(we,G,re,Ze,ve)}else if(Ze=w(O),typeof Ze=="function")for(O=Ze.call(O),qe=0;!(we=O.next()).done;)we=we.value,Ze=de+P(we,qe++),Ce+=Be(we,G,re,Ze,ve);else if(we==="object")throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ze(O,G,re){if(O==null)return O;var de=[],ve=0;return Be(O,de,"","",function(we){return G.call(re,we,ve++)}),de}function fe(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var be={current:null},$={transition:null},pe={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:$,ReactCurrentOwner:ue};function ne(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:ze,forEach:function(O,G,re){ze(O,function(){G.apply(this,arguments)},re)},count:function(O){var G=0;return ze(O,function(){G++}),G},toArray:function(O){return ze(O,function(G){return G})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},it.Component=N,it.Fragment=t,it.Profiler=i,it.PureComponent=K,it.StrictMode=r,it.Suspense=h,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,it.act=ne,it.cloneElement=function(O,G,re){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var de=C({},O.props),ve=O.key,we=O.ref,Ce=O._owner;if(G!=null){if(G.ref!==void 0&&(we=G.ref,Ce=ue.current),G.key!==void 0&&(ve=""+G.key),O.type&&O.type.defaultProps)var qe=O.type.defaultProps;for(Ze in G)ie.call(G,Ze)&&!I.hasOwnProperty(Ze)&&(de[Ze]=G[Ze]===void 0&&qe!==void 0?qe[Ze]:G[Ze])}var Ze=arguments.length-2;if(Ze===1)de.children=re;else if(1<Ze){qe=Array(Ze);for(var At=0;At<Ze;At++)qe[At]=arguments[At+2];de.children=qe}return{$$typeof:n,type:O.type,key:ve,ref:we,props:de,_owner:Ce}},it.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:o,_context:O},O.Consumer=O},it.createElement=S,it.createFactory=function(O){var G=S.bind(null,O);return G.type=O,G},it.createRef=function(){return{current:null}},it.forwardRef=function(O){return{$$typeof:c,render:O}},it.isValidElement=V,it.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:fe}},it.memo=function(O,G){return{$$typeof:p,type:O,compare:G===void 0?null:G}},it.startTransition=function(O){var G=$.transition;$.transition={};try{O()}finally{$.transition=G}},it.unstable_act=ne,it.useCallback=function(O,G){return be.current.useCallback(O,G)},it.useContext=function(O){return be.current.useContext(O)},it.useDebugValue=function(){},it.useDeferredValue=function(O){return be.current.useDeferredValue(O)},it.useEffect=function(O,G){return be.current.useEffect(O,G)},it.useId=function(){return be.current.useId()},it.useImperativeHandle=function(O,G,re){return be.current.useImperativeHandle(O,G,re)},it.useInsertionEffect=function(O,G){return be.current.useInsertionEffect(O,G)},it.useLayoutEffect=function(O,G){return be.current.useLayoutEffect(O,G)},it.useMemo=function(O,G){return be.current.useMemo(O,G)},it.useReducer=function(O,G,re){return be.current.useReducer(O,G,re)},it.useRef=function(O){return be.current.useRef(O)},it.useState=function(O){return be.current.useState(O)},it.useSyncExternalStore=function(O,G,re){return be.current.useSyncExternalStore(O,G,re)},it.useTransition=function(){return be.current.useTransition()},it.version="18.3.1",it}var tE;function oy(){return tE||(tE=1,Nm.exports=zk()),Nm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function jk(){if(nE)return Bu;nE=1;var n=oy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var y,g={},w=null,b=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(b=h.ref);for(y in h)r.call(h,y)&&!o.hasOwnProperty(y)&&(g[y]=h[y]);if(c&&c.defaultProps)for(y in h=c.defaultProps,h)g[y]===void 0&&(g[y]=h[y]);return{$$typeof:e,type:c,key:w,ref:b,props:g,_owner:i.current}}return Bu.Fragment=t,Bu.jsx=l,Bu.jsxs=l,Bu}var rE;function $k(){return rE||(rE=1,Dm.exports=jk()),Dm.exports}var un=$k(),gh={},Om={exports:{}},br={},Vm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function Hk(){return iE||(iE=1,(function(n){function e($,pe){var ne=$.length;$.push(pe);e:for(;0<ne;){var O=ne-1>>>1,G=$[O];if(0<i(G,pe))$[O]=pe,$[ne]=G,ne=O;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var pe=$[0],ne=$.pop();if(ne!==pe){$[0]=ne;e:for(var O=0,G=$.length,re=G>>>1;O<re;){var de=2*(O+1)-1,ve=$[de],we=de+1,Ce=$[we];if(0>i(ve,ne))we<G&&0>i(Ce,ve)?($[O]=Ce,$[we]=ne,O=we):($[O]=ve,$[de]=ne,O=de);else if(we<G&&0>i(Ce,ne))$[O]=Ce,$[we]=ne,O=we;else break e}}return pe}function i($,pe){var ne=$.sortIndex-pe.sortIndex;return ne!==0?ne:$.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],p=[],y=1,g=null,w=3,b=!1,C=!1,L=!1,N=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z($){for(var pe=t(p);pe!==null;){if(pe.callback===null)r(p);else if(pe.startTime<=$)r(p),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(p)}}function oe($){if(L=!1,Z($),!C)if(t(h)!==null)C=!0,fe(ie);else{var pe=t(p);pe!==null&&be(oe,pe.startTime-$)}}function ie($,pe){C=!1,L&&(L=!1,X(S),S=-1),b=!0;var ne=w;try{for(Z(pe),g=t(h);g!==null&&(!(g.expirationTime>pe)||$&&!D());){var O=g.callback;if(typeof O=="function"){g.callback=null,w=g.priorityLevel;var G=O(g.expirationTime<=pe);pe=n.unstable_now(),typeof G=="function"?g.callback=G:g===t(h)&&r(h),Z(pe)}else r(h);g=t(h)}if(g!==null)var re=!0;else{var de=t(p);de!==null&&be(oe,de.startTime-pe),re=!1}return re}finally{g=null,w=ne,b=!1}}var ue=!1,I=null,S=-1,A=5,V=-1;function D(){return!(n.unstable_now()-V<A)}function F(){if(I!==null){var $=n.unstable_now();V=$;var pe=!0;try{pe=I(!0,$)}finally{pe?P():(ue=!1,I=null)}}else ue=!1}var P;if(typeof K=="function")P=function(){K(F)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,ze=Be.port2;Be.port1.onmessage=F,P=function(){ze.postMessage(null)}}else P=function(){N(F,0)};function fe($){I=$,ue||(ue=!0,P())}function be($,pe){S=N(function(){$(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){C||b||(C=!0,fe(ie))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var ne=w;w=pe;try{return $()}finally{w=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,pe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=w;w=$;try{return pe()}finally{w=ne}},n.unstable_scheduleCallback=function($,pe,ne){var O=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?O+ne:O):ne=O,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ne+G,$={id:y++,callback:pe,priorityLevel:$,startTime:ne,expirationTime:G,sortIndex:-1},ne>O?($.sortIndex=ne,e(p,$),t(h)===null&&$===t(p)&&(L?(X(S),S=-1):L=!0,be(oe,ne-O))):($.sortIndex=G,e(h,$),C||b||(C=!0,fe(ie))),$},n.unstable_shouldYield=D,n.unstable_wrapCallback=function($){var pe=w;return function(){var ne=w;w=pe;try{return $.apply(this,arguments)}finally{w=ne}}}})(Lm)),Lm}var sE;function qk(){return sE||(sE=1,Vm.exports=Hk()),Vm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function Wk(){if(oE)return br;oE=1;var n=oy(),e=qk();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function w(s){return h.call(g,s)?!0:h.call(y,s)?!1:p.test(s)?g[s]=!0:(y[s]=!0,!1)}function b(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,a,u,f){if(a===null||typeof a>"u"||b(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function L(s,a,u,f,m,_,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new L(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];N[a]=new L(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new L(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new L(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new L(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new L(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new L(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new L(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new L(s,5,!1,s.toLowerCase(),null,!1,!1)});var X=/[\-:]([a-z])/g;function K(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(X,K);N[a]=new L(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(X,K);N[a]=new L(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(X,K);N[a]=new L(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new L(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new L(s,1,!1,s.toLowerCase(),null,!0,!0)});function Z(s,a,u,f){var m=N.hasOwnProperty(a)?N[a]:null;(m!==null?m.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,u,m,f)&&(u=null),f||m===null?w(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(a=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(a):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ue=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),$=Symbol.iterator;function pe(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,O;function G(s){if(O===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);O=a&&a[1]||""}return`
`+O+s}var re=!1;function de(s,a){if(!s||re)return"";re=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var f=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){f=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){f=Y}s()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var m=Y.stack.split(`
`),_=f.stack.split(`
`),T=m.length-1,k=_.length-1;1<=T&&0<=k&&m[T]!==_[k];)k--;for(;1<=T&&0<=k;T--,k--)if(m[T]!==_[k]){if(T!==1||k!==1)do if(T--,k--,0>k||m[T]!==_[k]){var M=`
`+m[T].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=T&&0<=k);break}}}finally{re=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?G(s):""}function ve(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function we(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case ue:return"Portal";case A:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case Be:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case F:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ze:return a=s.displayName||null,a!==null?a:we(s.type)||"Memo";case fe:a=s._payload,s=s._init;try{return we(s(a))}catch{}}return null}function Ce(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ze(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function At(s){var a=Ze(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function pr(s){s._valueTracker||(s._valueTracker=At(s))}function _t(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=Ze(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function Cn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xr(s,a){var u=a.checked;return ne({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Us(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=qe(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function xn(s,a){a=a.checked,a!=null&&Z(s,"checked",a,!1)}function tr(s,a){xn(s,a);var u=qe(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ht(s,a.type,u):a.hasOwnProperty("defaultValue")&&ht(s,a.type,qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Pi(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ht(s,a,u){(a!=="number"||Cn(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var xt=Array.isArray;function nr(s,a,u,f){if(s=s.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=a.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+qe(u),a=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Zt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function mr(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(xt(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:qe(u)}}function gr(s,a){var u=qe(a.value),f=qe(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function jn(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Dr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yr(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Dr(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var en,wn=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,m)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(en=en||document.createElement("div"),en.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=en.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Dn(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rr=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(s){rr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Nr[a]=Nr[s]})});function Jr(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Nr.hasOwnProperty(s)&&Nr[s]?(""+a).trim():a+"px"}function En(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Jr(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var di=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nn(s,a){if(a){if(di[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function hi(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=null;function Tn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $n=null,_r=null,Et=null;function ki(s){if(s=bu(s)){if(typeof $n!="function")throw Error(t(280));var a=s.stateNode;a&&(a=xd(a),$n(s.stateNode,s.type,a))}}function je(s){_r?Et?Et.push(s):Et=[s]:_r=s}function Tt(){if(_r){var s=_r,a=Et;if(Et=_r=null,ki(s),a)for(s=0;s<a.length;s++)ki(a[s])}}function Lt(s,a){return s(a)}function jt(){}var rn=!1;function Dt(s,a,u){if(rn)return s(a,u);rn=!0;try{return Lt(s,a,u)}finally{rn=!1,(_r!==null||Et!==null)&&(jt(),Tt())}}function Kt(s,a){var u=s.stateNode;if(u===null)return null;var f=xd(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var ir=!1;if(c)try{var x={};Object.defineProperty(x,"passive",{get:function(){ir=!0}}),window.addEventListener("test",x,x),window.removeEventListener("test",x,x)}catch{ir=!1}function U(s,a,u,f,m,_,T,k,M){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(u,Y)}catch(ae){this.onError(ae)}}var W=!1,te=null,he=!1,Se=null,Fe={onError:function(s){W=!0,te=s}};function Te(s,a,u,f,m,_,T,k,M){W=!1,te=null,U.apply(Fe,arguments)}function Re(s,a,u,f,m,_,T,k,M){if(Te.apply(this,arguments),W){if(W){var Y=te;W=!1,te=null}else throw Error(t(198));he||(he=!0,Se=Y)}}function Pe(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Ke(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Le(s){if(Pe(s)!==s)throw Error(t(188))}function Ye(s){var a=s.alternate;if(!a){if(a=Pe(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,f=a;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return Le(m),s;if(_===f)return Le(m),a;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=_;else{for(var T=!1,k=m.child;k;){if(k===u){T=!0,u=m,f=_;break}if(k===f){T=!0,f=m,u=_;break}k=k.sibling}if(!T){for(k=_.child;k;){if(k===u){T=!0,u=_,f=m;break}if(k===f){T=!0,f=_,u=m;break}k=k.sibling}if(!T)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function et(s){return s=Ye(s),s!==null?Nt(s):null}function Nt(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Nt(s);if(a!==null)return a;s=s.sibling}return null}var Mt=e.unstable_scheduleCallback,Gt=e.unstable_cancelCallback,ot=e.unstable_shouldYield,Qt=e.unstable_requestPaint,ft=e.unstable_now,ss=e.unstable_getCurrentPriorityLevel,sr=e.unstable_ImmediatePriority,Hn=e.unstable_UserBlockingPriority,fi=e.unstable_NormalPriority,pi=e.unstable_LowPriority,vr=e.unstable_IdlePriority,Xr=null,In=null;function rt(s){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Xr,s,void 0,(s.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:wt,On=Math.log,sn=Math.LN2;function wt(s){return s>>>=0,s===0?32:31-(On(s)/sn|0)|0}var or=64,mi=4194304;function pt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function os(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,_=s.pingedLanes,T=u&268435455;if(T!==0){var k=T&~m;k!==0?f=pt(k):(_&=T,_!==0&&(f=pt(_)))}else T=u&~m,T!==0?f=pt(T):_!==0&&(f=pt(_));if(f===0)return 0;if(a!==0&&a!==f&&(a&m)===0&&(m=f&-f,_=a&-a,m>=_||m===16&&(_&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-vt(a),m=1<<u,f|=s[u],a&=~m;return f}function Vo(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes;0<_;){var T=31-vt(_),k=1<<T,M=m[T];M===-1?((k&u)===0||(k&f)!==0)&&(m[T]=Vo(k,a)):M<=a&&(s.expiredLanes|=k),_&=~k}}function iu(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function su(){var s=or;return or<<=1,(or&4194240)===0&&(or=64),s}function ou(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Mo(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-vt(a),s[a]=u}function cp(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-vt(u),_=1<<m;a[m]=0,f[m]=-1,s[m]=-1,u&=~_}}function au(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-vt(u),m=1<<f;m&a|s[f]&a&&(s[f]|=a),u&=~m}}var ut=0;function Ci(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var lu,Va,uu,cu,du,xi=!1,La=[],Di=null,Ni=null,Vn=null,Fo=new Map,as=new Map,Or=[],md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bs(s,a){switch(s){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Fo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(a.pointerId)}}function gi(s,a,u,f,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[m]},a!==null&&(a=bu(a),a!==null&&Va(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function gd(s,a,u,f,m){switch(a){case"focusin":return Di=gi(Di,s,a,u,f,m),!0;case"dragenter":return Ni=gi(Ni,s,a,u,f,m),!0;case"mouseover":return Vn=gi(Vn,s,a,u,f,m),!0;case"pointerover":var _=m.pointerId;return Fo.set(_,gi(Fo.get(_)||null,s,a,u,f,m)),!0;case"gotpointercapture":return _=m.pointerId,as.set(_,gi(as.get(_)||null,s,a,u,f,m)),!0}return!1}function Ma(s){var a=jo(s.target);if(a!==null){var u=Pe(a);if(u!==null){if(a=u.tag,a===13){if(a=Ke(u),a!==null){s.blockedOn=a,du(s.priority,function(){uu(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Pt(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Fa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);yr=f,u.target.dispatchEvent(f),yr=null}else return a=bu(u),a!==null&&Va(a),s.blockedOn=u,!1;a.shift()}return!0}function yd(s,a,u){Pt(s)&&u.delete(a)}function dp(){xi=!1,Di!==null&&Pt(Di)&&(Di=null),Ni!==null&&Pt(Ni)&&(Ni=null),Vn!==null&&Pt(Vn)&&(Vn=null),Fo.forEach(yd),as.forEach(yd)}function zs(s,a){s.blockedOn===a&&(s.blockedOn=null,xi||(xi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dp)))}function js(s){function a(m){return zs(m,s)}if(0<La.length){zs(La[0],s);for(var u=1;u<La.length;u++){var f=La[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Di!==null&&zs(Di,s),Ni!==null&&zs(Ni,s),Vn!==null&&zs(Vn,s),Fo.forEach(a),as.forEach(a),u=0;u<Or.length;u++)f=Or[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Or.length&&(u=Or[0],u.blockedOn===null);)Ma(u),u.blockedOn===null&&Or.shift()}var ls=oe.ReactCurrentBatchConfig,us=!0;function Oi(s,a,u,f){var m=ut,_=ls.transition;ls.transition=null;try{ut=1,hu(s,a,u,f)}finally{ut=m,ls.transition=_}}function _d(s,a,u,f){var m=ut,_=ls.transition;ls.transition=null;try{ut=4,hu(s,a,u,f)}finally{ut=m,ls.transition=_}}function hu(s,a,u,f){if(us){var m=Fa(s,a,u,f);if(m===null)Tp(s,a,f,Vi,u),Bs(s,f);else if(gd(m,s,a,u,f))f.stopPropagation();else if(Bs(s,f),a&4&&-1<md.indexOf(s)){for(;m!==null;){var _=bu(m);if(_!==null&&lu(_),_=Fa(s,a,u,f),_===null&&Tp(s,a,f,Vi,u),_===m)break;m=_}m!==null&&f.stopPropagation()}else Tp(s,a,f,null,u)}}var Vi=null;function Fa(s,a,u,f){if(Vi=null,s=Tn(f),s=jo(s),s!==null)if(a=Pe(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Ke(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Vi=s,null}function Ua(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ss()){case sr:return 1;case Hn:return 4;case fi:case pi:return 16;case vr:return 536870912;default:return 16}default:return 16}}var Vr=null,Ba=null,cs=null;function vd(){if(cs)return cs;var s,a=Ba,u=a.length,f,m="value"in Vr?Vr.value:Vr.textContent,_=m.length;for(s=0;s<u&&a[s]===m[s];s++);var T=u-s;for(f=1;f<=T&&a[u-f]===m[_-f];f++);return cs=m.slice(s,1<f?1-f:void 0)}function Uo(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Li(){return!0}function fu(){return!1}function qn(s){function a(u,f,m,_,T){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(u=s[k],this[k]=u?u(_):_[k]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Li:fu,this.isPropagationStopped=fu,this}return ne(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),a}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=qn(Mi),$s=ne({},Mi,{view:0,detail:0}),za=qn($s),ja,$a,Lr,zo=ne({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xe,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Lr&&(Lr&&s.type==="mousemove"?(ja=s.screenX-Lr.screenX,$a=s.screenY-Lr.screenY):$a=ja=0,Lr=s),ja)},movementY:function(s){return"movementY"in s?s.movementY:$a}}),pu=qn(zo),wd=ne({},zo,{dataTransfer:0}),Ed=qn(wd),Ha=ne({},$s,{relatedTarget:0}),Ln=qn(Ha),Td=ne({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Id=qn(Td),Hs=ne({},Mi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=qn(Hs),v=ne({},Mi,{data:0}),E=qn(v),R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ye(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=J[s])?!!a[s]:!1}function Xe(){return ye}var tn=ne({},$s,{key:function(s){if(s.key){var a=R[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Uo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?q[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xe,charCode:function(s){return s.type==="keypress"?Uo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Uo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),It=qn(tn),on=ne({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mr=qn(on),ds=ne({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xe}),Fi=qn(ds),Ui=ne({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qa=qn(Ui),mu=ne({},zo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),OP=qn(mu),VP=[9,13,27,32],hp=c&&"CompositionEvent"in window,gu=null;c&&"documentMode"in document&&(gu=document.documentMode);var LP=c&&"TextEvent"in window&&!gu,W_=c&&(!hp||gu&&8<gu&&11>=gu),K_=" ",G_=!1;function Q_(s,a){switch(s){case"keyup":return VP.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Wa=!1;function MP(s,a){switch(s){case"compositionend":return Y_(a);case"keypress":return a.which!==32?null:(G_=!0,K_);case"textInput":return s=a.data,s===K_&&G_?null:s;default:return null}}function FP(s,a){if(Wa)return s==="compositionend"||!hp&&Q_(s,a)?(s=vd(),cs=Ba=Vr=null,Wa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return W_&&a.locale!=="ko"?null:a.data;default:return null}}var UP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!UP[s.type]:a==="textarea"}function X_(s,a,u,f){je(f),a=Pd(a,"onChange"),0<a.length&&(u=new Bo("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var yu=null,_u=null;function BP(s){gv(s,0)}function Sd(s){var a=Ja(s);if(_t(a))return s}function zP(s,a){if(s==="change")return a}var Z_=!1;if(c){var fp;if(c){var pp="oninput"in document;if(!pp){var ev=document.createElement("div");ev.setAttribute("oninput","return;"),pp=typeof ev.oninput=="function"}fp=pp}else fp=!1;Z_=fp&&(!document.documentMode||9<document.documentMode)}function tv(){yu&&(yu.detachEvent("onpropertychange",nv),_u=yu=null)}function nv(s){if(s.propertyName==="value"&&Sd(_u)){var a=[];X_(a,_u,s,Tn(s)),Dt(BP,a)}}function jP(s,a,u){s==="focusin"?(tv(),yu=a,_u=u,yu.attachEvent("onpropertychange",nv)):s==="focusout"&&tv()}function $P(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Sd(_u)}function HP(s,a){if(s==="click")return Sd(a)}function qP(s,a){if(s==="input"||s==="change")return Sd(a)}function WP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var yi=typeof Object.is=="function"?Object.is:WP;function vu(s,a){if(yi(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(a,m)||!yi(s[m],a[m]))return!1}return!0}function rv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function iv(s,a){var u=rv(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=rv(u)}}function sv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?sv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ov(){for(var s=window,a=Cn();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Cn(s.document)}return a}function mp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function KP(s){var a=ov(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&sv(u.ownerDocument.documentElement,u)){if(f!==null&&mp(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,_=Math.min(f.start,m);f=f.end===void 0?_:Math.min(f.end,m),!s.extend&&_>f&&(m=f,f=_,_=m),m=iv(u,_);var T=iv(u,f);m&&T&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),_>f?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var GP=c&&"documentMode"in document&&11>=document.documentMode,Ka=null,gp=null,wu=null,yp=!1;function av(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;yp||Ka==null||Ka!==Cn(f)||(f=Ka,"selectionStart"in f&&mp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),wu&&vu(wu,f)||(wu=f,f=Pd(gp,"onSelect"),0<f.length&&(a=new Bo("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Ka)))}function bd(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ga={animationend:bd("Animation","AnimationEnd"),animationiteration:bd("Animation","AnimationIteration"),animationstart:bd("Animation","AnimationStart"),transitionend:bd("Transition","TransitionEnd")},_p={},lv={};c&&(lv=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Rd(s){if(_p[s])return _p[s];if(!Ga[s])return s;var a=Ga[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in lv)return _p[s]=a[u];return s}var uv=Rd("animationend"),cv=Rd("animationiteration"),dv=Rd("animationstart"),hv=Rd("transitionend"),fv=new Map,pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(s,a){fv.set(s,a),o(a,[s])}for(var vp=0;vp<pv.length;vp++){var wp=pv[vp],QP=wp.toLowerCase(),YP=wp[0].toUpperCase()+wp.slice(1);qs(QP,"on"+YP)}qs(uv,"onAnimationEnd"),qs(cv,"onAnimationIteration"),qs(dv,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(hv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eu));function mv(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,Re(f,a,void 0,s),s.currentTarget=null}function gv(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var T=f.length-1;0<=T;T--){var k=f[T],M=k.instance,Y=k.currentTarget;if(k=k.listener,M!==_&&m.isPropagationStopped())break e;mv(m,k,Y),_=M}else for(T=0;T<f.length;T++){if(k=f[T],M=k.instance,Y=k.currentTarget,k=k.listener,M!==_&&m.isPropagationStopped())break e;mv(m,k,Y),_=M}}}if(he)throw s=Se,he=!1,Se=null,s}function Ot(s,a){var u=a[Pp];u===void 0&&(u=a[Pp]=new Set);var f=s+"__bubble";u.has(f)||(yv(a,s,2,!1),u.add(f))}function Ep(s,a,u){var f=0;a&&(f|=4),yv(u,s,f,a)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function Tu(s){if(!s[Ad]){s[Ad]=!0,r.forEach(function(u){u!=="selectionchange"&&(JP.has(u)||Ep(u,!1,s),Ep(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ad]||(a[Ad]=!0,Ep("selectionchange",!1,a))}}function yv(s,a,u,f){switch(Ua(a)){case 1:var m=Oi;break;case 4:m=_d;break;default:m=hu}u=m.bind(null,a,u,s),m=void 0,!ir||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(a,u,{capture:!0,passive:m}):s.addEventListener(a,u,!0):m!==void 0?s.addEventListener(a,u,{passive:m}):s.addEventListener(a,u,!1)}function Tp(s,a,u,f,m){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var k=f.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(T===4)for(T=f.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;k!==null;){if(T=jo(k),T===null)return;if(M=T.tag,M===5||M===6){f=_=T;continue e}k=k.parentNode}}f=f.return}Dt(function(){var Y=_,ae=Tn(u),le=[];e:{var se=fv.get(s);if(se!==void 0){var Ie=Bo,xe=s;switch(s){case"keypress":if(Uo(u)===0)break e;case"keydown":case"keyup":Ie=It;break;case"focusin":xe="focus",Ie=Ln;break;case"focusout":xe="blur",Ie=Ln;break;case"beforeblur":case"afterblur":Ie=Ln;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Fi;break;case uv:case cv:case dv:Ie=Id;break;case hv:Ie=qa;break;case"scroll":Ie=za;break;case"wheel":Ie=OP;break;case"copy":case"cut":case"paste":Ie=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Mr}var Oe=(a&4)!==0,nn=!Oe&&s==="scroll",H=Oe?se!==null?se+"Capture":null:se;Oe=[];for(var B=Y,Q;B!==null;){Q=B;var me=Q.stateNode;if(Q.tag===5&&me!==null&&(Q=me,H!==null&&(me=Kt(B,H),me!=null&&Oe.push(Iu(B,me,Q)))),nn)break;B=B.return}0<Oe.length&&(se=new Ie(se,xe,null,u,ae),le.push({event:se,listeners:Oe}))}}if((a&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",Ie=s==="mouseout"||s==="pointerout",se&&u!==yr&&(xe=u.relatedTarget||u.fromElement)&&(jo(xe)||xe[hs]))break e;if((Ie||se)&&(se=ae.window===ae?ae:(se=ae.ownerDocument)?se.defaultView||se.parentWindow:window,Ie?(xe=u.relatedTarget||u.toElement,Ie=Y,xe=xe?jo(xe):null,xe!==null&&(nn=Pe(xe),xe!==nn||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(Ie=null,xe=Y),Ie!==xe)){if(Oe=pu,me="onMouseLeave",H="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Oe=Mr,me="onPointerLeave",H="onPointerEnter",B="pointer"),nn=Ie==null?se:Ja(Ie),Q=xe==null?se:Ja(xe),se=new Oe(me,B+"leave",Ie,u,ae),se.target=nn,se.relatedTarget=Q,me=null,jo(ae)===Y&&(Oe=new Oe(H,B+"enter",xe,u,ae),Oe.target=Q,Oe.relatedTarget=nn,me=Oe),nn=me,Ie&&xe)t:{for(Oe=Ie,H=xe,B=0,Q=Oe;Q;Q=Qa(Q))B++;for(Q=0,me=H;me;me=Qa(me))Q++;for(;0<B-Q;)Oe=Qa(Oe),B--;for(;0<Q-B;)H=Qa(H),Q--;for(;B--;){if(Oe===H||H!==null&&Oe===H.alternate)break t;Oe=Qa(Oe),H=Qa(H)}Oe=null}else Oe=null;Ie!==null&&_v(le,se,Ie,Oe,!1),xe!==null&&nn!==null&&_v(le,nn,xe,Oe,!0)}}e:{if(se=Y?Ja(Y):window,Ie=se.nodeName&&se.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&se.type==="file")var Me=zP;else if(J_(se))if(Z_)Me=qP;else{Me=$P;var $e=jP}else(Ie=se.nodeName)&&Ie.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Me=HP);if(Me&&(Me=Me(s,Y))){X_(le,Me,u,ae);break e}$e&&$e(s,se,Y),s==="focusout"&&($e=se._wrapperState)&&$e.controlled&&se.type==="number"&&ht(se,"number",se.value)}switch($e=Y?Ja(Y):window,s){case"focusin":(J_($e)||$e.contentEditable==="true")&&(Ka=$e,gp=Y,wu=null);break;case"focusout":wu=gp=Ka=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,av(le,u,ae);break;case"selectionchange":if(GP)break;case"keydown":case"keyup":av(le,u,ae)}var He;if(hp)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Wa?Q_(s,u)&&(Ge="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ge="onCompositionStart");Ge&&(W_&&u.locale!=="ko"&&(Wa||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Wa&&(He=vd()):(Vr=ae,Ba="value"in Vr?Vr.value:Vr.textContent,Wa=!0)),$e=Pd(Y,Ge),0<$e.length&&(Ge=new E(Ge,s,null,u,ae),le.push({event:Ge,listeners:$e}),He?Ge.data=He:(He=Y_(u),He!==null&&(Ge.data=He)))),(He=LP?MP(s,u):FP(s,u))&&(Y=Pd(Y,"onBeforeInput"),0<Y.length&&(ae=new E("onBeforeInput","beforeinput",null,u,ae),le.push({event:ae,listeners:Y}),ae.data=He))}gv(le,a)})}function Iu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Pd(s,a){for(var u=a+"Capture",f=[];s!==null;){var m=s,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=Kt(s,u),_!=null&&f.unshift(Iu(s,_,m)),_=Kt(s,a),_!=null&&f.push(Iu(s,_,m))),s=s.return}return f}function Qa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function _v(s,a,u,f,m){for(var _=a._reactName,T=[];u!==null&&u!==f;){var k=u,M=k.alternate,Y=k.stateNode;if(M!==null&&M===f)break;k.tag===5&&Y!==null&&(k=Y,m?(M=Kt(u,_),M!=null&&T.unshift(Iu(u,M,k))):m||(M=Kt(u,_),M!=null&&T.push(Iu(u,M,k)))),u=u.return}T.length!==0&&s.push({event:a,listeners:T})}var XP=/\r\n?/g,ZP=/\u0000|\uFFFD/g;function vv(s){return(typeof s=="string"?s:""+s).replace(XP,`
`).replace(ZP,"")}function kd(s,a,u){if(a=vv(a),vv(s)!==a&&u)throw Error(t(425))}function Cd(){}var Ip=null,Sp=null;function bp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,ek=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,tk=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(s){return wv.resolve(null).then(s).catch(nk)}:Rp;function nk(s){setTimeout(function(){throw s})}function Ap(s,a){var u=a,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),js(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);js(a)}function Ws(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Ev(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Ya,Su="__reactProps$"+Ya,hs="__reactContainer$"+Ya,Pp="__reactEvents$"+Ya,rk="__reactListeners$"+Ya,ik="__reactHandles$"+Ya;function jo(s){var a=s[Bi];if(a)return a;for(var u=s.parentNode;u;){if(a=u[hs]||u[Bi]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Ev(s);s!==null;){if(u=s[Bi])return u;s=Ev(s)}return a}s=u,u=s.parentNode}return null}function bu(s){return s=s[Bi]||s[hs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ja(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function xd(s){return s[Su]||null}var kp=[],Xa=-1;function Ks(s){return{current:s}}function Vt(s){0>Xa||(s.current=kp[Xa],kp[Xa]=null,Xa--)}function kt(s,a){Xa++,kp[Xa]=s.current,s.current=a}var Gs={},Wn=Ks(Gs),wr=Ks(!1),$o=Gs;function Za(s,a){var u=s.type.contextTypes;if(!u)return Gs;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=a[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function Er(s){return s=s.childContextTypes,s!=null}function Dd(){Vt(wr),Vt(Wn)}function Tv(s,a,u){if(Wn.current!==Gs)throw Error(t(168));kt(Wn,a),kt(wr,u)}function Iv(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in a))throw Error(t(108,Ce(s)||"Unknown",m));return ne({},u,f)}function Nd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Gs,$o=Wn.current,kt(Wn,s),kt(wr,wr.current),!0}function Sv(s,a,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=Iv(s,a,$o),f.__reactInternalMemoizedMergedChildContext=s,Vt(wr),Vt(Wn),kt(Wn,s)):Vt(wr),kt(wr,u)}var fs=null,Od=!1,Cp=!1;function bv(s){fs===null?fs=[s]:fs.push(s)}function sk(s){Od=!0,bv(s)}function Qs(){if(!Cp&&fs!==null){Cp=!0;var s=0,a=ut;try{var u=fs;for(ut=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}fs=null,Od=!1}catch(m){throw fs!==null&&(fs=fs.slice(s+1)),Mt(sr,Qs),m}finally{ut=a,Cp=!1}}return null}var el=[],tl=0,Vd=null,Ld=0,Zr=[],ei=0,Ho=null,ps=1,ms="";function qo(s,a){el[tl++]=Ld,el[tl++]=Vd,Vd=s,Ld=a}function Rv(s,a,u){Zr[ei++]=ps,Zr[ei++]=ms,Zr[ei++]=Ho,Ho=s;var f=ps;s=ms;var m=32-vt(f)-1;f&=~(1<<m),u+=1;var _=32-vt(a)+m;if(30<_){var T=m-m%5;_=(f&(1<<T)-1).toString(32),f>>=T,m-=T,ps=1<<32-vt(a)+m|u<<m|f,ms=_+s}else ps=1<<_|u<<m|f,ms=s}function xp(s){s.return!==null&&(qo(s,1),Rv(s,1,0))}function Dp(s){for(;s===Vd;)Vd=el[--tl],el[tl]=null,Ld=el[--tl],el[tl]=null;for(;s===Ho;)Ho=Zr[--ei],Zr[ei]=null,ms=Zr[--ei],Zr[ei]=null,ps=Zr[--ei],Zr[ei]=null}var Fr=null,Ur=null,Ft=!1,_i=null;function Av(s,a){var u=ii(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Pv(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Fr=s,Ur=Ws(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Fr=s,Ur=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Ho!==null?{id:ps,overflow:ms}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=ii(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Fr=s,Ur=null,!0):!1;default:return!1}}function Np(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Op(s){if(Ft){var a=Ur;if(a){var u=a;if(!Pv(s,a)){if(Np(s))throw Error(t(418));a=Ws(u.nextSibling);var f=Fr;a&&Pv(s,a)?Av(f,u):(s.flags=s.flags&-4097|2,Ft=!1,Fr=s)}}else{if(Np(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ft=!1,Fr=s}}}function kv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Fr=s}function Md(s){if(s!==Fr)return!1;if(!Ft)return kv(s),Ft=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!bp(s.type,s.memoizedProps)),a&&(a=Ur)){if(Np(s))throw Cv(),Error(t(418));for(;a;)Av(s,a),a=Ws(a.nextSibling)}if(kv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Ur=Ws(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Ur=null}}else Ur=Fr?Ws(s.stateNode.nextSibling):null;return!0}function Cv(){for(var s=Ur;s;)s=Ws(s.nextSibling)}function nl(){Ur=Fr=null,Ft=!1}function Vp(s){_i===null?_i=[s]:_i.push(s)}var ok=oe.ReactCurrentBatchConfig;function Ru(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var m=f,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(T){var k=m.refs;T===null?delete k[_]:k[_]=T},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Fd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function xv(s){var a=s._init;return a(s._payload)}function Dv(s){function a(H,B){if(s){var Q=H.deletions;Q===null?(H.deletions=[B],H.flags|=16):Q.push(B)}}function u(H,B){if(!s)return null;for(;B!==null;)a(H,B),B=B.sibling;return null}function f(H,B){for(H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function m(H,B){return H=ro(H,B),H.index=0,H.sibling=null,H}function _(H,B,Q){return H.index=Q,s?(Q=H.alternate,Q!==null?(Q=Q.index,Q<B?(H.flags|=2,B):Q):(H.flags|=2,B)):(H.flags|=1048576,B)}function T(H){return s&&H.alternate===null&&(H.flags|=2),H}function k(H,B,Q,me){return B===null||B.tag!==6?(B=Rm(Q,H.mode,me),B.return=H,B):(B=m(B,Q),B.return=H,B)}function M(H,B,Q,me){var Me=Q.type;return Me===I?ae(H,B,Q.props.children,me,Q.key):B!==null&&(B.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===fe&&xv(Me)===B.type)?(me=m(B,Q.props),me.ref=Ru(H,B,Q),me.return=H,me):(me=lh(Q.type,Q.key,Q.props,null,H.mode,me),me.ref=Ru(H,B,Q),me.return=H,me)}function Y(H,B,Q,me){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Am(Q,H.mode,me),B.return=H,B):(B=m(B,Q.children||[]),B.return=H,B)}function ae(H,B,Q,me,Me){return B===null||B.tag!==7?(B=Zo(Q,H.mode,me,Me),B.return=H,B):(B=m(B,Q),B.return=H,B)}function le(H,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Rm(""+B,H.mode,Q),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ie:return Q=lh(B.type,B.key,B.props,null,H.mode,Q),Q.ref=Ru(H,null,B),Q.return=H,Q;case ue:return B=Am(B,H.mode,Q),B.return=H,B;case fe:var me=B._init;return le(H,me(B._payload),Q)}if(xt(B)||pe(B))return B=Zo(B,H.mode,Q,null),B.return=H,B;Fd(H,B)}return null}function se(H,B,Q,me){var Me=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Me!==null?null:k(H,B,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case ie:return Q.key===Me?M(H,B,Q,me):null;case ue:return Q.key===Me?Y(H,B,Q,me):null;case fe:return Me=Q._init,se(H,B,Me(Q._payload),me)}if(xt(Q)||pe(Q))return Me!==null?null:ae(H,B,Q,me,null);Fd(H,Q)}return null}function Ie(H,B,Q,me,Me){if(typeof me=="string"&&me!==""||typeof me=="number")return H=H.get(Q)||null,k(B,H,""+me,Me);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case ie:return H=H.get(me.key===null?Q:me.key)||null,M(B,H,me,Me);case ue:return H=H.get(me.key===null?Q:me.key)||null,Y(B,H,me,Me);case fe:var $e=me._init;return Ie(H,B,Q,$e(me._payload),Me)}if(xt(me)||pe(me))return H=H.get(Q)||null,ae(B,H,me,Me,null);Fd(B,me)}return null}function xe(H,B,Q,me){for(var Me=null,$e=null,He=B,Ge=B=0,Rn=null;He!==null&&Ge<Q.length;Ge++){He.index>Ge?(Rn=He,He=null):Rn=He.sibling;var yt=se(H,He,Q[Ge],me);if(yt===null){He===null&&(He=Rn);break}s&&He&&yt.alternate===null&&a(H,He),B=_(yt,B,Ge),$e===null?Me=yt:$e.sibling=yt,$e=yt,He=Rn}if(Ge===Q.length)return u(H,He),Ft&&qo(H,Ge),Me;if(He===null){for(;Ge<Q.length;Ge++)He=le(H,Q[Ge],me),He!==null&&(B=_(He,B,Ge),$e===null?Me=He:$e.sibling=He,$e=He);return Ft&&qo(H,Ge),Me}for(He=f(H,He);Ge<Q.length;Ge++)Rn=Ie(He,H,Ge,Q[Ge],me),Rn!==null&&(s&&Rn.alternate!==null&&He.delete(Rn.key===null?Ge:Rn.key),B=_(Rn,B,Ge),$e===null?Me=Rn:$e.sibling=Rn,$e=Rn);return s&&He.forEach(function(io){return a(H,io)}),Ft&&qo(H,Ge),Me}function Oe(H,B,Q,me){var Me=pe(Q);if(typeof Me!="function")throw Error(t(150));if(Q=Me.call(Q),Q==null)throw Error(t(151));for(var $e=Me=null,He=B,Ge=B=0,Rn=null,yt=Q.next();He!==null&&!yt.done;Ge++,yt=Q.next()){He.index>Ge?(Rn=He,He=null):Rn=He.sibling;var io=se(H,He,yt.value,me);if(io===null){He===null&&(He=Rn);break}s&&He&&io.alternate===null&&a(H,He),B=_(io,B,Ge),$e===null?Me=io:$e.sibling=io,$e=io,He=Rn}if(yt.done)return u(H,He),Ft&&qo(H,Ge),Me;if(He===null){for(;!yt.done;Ge++,yt=Q.next())yt=le(H,yt.value,me),yt!==null&&(B=_(yt,B,Ge),$e===null?Me=yt:$e.sibling=yt,$e=yt);return Ft&&qo(H,Ge),Me}for(He=f(H,He);!yt.done;Ge++,yt=Q.next())yt=Ie(He,H,Ge,yt.value,me),yt!==null&&(s&&yt.alternate!==null&&He.delete(yt.key===null?Ge:yt.key),B=_(yt,B,Ge),$e===null?Me=yt:$e.sibling=yt,$e=yt);return s&&He.forEach(function(Uk){return a(H,Uk)}),Ft&&qo(H,Ge),Me}function nn(H,B,Q,me){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case ie:e:{for(var Me=Q.key,$e=B;$e!==null;){if($e.key===Me){if(Me=Q.type,Me===I){if($e.tag===7){u(H,$e.sibling),B=m($e,Q.props.children),B.return=H,H=B;break e}}else if($e.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===fe&&xv(Me)===$e.type){u(H,$e.sibling),B=m($e,Q.props),B.ref=Ru(H,$e,Q),B.return=H,H=B;break e}u(H,$e);break}else a(H,$e);$e=$e.sibling}Q.type===I?(B=Zo(Q.props.children,H.mode,me,Q.key),B.return=H,H=B):(me=lh(Q.type,Q.key,Q.props,null,H.mode,me),me.ref=Ru(H,B,Q),me.return=H,H=me)}return T(H);case ue:e:{for($e=Q.key;B!==null;){if(B.key===$e)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){u(H,B.sibling),B=m(B,Q.children||[]),B.return=H,H=B;break e}else{u(H,B);break}else a(H,B);B=B.sibling}B=Am(Q,H.mode,me),B.return=H,H=B}return T(H);case fe:return $e=Q._init,nn(H,B,$e(Q._payload),me)}if(xt(Q))return xe(H,B,Q,me);if(pe(Q))return Oe(H,B,Q,me);Fd(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,B!==null&&B.tag===6?(u(H,B.sibling),B=m(B,Q),B.return=H,H=B):(u(H,B),B=Rm(Q,H.mode,me),B.return=H,H=B),T(H)):u(H,B)}return nn}var rl=Dv(!0),Nv=Dv(!1),Ud=Ks(null),Bd=null,il=null,Lp=null;function Mp(){Lp=il=Bd=null}function Fp(s){var a=Ud.current;Vt(Ud),s._currentValue=a}function Up(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function sl(s,a){Bd=s,Lp=il=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Tr=!0),s.firstContext=null)}function ti(s){var a=s._currentValue;if(Lp!==s)if(s={context:s,memoizedValue:a,next:null},il===null){if(Bd===null)throw Error(t(308));il=s,Bd.dependencies={lanes:0,firstContext:s}}else il=il.next=s;return a}var Wo=null;function Bp(s){Wo===null?Wo=[s]:Wo.push(s)}function Ov(s,a,u,f){var m=a.interleaved;return m===null?(u.next=u,Bp(a)):(u.next=m.next,m.next=u),a.interleaved=u,gs(s,f)}function gs(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ys=!1;function zp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ys(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Js(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(mt&2)!==0){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,gs(s,u)}return m=f.interleaved,m===null?(a.next=a,Bp(f)):(a.next=m.next,m.next=a),f.interleaved=a,gs(s,u)}function zd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,au(s,u)}}function Lv(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=T:_=_.next=T,u=u.next}while(u!==null);_===null?m=_=a:_=_.next=a}else m=_=a;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function jd(s,a,u,f){var m=s.updateQueue;Ys=!1;var _=m.firstBaseUpdate,T=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var M=k,Y=M.next;M.next=null,T===null?_=Y:T.next=Y,T=M;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,k=ae.lastBaseUpdate,k!==T&&(k===null?ae.firstBaseUpdate=Y:k.next=Y,ae.lastBaseUpdate=M))}if(_!==null){var le=m.baseState;T=0,ae=Y=M=null,k=_;do{var se=k.lane,Ie=k.eventTime;if((f&se)===se){ae!==null&&(ae=ae.next={eventTime:Ie,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var xe=s,Oe=k;switch(se=a,Ie=u,Oe.tag){case 1:if(xe=Oe.payload,typeof xe=="function"){le=xe.call(Ie,le,se);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Oe.payload,se=typeof xe=="function"?xe.call(Ie,le,se):xe,se==null)break e;le=ne({},le,se);break e;case 2:Ys=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,se=m.effects,se===null?m.effects=[k]:se.push(k))}else Ie={eventTime:Ie,lane:se,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ae===null?(Y=ae=Ie,M=le):ae=ae.next=Ie,T|=se;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;se=k,k=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);if(ae===null&&(M=le),m.baseState=M,m.firstBaseUpdate=Y,m.lastBaseUpdate=ae,a=m.shared.interleaved,a!==null){m=a;do T|=m.lane,m=m.next;while(m!==a)}else _===null&&(m.shared.lanes=0);Qo|=T,s.lanes=T,s.memoizedState=le}}function Mv(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Au={},zi=Ks(Au),Pu=Ks(Au),ku=Ks(Au);function Ko(s){if(s===Au)throw Error(t(174));return s}function jp(s,a){switch(kt(ku,a),kt(Pu,s),kt(zi,Au),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Yr(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Yr(a,s)}Vt(zi),kt(zi,a)}function ol(){Vt(zi),Vt(Pu),Vt(ku)}function Fv(s){Ko(ku.current);var a=Ko(zi.current),u=Yr(a,s.type);a!==u&&(kt(Pu,s),kt(zi,u))}function $p(s){Pu.current===s&&(Vt(zi),Vt(Pu))}var $t=Ks(0);function $d(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hp=[];function qp(){for(var s=0;s<Hp.length;s++)Hp[s]._workInProgressVersionPrimary=null;Hp.length=0}var Hd=oe.ReactCurrentDispatcher,Wp=oe.ReactCurrentBatchConfig,Go=0,Ht=null,pn=null,Sn=null,qd=!1,Cu=!1,xu=0,ak=0;function Kn(){throw Error(t(321))}function Kp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!yi(s[u],a[u]))return!1;return!0}function Gp(s,a,u,f,m,_){if(Go=_,Ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Hd.current=s===null||s.memoizedState===null?dk:hk,s=u(f,m),Cu){_=0;do{if(Cu=!1,xu=0,25<=_)throw Error(t(301));_+=1,Sn=pn=null,a.updateQueue=null,Hd.current=fk,s=u(f,m)}while(Cu)}if(Hd.current=Gd,a=pn!==null&&pn.next!==null,Go=0,Sn=pn=Ht=null,qd=!1,a)throw Error(t(300));return s}function Qp(){var s=xu!==0;return xu=0,s}function ji(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Ht.memoizedState=Sn=s:Sn=Sn.next=s,Sn}function ni(){if(pn===null){var s=Ht.alternate;s=s!==null?s.memoizedState:null}else s=pn.next;var a=Sn===null?Ht.memoizedState:Sn.next;if(a!==null)Sn=a,pn=s;else{if(s===null)throw Error(t(310));pn=s,s={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},Sn===null?Ht.memoizedState=Sn=s:Sn=Sn.next=s}return Sn}function Du(s,a){return typeof a=="function"?a(s):a}function Yp(s){var a=ni(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=pn,m=f.baseQueue,_=u.pending;if(_!==null){if(m!==null){var T=m.next;m.next=_.next,_.next=T}f.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,f=f.baseState;var k=T=null,M=null,Y=_;do{var ae=Y.lane;if((Go&ae)===ae)M!==null&&(M=M.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:s(f,Y.action);else{var le={lane:ae,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};M===null?(k=M=le,T=f):M=M.next=le,Ht.lanes|=ae,Qo|=ae}Y=Y.next}while(Y!==null&&Y!==_);M===null?T=f:M.next=k,yi(f,a.memoizedState)||(Tr=!0),a.memoizedState=f,a.baseState=T,a.baseQueue=M,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do _=m.lane,Ht.lanes|=_,Qo|=_,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Jp(s){var a=ni(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,_=a.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do _=s(_,T.action),T=T.next;while(T!==m);yi(_,a.memoizedState)||(Tr=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,f]}function Uv(){}function Bv(s,a){var u=Ht,f=ni(),m=a(),_=!yi(f.memoizedState,m);if(_&&(f.memoizedState=m,Tr=!0),f=f.queue,Xp($v.bind(null,u,f,s),[s]),f.getSnapshot!==a||_||Sn!==null&&Sn.memoizedState.tag&1){if(u.flags|=2048,Nu(9,jv.bind(null,u,f,m,a),void 0,null),bn===null)throw Error(t(349));(Go&30)!==0||zv(u,a,m)}return m}function zv(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Ht.updateQueue,a===null?(a={lastEffect:null,stores:null},Ht.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function jv(s,a,u,f){a.value=u,a.getSnapshot=f,Hv(a)&&qv(s)}function $v(s,a,u){return u(function(){Hv(a)&&qv(s)})}function Hv(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!yi(s,u)}catch{return!0}}function qv(s){var a=gs(s,1);a!==null&&Ti(a,s,1,-1)}function Wv(s){var a=ji();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:s},a.queue=s,s=s.dispatch=ck.bind(null,Ht,s),[a.memoizedState,s]}function Nu(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=Ht.updateQueue,a===null?(a={lastEffect:null,stores:null},Ht.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function Kv(){return ni().memoizedState}function Wd(s,a,u,f){var m=ji();Ht.flags|=s,m.memoizedState=Nu(1|a,u,void 0,f===void 0?null:f)}function Kd(s,a,u,f){var m=ni();f=f===void 0?null:f;var _=void 0;if(pn!==null){var T=pn.memoizedState;if(_=T.destroy,f!==null&&Kp(f,T.deps)){m.memoizedState=Nu(a,u,_,f);return}}Ht.flags|=s,m.memoizedState=Nu(1|a,u,_,f)}function Gv(s,a){return Wd(8390656,8,s,a)}function Xp(s,a){return Kd(2048,8,s,a)}function Qv(s,a){return Kd(4,2,s,a)}function Yv(s,a){return Kd(4,4,s,a)}function Jv(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Xv(s,a,u){return u=u!=null?u.concat([s]):null,Kd(4,4,Jv.bind(null,a,s),u)}function Zp(){}function Zv(s,a){var u=ni();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Kp(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function ew(s,a){var u=ni();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Kp(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function tw(s,a,u){return(Go&21)===0?(s.baseState&&(s.baseState=!1,Tr=!0),s.memoizedState=u):(yi(u,a)||(u=su(),Ht.lanes|=u,Qo|=u,s.baseState=!0),a)}function lk(s,a){var u=ut;ut=u!==0&&4>u?u:4,s(!0);var f=Wp.transition;Wp.transition={};try{s(!1),a()}finally{ut=u,Wp.transition=f}}function nw(){return ni().memoizedState}function uk(s,a,u){var f=to(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},rw(s))iw(a,u);else if(u=Ov(s,a,u,f),u!==null){var m=lr();Ti(u,s,f,m),sw(u,a,f)}}function ck(s,a,u){var f=to(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(rw(s))iw(a,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var T=a.lastRenderedState,k=_(T,u);if(m.hasEagerState=!0,m.eagerState=k,yi(k,T)){var M=a.interleaved;M===null?(m.next=m,Bp(a)):(m.next=M.next,M.next=m),a.interleaved=m;return}}catch{}finally{}u=Ov(s,a,m,f),u!==null&&(m=lr(),Ti(u,s,f,m),sw(u,a,f))}}function rw(s){var a=s.alternate;return s===Ht||a!==null&&a===Ht}function iw(s,a){Cu=qd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function sw(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,au(s,u)}}var Gd={readContext:ti,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},dk={readContext:ti,useCallback:function(s,a){return ji().memoizedState=[s,a===void 0?null:a],s},useContext:ti,useEffect:Gv,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Wd(4194308,4,Jv.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Wd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Wd(4,2,s,a)},useMemo:function(s,a){var u=ji();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=ji();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=uk.bind(null,Ht,s),[f.memoizedState,s]},useRef:function(s){var a=ji();return s={current:s},a.memoizedState=s},useState:Wv,useDebugValue:Zp,useDeferredValue:function(s){return ji().memoizedState=s},useTransition:function(){var s=Wv(!1),a=s[0];return s=lk.bind(null,s[1]),ji().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=Ht,m=ji();if(Ft){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),bn===null)throw Error(t(349));(Go&30)!==0||zv(f,a,u)}m.memoizedState=u;var _={value:u,getSnapshot:a};return m.queue=_,Gv($v.bind(null,f,_,s),[s]),f.flags|=2048,Nu(9,jv.bind(null,f,_,u,a),void 0,null),u},useId:function(){var s=ji(),a=bn.identifierPrefix;if(Ft){var u=ms,f=ps;u=(f&~(1<<32-vt(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=xu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=ak++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},hk={readContext:ti,useCallback:Zv,useContext:ti,useEffect:Xp,useImperativeHandle:Xv,useInsertionEffect:Qv,useLayoutEffect:Yv,useMemo:ew,useReducer:Yp,useRef:Kv,useState:function(){return Yp(Du)},useDebugValue:Zp,useDeferredValue:function(s){var a=ni();return tw(a,pn.memoizedState,s)},useTransition:function(){var s=Yp(Du)[0],a=ni().memoizedState;return[s,a]},useMutableSource:Uv,useSyncExternalStore:Bv,useId:nw,unstable_isNewReconciler:!1},fk={readContext:ti,useCallback:Zv,useContext:ti,useEffect:Xp,useImperativeHandle:Xv,useInsertionEffect:Qv,useLayoutEffect:Yv,useMemo:ew,useReducer:Jp,useRef:Kv,useState:function(){return Jp(Du)},useDebugValue:Zp,useDeferredValue:function(s){var a=ni();return pn===null?a.memoizedState=s:tw(a,pn.memoizedState,s)},useTransition:function(){var s=Jp(Du)[0],a=ni().memoizedState;return[s,a]},useMutableSource:Uv,useSyncExternalStore:Bv,useId:nw,unstable_isNewReconciler:!1};function vi(s,a){if(s&&s.defaultProps){a=ne({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function em(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:ne({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Qd={isMounted:function(s){return(s=s._reactInternals)?Pe(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=lr(),m=to(s),_=ys(f,m);_.payload=a,u!=null&&(_.callback=u),a=Js(s,_,m),a!==null&&(Ti(a,s,m,f),zd(a,s,m))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=lr(),m=to(s),_=ys(f,m);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=Js(s,_,m),a!==null&&(Ti(a,s,m,f),zd(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=lr(),f=to(s),m=ys(u,f);m.tag=2,a!=null&&(m.callback=a),a=Js(s,m,f),a!==null&&(Ti(a,s,f,u),zd(a,s,f))}};function ow(s,a,u,f,m,_,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,T):a.prototype&&a.prototype.isPureReactComponent?!vu(u,f)||!vu(m,_):!0}function aw(s,a,u){var f=!1,m=Gs,_=a.contextType;return typeof _=="object"&&_!==null?_=ti(_):(m=Er(a)?$o:Wn.current,f=a.contextTypes,_=(f=f!=null)?Za(s,m):Gs),a=new a(u,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Qd,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=_),a}function lw(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Qd.enqueueReplaceState(a,a.state,null)}function tm(s,a,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},zp(s);var _=a.contextType;typeof _=="object"&&_!==null?m.context=ti(_):(_=Er(a)?$o:Wn.current,m.context=Za(s,_)),m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(em(s,a,_,u),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Qd.enqueueReplaceState(m,m.state,null),jd(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function al(s,a){try{var u="",f=a;do u+=ve(f),f=f.return;while(f);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:m,digest:null}}function nm(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function rm(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var pk=typeof WeakMap=="function"?WeakMap:Map;function uw(s,a,u){u=ys(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){nh||(nh=!0,_m=f),rm(s,a)},u}function cw(s,a,u){u=ys(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;u.payload=function(){return f(m)},u.callback=function(){rm(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){rm(s,a),typeof f!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),u}function dw(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new pk;var m=new Set;f.set(a,m)}else m=f.get(a),m===void 0&&(m=new Set,f.set(a,m));m.has(u)||(m.add(u),s=Pk.bind(null,s,a,u),a.then(s,s))}function hw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function fw(s,a,u,f,m){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=ys(-1,1),a.tag=2,Js(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var mk=oe.ReactCurrentOwner,Tr=!1;function ar(s,a,u,f){a.child=s===null?Nv(a,null,u,f):rl(a,s.child,u,f)}function pw(s,a,u,f,m){u=u.render;var _=a.ref;return sl(a,m),f=Gp(s,a,u,f,_,m),u=Qp(),s!==null&&!Tr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,_s(s,a,m)):(Ft&&u&&xp(a),a.flags|=1,ar(s,a,f,m),a.child)}function mw(s,a,u,f,m){if(s===null){var _=u.type;return typeof _=="function"&&!bm(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,gw(s,a,_,f,m)):(s=lh(u.type,null,f,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&m)===0){var T=_.memoizedProps;if(u=u.compare,u=u!==null?u:vu,u(T,f)&&s.ref===a.ref)return _s(s,a,m)}return a.flags|=1,s=ro(_,f),s.ref=a.ref,s.return=a,a.child=s}function gw(s,a,u,f,m){if(s!==null){var _=s.memoizedProps;if(vu(_,f)&&s.ref===a.ref)if(Tr=!1,a.pendingProps=f=_,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Tr=!0);else return a.lanes=s.lanes,_s(s,a,m)}return im(s,a,u,f,m)}function yw(s,a,u){var f=a.pendingProps,m=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(ul,Br),Br|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,kt(ul,Br),Br|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,kt(ul,Br),Br|=f}else _!==null?(f=_.baseLanes|u,a.memoizedState=null):f=u,kt(ul,Br),Br|=f;return ar(s,a,m,u),a.child}function _w(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function im(s,a,u,f,m){var _=Er(u)?$o:Wn.current;return _=Za(a,_),sl(a,m),u=Gp(s,a,u,f,_,m),f=Qp(),s!==null&&!Tr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,_s(s,a,m)):(Ft&&f&&xp(a),a.flags|=1,ar(s,a,u,m),a.child)}function vw(s,a,u,f,m){if(Er(u)){var _=!0;Nd(a)}else _=!1;if(sl(a,m),a.stateNode===null)Jd(s,a),aw(a,u,f),tm(a,u,f,m),f=!0;else if(s===null){var T=a.stateNode,k=a.memoizedProps;T.props=k;var M=T.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=ti(Y):(Y=Er(u)?$o:Wn.current,Y=Za(a,Y));var ae=u.getDerivedStateFromProps,le=typeof ae=="function"||typeof T.getSnapshotBeforeUpdate=="function";le||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==f||M!==Y)&&lw(a,T,f,Y),Ys=!1;var se=a.memoizedState;T.state=se,jd(a,f,T,m),M=a.memoizedState,k!==f||se!==M||wr.current||Ys?(typeof ae=="function"&&(em(a,u,ae,f),M=a.memoizedState),(k=Ys||ow(a,u,k,f,se,M,Y))?(le||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=M),T.props=f,T.state=M,T.context=Y,f=k):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,Vv(s,a),k=a.memoizedProps,Y=a.type===a.elementType?k:vi(a.type,k),T.props=Y,le=a.pendingProps,se=T.context,M=u.contextType,typeof M=="object"&&M!==null?M=ti(M):(M=Er(u)?$o:Wn.current,M=Za(a,M));var Ie=u.getDerivedStateFromProps;(ae=typeof Ie=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==le||se!==M)&&lw(a,T,f,M),Ys=!1,se=a.memoizedState,T.state=se,jd(a,f,T,m);var xe=a.memoizedState;k!==le||se!==xe||wr.current||Ys?(typeof Ie=="function"&&(em(a,u,Ie,f),xe=a.memoizedState),(Y=Ys||ow(a,u,Y,f,se,xe,M)||!1)?(ae||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,xe,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,xe,M)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=xe),T.props=f,T.state=xe,T.context=M,f=Y):(typeof T.componentDidUpdate!="function"||k===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),f=!1)}return sm(s,a,u,f,_,m)}function sm(s,a,u,f,m,_){_w(s,a);var T=(a.flags&128)!==0;if(!f&&!T)return m&&Sv(a,u,!1),_s(s,a,_);f=a.stateNode,mk.current=a;var k=T&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&T?(a.child=rl(a,s.child,null,_),a.child=rl(a,null,k,_)):ar(s,a,k,_),a.memoizedState=f.state,m&&Sv(a,u,!0),a.child}function ww(s){var a=s.stateNode;a.pendingContext?Tv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Tv(s,a.context,!1),jp(s,a.containerInfo)}function Ew(s,a,u,f,m){return nl(),Vp(m),a.flags|=256,ar(s,a,u,f),a.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(s){return{baseLanes:s,cachePool:null,transitions:null}}function Tw(s,a,u){var f=a.pendingProps,m=$t.current,_=!1,T=(a.flags&128)!==0,k;if((k=T)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),kt($t,m&1),s===null)return Op(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=f.children,s=f.fallback,_?(f=a.mode,_=a.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=uh(T,f,0,null),s=Zo(s,f,u,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=am(u),a.memoizedState=om,s):lm(a,T));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return gk(s,a,T,f,k,m,u);if(_){_=f.fallback,T=a.mode,m=s.child,k=m.sibling;var M={mode:"hidden",children:f.children};return(T&1)===0&&a.child!==m?(f=a.child,f.childLanes=0,f.pendingProps=M,a.deletions=null):(f=ro(m,M),f.subtreeFlags=m.subtreeFlags&14680064),k!==null?_=ro(k,_):(_=Zo(_,T,u,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,T=s.child.memoizedState,T=T===null?am(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=s.childLanes&~u,a.memoizedState=om,f}return _=s.child,s=_.sibling,f=ro(_,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function lm(s,a){return a=uh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Yd(s,a,u,f){return f!==null&&Vp(f),rl(a,s.child,null,u),s=lm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function gk(s,a,u,f,m,_,T){if(u)return a.flags&256?(a.flags&=-257,f=nm(Error(t(422))),Yd(s,a,T,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=f.fallback,m=a.mode,f=uh({mode:"visible",children:f.children},m,0,null),_=Zo(_,m,T,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,(a.mode&1)!==0&&rl(a,s.child,null,T),a.child.memoizedState=am(T),a.memoizedState=om,_);if((a.mode&1)===0)return Yd(s,a,T,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var k=f.dgst;return f=k,_=Error(t(419)),f=nm(_,f,void 0),Yd(s,a,T,f)}if(k=(T&s.childLanes)!==0,Tr||k){if(f=bn,f!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|T))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,gs(s,m),Ti(f,s,m,-1))}return Sm(),f=nm(Error(t(421))),Yd(s,a,T,f)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=kk.bind(null,s),m._reactRetry=a,null):(s=_.treeContext,Ur=Ws(m.nextSibling),Fr=a,Ft=!0,_i=null,s!==null&&(Zr[ei++]=ps,Zr[ei++]=ms,Zr[ei++]=Ho,ps=s.id,ms=s.overflow,Ho=a),a=lm(a,f.children),a.flags|=4096,a)}function Iw(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Up(s.return,a,u)}function um(s,a,u,f,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=m)}function Sw(s,a,u){var f=a.pendingProps,m=f.revealOrder,_=f.tail;if(ar(s,a,f.children,u),f=$t.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Iw(s,u,a);else if(s.tag===19)Iw(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(kt($t,f),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(u=a.child,m=null;u!==null;)s=u.alternate,s!==null&&$d(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),um(a,!1,m,u,_);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&$d(s)===null){a.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}um(a,!0,u,null,_);break;case"together":um(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Jd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function _s(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Qo|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=ro(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=ro(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function yk(s,a,u){switch(a.tag){case 3:ww(a),nl();break;case 5:Fv(a);break;case 1:Er(a.type)&&Nd(a);break;case 4:jp(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,m=a.memoizedProps.value;kt(Ud,f._currentValue),f._currentValue=m;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(kt($t,$t.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Tw(s,a,u):(kt($t,$t.current&1),s=_s(s,a,u),s!==null?s.sibling:null);kt($t,$t.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return Sw(s,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),kt($t,$t.current),f)break;return null;case 22:case 23:return a.lanes=0,yw(s,a,u)}return _s(s,a,u)}var bw,cm,Rw,Aw;bw=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},cm=function(){},Rw=function(s,a,u,f){var m=s.memoizedProps;if(m!==f){s=a.stateNode,Ko(zi.current);var _=null;switch(u){case"input":m=xr(s,m),f=xr(s,f),_=[];break;case"select":m=ne({},m,{value:void 0}),f=ne({},f,{value:void 0}),_=[];break;case"textarea":m=Zt(s,m),f=Zt(s,f),_=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Cd)}Nn(u,f);var T;u=null;for(Y in m)if(!f.hasOwnProperty(Y)&&m.hasOwnProperty(Y)&&m[Y]!=null)if(Y==="style"){var k=m[Y];for(T in k)k.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?_||(_=[]):(_=_||[]).push(Y,null));for(Y in f){var M=f[Y];if(k=m!=null?m[Y]:void 0,f.hasOwnProperty(Y)&&M!==k&&(M!=null||k!=null))if(Y==="style")if(k){for(T in k)!k.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in M)M.hasOwnProperty(T)&&k[T]!==M[T]&&(u||(u={}),u[T]=M[T])}else u||(_||(_=[]),_.push(Y,u)),u=M;else Y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,k=k?k.__html:void 0,M!=null&&k!==M&&(_=_||[]).push(Y,M)):Y==="children"?typeof M!="string"&&typeof M!="number"||(_=_||[]).push(Y,""+M):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(M!=null&&Y==="onScroll"&&Ot("scroll",s),_||k===M||(_=[])):(_=_||[]).push(Y,M))}u&&(_=_||[]).push("style",u);var Y=_;(a.updateQueue=Y)&&(a.flags|=4)}},Aw=function(s,a,u,f){u!==f&&(a.flags|=4)};function Ou(s,a){if(!Ft)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Gn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function _k(s,a,u){var f=a.pendingProps;switch(Dp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(a),null;case 1:return Er(a.type)&&Dd(),Gn(a),null;case 3:return f=a.stateNode,ol(),Vt(wr),Vt(Wn),qp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Md(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_i!==null&&(Em(_i),_i=null))),cm(s,a),Gn(a),null;case 5:$p(a);var m=Ko(ku.current);if(u=a.type,s!==null&&a.stateNode!=null)Rw(s,a,u,f,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Gn(a),null}if(s=Ko(zi.current),Md(a)){f=a.stateNode,u=a.type;var _=a.memoizedProps;switch(f[Bi]=a,f[Su]=_,s=(a.mode&1)!==0,u){case"dialog":Ot("cancel",f),Ot("close",f);break;case"iframe":case"object":case"embed":Ot("load",f);break;case"video":case"audio":for(m=0;m<Eu.length;m++)Ot(Eu[m],f);break;case"source":Ot("error",f);break;case"img":case"image":case"link":Ot("error",f),Ot("load",f);break;case"details":Ot("toggle",f);break;case"input":Us(f,_),Ot("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Ot("invalid",f);break;case"textarea":mr(f,_),Ot("invalid",f)}Nn(u,_),m=null;for(var T in _)if(_.hasOwnProperty(T)){var k=_[T];T==="children"?typeof k=="string"?f.textContent!==k&&(_.suppressHydrationWarning!==!0&&kd(f.textContent,k,s),m=["children",k]):typeof k=="number"&&f.textContent!==""+k&&(_.suppressHydrationWarning!==!0&&kd(f.textContent,k,s),m=["children",""+k]):i.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&Ot("scroll",f)}switch(u){case"input":pr(f),Pi(f,_,!0);break;case"textarea":pr(f),jn(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Cd)}f=m,a.updateQueue=f,f!==null&&(a.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Dr(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=T.createElement(u,{is:f.is}):(s=T.createElement(u),u==="select"&&(T=s,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):s=T.createElementNS(s,u),s[Bi]=a,s[Su]=f,bw(s,a,!1,!1),a.stateNode=s;e:{switch(T=hi(u,f),u){case"dialog":Ot("cancel",s),Ot("close",s),m=f;break;case"iframe":case"object":case"embed":Ot("load",s),m=f;break;case"video":case"audio":for(m=0;m<Eu.length;m++)Ot(Eu[m],s);m=f;break;case"source":Ot("error",s),m=f;break;case"img":case"image":case"link":Ot("error",s),Ot("load",s),m=f;break;case"details":Ot("toggle",s),m=f;break;case"input":Us(s,f),m=xr(s,f),Ot("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=ne({},f,{value:void 0}),Ot("invalid",s);break;case"textarea":mr(s,f),m=Zt(s,f),Ot("invalid",s);break;default:m=f}Nn(u,m),k=m;for(_ in k)if(k.hasOwnProperty(_)){var M=k[_];_==="style"?En(s,M):_==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&wn(s,M)):_==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&Dn(s,M):typeof M=="number"&&Dn(s,""+M):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?M!=null&&_==="onScroll"&&Ot("scroll",s):M!=null&&Z(s,_,M,T))}switch(u){case"input":pr(s),Pi(s,f,!1);break;case"textarea":pr(s),jn(s);break;case"option":f.value!=null&&s.setAttribute("value",""+qe(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?nr(s,!!f.multiple,_,!1):f.defaultValue!=null&&nr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Cd)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Gn(a),null;case 6:if(s&&a.stateNode!=null)Aw(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(u=Ko(ku.current),Ko(zi.current),Md(a)){if(f=a.stateNode,u=a.memoizedProps,f[Bi]=a,(_=f.nodeValue!==u)&&(s=Fr,s!==null))switch(s.tag){case 3:kd(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&kd(f.nodeValue,u,(s.mode&1)!==0)}_&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Bi]=a,a.stateNode=f}return Gn(a),null;case 13:if(Vt($t),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ft&&Ur!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Cv(),nl(),a.flags|=98560,_=!1;else if(_=Md(a),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Bi]=a}else nl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Gn(a),_=!1}else _i!==null&&(Em(_i),_i=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||($t.current&1)!==0?mn===0&&(mn=3):Sm())),a.updateQueue!==null&&(a.flags|=4),Gn(a),null);case 4:return ol(),cm(s,a),s===null&&Tu(a.stateNode.containerInfo),Gn(a),null;case 10:return Fp(a.type._context),Gn(a),null;case 17:return Er(a.type)&&Dd(),Gn(a),null;case 19:if(Vt($t),_=a.memoizedState,_===null)return Gn(a),null;if(f=(a.flags&128)!==0,T=_.rendering,T===null)if(f)Ou(_,!1);else{if(mn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=$d(s),T!==null){for(a.flags|=128,Ou(_,!1),f=T.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)_=u,s=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,s=T.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return kt($t,$t.current&1|2),a.child}s=s.sibling}_.tail!==null&&ft()>cl&&(a.flags|=128,f=!0,Ou(_,!1),a.lanes=4194304)}else{if(!f)if(s=$d(T),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Ou(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!Ft)return Gn(a),null}else 2*ft()-_.renderingStartTime>cl&&u!==1073741824&&(a.flags|=128,f=!0,Ou(_,!1),a.lanes=4194304);_.isBackwards?(T.sibling=a.child,a.child=T):(u=_.last,u!==null?u.sibling=T:a.child=T,_.last=T)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=ft(),a.sibling=null,u=$t.current,kt($t,f?u&1|2:u&1),a):(Gn(a),null);case 22:case 23:return Im(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Br&1073741824)!==0&&(Gn(a),a.subtreeFlags&6&&(a.flags|=8192)):Gn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function vk(s,a){switch(Dp(a),a.tag){case 1:return Er(a.type)&&Dd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ol(),Vt(wr),Vt(Wn),qp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return $p(a),null;case 13:if(Vt($t),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));nl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Vt($t),null;case 4:return ol(),null;case 10:return Fp(a.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var Xd=!1,Qn=!1,wk=typeof WeakSet=="function"?WeakSet:Set,ke=null;function ll(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Yt(s,a,f)}else u.current=null}function dm(s,a,u){try{u()}catch(f){Yt(s,a,f)}}var Pw=!1;function Ek(s,a){if(Ip=us,s=ov(),mp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var T=0,k=-1,M=-1,Y=0,ae=0,le=s,se=null;t:for(;;){for(var Ie;le!==u||m!==0&&le.nodeType!==3||(k=T+m),le!==_||f!==0&&le.nodeType!==3||(M=T+f),le.nodeType===3&&(T+=le.nodeValue.length),(Ie=le.firstChild)!==null;)se=le,le=Ie;for(;;){if(le===s)break t;if(se===u&&++Y===m&&(k=T),se===_&&++ae===f&&(M=T),(Ie=le.nextSibling)!==null)break;le=se,se=le.parentNode}le=Ie}u=k===-1||M===-1?null:{start:k,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Sp={focusedElem:s,selectionRange:u},us=!1,ke=a;ke!==null;)if(a=ke,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ke=s;else for(;ke!==null;){a=ke;try{var xe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var Oe=xe.memoizedProps,nn=xe.memoizedState,H=a.stateNode,B=H.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:vi(a.type,Oe),nn);H.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(me){Yt(a,a.return,me)}if(s=a.sibling,s!==null){s.return=a.return,ke=s;break}ke=a.return}return xe=Pw,Pw=!1,xe}function Vu(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var _=m.destroy;m.destroy=void 0,_!==void 0&&dm(a,u,_)}m=m.next}while(m!==f)}}function Zd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function hm(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function kw(s){var a=s.alternate;a!==null&&(s.alternate=null,kw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Bi],delete a[Su],delete a[Pp],delete a[rk],delete a[ik])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Cw(s){return s.tag===5||s.tag===3||s.tag===4}function xw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Cw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Cd));else if(f!==4&&(s=s.child,s!==null))for(fm(s,a,u),s=s.sibling;s!==null;)fm(s,a,u),s=s.sibling}function pm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(pm(s,a,u),s=s.sibling;s!==null;)pm(s,a,u),s=s.sibling}var Mn=null,wi=!1;function Xs(s,a,u){for(u=u.child;u!==null;)Dw(s,a,u),u=u.sibling}function Dw(s,a,u){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Xr,u)}catch{}switch(u.tag){case 5:Qn||ll(u,a);case 6:var f=Mn,m=wi;Mn=null,Xs(s,a,u),Mn=f,wi=m,Mn!==null&&(wi?(s=Mn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Mn.removeChild(u.stateNode));break;case 18:Mn!==null&&(wi?(s=Mn,u=u.stateNode,s.nodeType===8?Ap(s.parentNode,u):s.nodeType===1&&Ap(s,u),js(s)):Ap(Mn,u.stateNode));break;case 4:f=Mn,m=wi,Mn=u.stateNode.containerInfo,wi=!0,Xs(s,a,u),Mn=f,wi=m;break;case 0:case 11:case 14:case 15:if(!Qn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var _=m,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&dm(u,a,T),m=m.next}while(m!==f)}Xs(s,a,u);break;case 1:if(!Qn&&(ll(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(k){Yt(u,a,k)}Xs(s,a,u);break;case 21:Xs(s,a,u);break;case 22:u.mode&1?(Qn=(f=Qn)||u.memoizedState!==null,Xs(s,a,u),Qn=f):Xs(s,a,u);break;default:Xs(s,a,u)}}function Nw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new wk),a.forEach(function(f){var m=Ck.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function Ei(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var _=s,T=a,k=T;e:for(;k!==null;){switch(k.tag){case 5:Mn=k.stateNode,wi=!1;break e;case 3:Mn=k.stateNode.containerInfo,wi=!0;break e;case 4:Mn=k.stateNode.containerInfo,wi=!0;break e}k=k.return}if(Mn===null)throw Error(t(160));Dw(_,T,m),Mn=null,wi=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(Y){Yt(m,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ow(a,s),a=a.sibling}function Ow(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ei(a,s),$i(s),f&4){try{Vu(3,s,s.return),Zd(3,s)}catch(Oe){Yt(s,s.return,Oe)}try{Vu(5,s,s.return)}catch(Oe){Yt(s,s.return,Oe)}}break;case 1:Ei(a,s),$i(s),f&512&&u!==null&&ll(u,u.return);break;case 5:if(Ei(a,s),$i(s),f&512&&u!==null&&ll(u,u.return),s.flags&32){var m=s.stateNode;try{Dn(m,"")}catch(Oe){Yt(s,s.return,Oe)}}if(f&4&&(m=s.stateNode,m!=null)){var _=s.memoizedProps,T=u!==null?u.memoizedProps:_,k=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{k==="input"&&_.type==="radio"&&_.name!=null&&xn(m,_),hi(k,T);var Y=hi(k,_);for(T=0;T<M.length;T+=2){var ae=M[T],le=M[T+1];ae==="style"?En(m,le):ae==="dangerouslySetInnerHTML"?wn(m,le):ae==="children"?Dn(m,le):Z(m,ae,le,Y)}switch(k){case"input":tr(m,_);break;case"textarea":gr(m,_);break;case"select":var se=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var Ie=_.value;Ie!=null?nr(m,!!_.multiple,Ie,!1):se!==!!_.multiple&&(_.defaultValue!=null?nr(m,!!_.multiple,_.defaultValue,!0):nr(m,!!_.multiple,_.multiple?[]:"",!1))}m[Su]=_}catch(Oe){Yt(s,s.return,Oe)}}break;case 6:if(Ei(a,s),$i(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,_=s.memoizedProps;try{m.nodeValue=_}catch(Oe){Yt(s,s.return,Oe)}}break;case 3:if(Ei(a,s),$i(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{js(a.containerInfo)}catch(Oe){Yt(s,s.return,Oe)}break;case 4:Ei(a,s),$i(s);break;case 13:Ei(a,s),$i(s),m=s.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(ym=ft())),f&4&&Nw(s);break;case 22:if(ae=u!==null&&u.memoizedState!==null,s.mode&1?(Qn=(Y=Qn)||ae,Ei(a,s),Qn=Y):Ei(a,s),$i(s),f&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ae&&(s.mode&1)!==0)for(ke=s,ae=s.child;ae!==null;){for(le=ke=ae;ke!==null;){switch(se=ke,Ie=se.child,se.tag){case 0:case 11:case 14:case 15:Vu(4,se,se.return);break;case 1:ll(se,se.return);var xe=se.stateNode;if(typeof xe.componentWillUnmount=="function"){f=se,u=se.return;try{a=f,xe.props=a.memoizedProps,xe.state=a.memoizedState,xe.componentWillUnmount()}catch(Oe){Yt(f,u,Oe)}}break;case 5:ll(se,se.return);break;case 22:if(se.memoizedState!==null){Mw(le);continue}}Ie!==null?(Ie.return=se,ke=Ie):Mw(le)}ae=ae.sibling}e:for(ae=null,le=s;;){if(le.tag===5){if(ae===null){ae=le;try{m=le.stateNode,Y?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(k=le.stateNode,M=le.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,k.style.display=Jr("display",T))}catch(Oe){Yt(s,s.return,Oe)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(Oe){Yt(s,s.return,Oe)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Ei(a,s),$i(s),f&4&&Nw(s);break;case 21:break;default:Ei(a,s),$i(s)}}function $i(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Cw(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(Dn(m,""),f.flags&=-33);var _=xw(s);pm(s,_,m);break;case 3:case 4:var T=f.stateNode.containerInfo,k=xw(s);fm(s,k,T);break;default:throw Error(t(161))}}catch(M){Yt(s,s.return,M)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Tk(s,a,u){ke=s,Vw(s)}function Vw(s,a,u){for(var f=(s.mode&1)!==0;ke!==null;){var m=ke,_=m.child;if(m.tag===22&&f){var T=m.memoizedState!==null||Xd;if(!T){var k=m.alternate,M=k!==null&&k.memoizedState!==null||Qn;k=Xd;var Y=Qn;if(Xd=T,(Qn=M)&&!Y)for(ke=m;ke!==null;)T=ke,M=T.child,T.tag===22&&T.memoizedState!==null?Fw(m):M!==null?(M.return=T,ke=M):Fw(m);for(;_!==null;)ke=_,Vw(_),_=_.sibling;ke=m,Xd=k,Qn=Y}Lw(s)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,ke=_):Lw(s)}}function Lw(s){for(;ke!==null;){var a=ke;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Qn||Zd(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Qn)if(u===null)f.componentDidMount();else{var m=a.elementType===a.type?u.memoizedProps:vi(a.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&Mv(a,_,f);break;case 3:var T=a.updateQueue;if(T!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Mv(a,T,u)}break;case 5:var k=a.stateNode;if(u===null&&a.flags&4){u=k;var M=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var ae=Y.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&js(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qn||a.flags&512&&hm(a)}catch(se){Yt(a,a.return,se)}}if(a===s){ke=null;break}if(u=a.sibling,u!==null){u.return=a.return,ke=u;break}ke=a.return}}function Mw(s){for(;ke!==null;){var a=ke;if(a===s){ke=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ke=u;break}ke=a.return}}function Fw(s){for(;ke!==null;){var a=ke;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Zd(4,a)}catch(M){Yt(a,u,M)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var m=a.return;try{f.componentDidMount()}catch(M){Yt(a,m,M)}}var _=a.return;try{hm(a)}catch(M){Yt(a,_,M)}break;case 5:var T=a.return;try{hm(a)}catch(M){Yt(a,T,M)}}}catch(M){Yt(a,a.return,M)}if(a===s){ke=null;break}var k=a.sibling;if(k!==null){k.return=a.return,ke=k;break}ke=a.return}}var Ik=Math.ceil,eh=oe.ReactCurrentDispatcher,mm=oe.ReactCurrentOwner,ri=oe.ReactCurrentBatchConfig,mt=0,bn=null,an=null,Fn=0,Br=0,ul=Ks(0),mn=0,Lu=null,Qo=0,th=0,gm=0,Mu=null,Ir=null,ym=0,cl=1/0,vs=null,nh=!1,_m=null,Zs=null,rh=!1,eo=null,ih=0,Fu=0,vm=null,sh=-1,oh=0;function lr(){return(mt&6)!==0?ft():sh!==-1?sh:sh=ft()}function to(s){return(s.mode&1)===0?1:(mt&2)!==0&&Fn!==0?Fn&-Fn:ok.transition!==null?(oh===0&&(oh=su()),oh):(s=ut,s!==0||(s=window.event,s=s===void 0?16:Ua(s.type)),s)}function Ti(s,a,u,f){if(50<Fu)throw Fu=0,vm=null,Error(t(185));Mo(s,u,f),((mt&2)===0||s!==bn)&&(s===bn&&((mt&2)===0&&(th|=u),mn===4&&no(s,Fn)),Sr(s,f),u===1&&mt===0&&(a.mode&1)===0&&(cl=ft()+500,Od&&Qs()))}function Sr(s,a){var u=s.callbackNode;Lo(s,a);var f=os(s,s===bn?Fn:0);if(f===0)u!==null&&Gt(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&Gt(u),a===1)s.tag===0?sk(Bw.bind(null,s)):bv(Bw.bind(null,s)),tk(function(){(mt&6)===0&&Qs()}),u=null;else{switch(Ci(f)){case 1:u=sr;break;case 4:u=Hn;break;case 16:u=fi;break;case 536870912:u=vr;break;default:u=fi}u=Gw(u,Uw.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function Uw(s,a){if(sh=-1,oh=0,(mt&6)!==0)throw Error(t(327));var u=s.callbackNode;if(dl()&&s.callbackNode!==u)return null;var f=os(s,s===bn?Fn:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=ah(s,f);else{a=f;var m=mt;mt|=2;var _=jw();(bn!==s||Fn!==a)&&(vs=null,cl=ft()+500,Jo(s,a));do try{Rk();break}catch(k){zw(s,k)}while(!0);Mp(),eh.current=_,mt=m,an!==null?a=0:(bn=null,Fn=0,a=mn)}if(a!==0){if(a===2&&(m=iu(s),m!==0&&(f=m,a=wm(s,m))),a===1)throw u=Lu,Jo(s,0),no(s,f),Sr(s,ft()),u;if(a===6)no(s,f);else{if(m=s.current.alternate,(f&30)===0&&!Sk(m)&&(a=ah(s,f),a===2&&(_=iu(s),_!==0&&(f=_,a=wm(s,_))),a===1))throw u=Lu,Jo(s,0),no(s,f),Sr(s,ft()),u;switch(s.finishedWork=m,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:Xo(s,Ir,vs);break;case 3:if(no(s,f),(f&130023424)===f&&(a=ym+500-ft(),10<a)){if(os(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){lr(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Rp(Xo.bind(null,s,Ir,vs),a);break}Xo(s,Ir,vs);break;case 4:if(no(s,f),(f&4194240)===f)break;for(a=s.eventTimes,m=-1;0<f;){var T=31-vt(f);_=1<<T,T=a[T],T>m&&(m=T),f&=~_}if(f=m,f=ft()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ik(f/1960))-f,10<f){s.timeoutHandle=Rp(Xo.bind(null,s,Ir,vs),f);break}Xo(s,Ir,vs);break;case 5:Xo(s,Ir,vs);break;default:throw Error(t(329))}}}return Sr(s,ft()),s.callbackNode===u?Uw.bind(null,s):null}function wm(s,a){var u=Mu;return s.current.memoizedState.isDehydrated&&(Jo(s,a).flags|=256),s=ah(s,a),s!==2&&(a=Ir,Ir=u,a!==null&&Em(a)),s}function Em(s){Ir===null?Ir=s:Ir.push.apply(Ir,s)}function Sk(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],_=m.getSnapshot;m=m.value;try{if(!yi(_(),m))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function no(s,a){for(a&=~gm,a&=~th,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-vt(a),f=1<<u;s[u]=-1,a&=~f}}function Bw(s){if((mt&6)!==0)throw Error(t(327));dl();var a=os(s,0);if((a&1)===0)return Sr(s,ft()),null;var u=ah(s,a);if(s.tag!==0&&u===2){var f=iu(s);f!==0&&(a=f,u=wm(s,f))}if(u===1)throw u=Lu,Jo(s,0),no(s,a),Sr(s,ft()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Xo(s,Ir,vs),Sr(s,ft()),null}function Tm(s,a){var u=mt;mt|=1;try{return s(a)}finally{mt=u,mt===0&&(cl=ft()+500,Od&&Qs())}}function Yo(s){eo!==null&&eo.tag===0&&(mt&6)===0&&dl();var a=mt;mt|=1;var u=ri.transition,f=ut;try{if(ri.transition=null,ut=1,s)return s()}finally{ut=f,ri.transition=u,mt=a,(mt&6)===0&&Qs()}}function Im(){Br=ul.current,Vt(ul)}function Jo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,ek(u)),an!==null)for(u=an.return;u!==null;){var f=u;switch(Dp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Dd();break;case 3:ol(),Vt(wr),Vt(Wn),qp();break;case 5:$p(f);break;case 4:ol();break;case 13:Vt($t);break;case 19:Vt($t);break;case 10:Fp(f.type._context);break;case 22:case 23:Im()}u=u.return}if(bn=s,an=s=ro(s.current,null),Fn=Br=a,mn=0,Lu=null,gm=th=Qo=0,Ir=Mu=null,Wo!==null){for(a=0;a<Wo.length;a++)if(u=Wo[a],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,_=u.pending;if(_!==null){var T=_.next;_.next=m,f.next=T}u.pending=f}Wo=null}return s}function zw(s,a){do{var u=an;try{if(Mp(),Hd.current=Gd,qd){for(var f=Ht.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}qd=!1}if(Go=0,Sn=pn=Ht=null,Cu=!1,xu=0,mm.current=null,u===null||u.return===null){mn=1,Lu=a,an=null;break}e:{var _=s,T=u.return,k=u,M=a;if(a=Fn,k.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=M,ae=k,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var se=ae.alternate;se?(ae.updateQueue=se.updateQueue,ae.memoizedState=se.memoizedState,ae.lanes=se.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var Ie=hw(T);if(Ie!==null){Ie.flags&=-257,fw(Ie,T,k,_,a),Ie.mode&1&&dw(_,Y,a),a=Ie,M=Y;var xe=a.updateQueue;if(xe===null){var Oe=new Set;Oe.add(M),a.updateQueue=Oe}else xe.add(M);break e}else{if((a&1)===0){dw(_,Y,a),Sm();break e}M=Error(t(426))}}else if(Ft&&k.mode&1){var nn=hw(T);if(nn!==null){(nn.flags&65536)===0&&(nn.flags|=256),fw(nn,T,k,_,a),Vp(al(M,k));break e}}_=M=al(M,k),mn!==4&&(mn=2),Mu===null?Mu=[_]:Mu.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var H=uw(_,M,a);Lv(_,H);break e;case 1:k=M;var B=_.type,Q=_.stateNode;if((_.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Zs===null||!Zs.has(Q)))){_.flags|=65536,a&=-a,_.lanes|=a;var me=cw(_,k,a);Lv(_,me);break e}}_=_.return}while(_!==null)}Hw(u)}catch(Me){a=Me,an===u&&u!==null&&(an=u=u.return);continue}break}while(!0)}function jw(){var s=eh.current;return eh.current=Gd,s===null?Gd:s}function Sm(){(mn===0||mn===3||mn===2)&&(mn=4),bn===null||(Qo&268435455)===0&&(th&268435455)===0||no(bn,Fn)}function ah(s,a){var u=mt;mt|=2;var f=jw();(bn!==s||Fn!==a)&&(vs=null,Jo(s,a));do try{bk();break}catch(m){zw(s,m)}while(!0);if(Mp(),mt=u,eh.current=f,an!==null)throw Error(t(261));return bn=null,Fn=0,mn}function bk(){for(;an!==null;)$w(an)}function Rk(){for(;an!==null&&!ot();)$w(an)}function $w(s){var a=Kw(s.alternate,s,Br);s.memoizedProps=s.pendingProps,a===null?Hw(s):an=a,mm.current=null}function Hw(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=_k(u,a,Br),u!==null){an=u;return}}else{if(u=vk(u,a),u!==null){u.flags&=32767,an=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{mn=6,an=null;return}}if(a=a.sibling,a!==null){an=a;return}an=a=s}while(a!==null);mn===0&&(mn=5)}function Xo(s,a,u){var f=ut,m=ri.transition;try{ri.transition=null,ut=1,Ak(s,a,u,f)}finally{ri.transition=m,ut=f}return null}function Ak(s,a,u,f){do dl();while(eo!==null);if((mt&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(cp(s,_),s===bn&&(an=bn=null,Fn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||rh||(rh=!0,Gw(fi,function(){return dl(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=ri.transition,ri.transition=null;var T=ut;ut=1;var k=mt;mt|=4,mm.current=null,Ek(s,u),Ow(u,s),KP(Sp),us=!!Ip,Sp=Ip=null,s.current=u,Tk(u),Qt(),mt=k,ut=T,ri.transition=_}else s.current=u;if(rh&&(rh=!1,eo=s,ih=m),_=s.pendingLanes,_===0&&(Zs=null),rt(u.stateNode),Sr(s,ft()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)m=a[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(nh)throw nh=!1,s=_m,_m=null,s;return(ih&1)!==0&&s.tag!==0&&dl(),_=s.pendingLanes,(_&1)!==0?s===vm?Fu++:(Fu=0,vm=s):Fu=0,Qs(),null}function dl(){if(eo!==null){var s=Ci(ih),a=ri.transition,u=ut;try{if(ri.transition=null,ut=16>s?16:s,eo===null)var f=!1;else{if(s=eo,eo=null,ih=0,(mt&6)!==0)throw Error(t(331));var m=mt;for(mt|=4,ke=s.current;ke!==null;){var _=ke,T=_.child;if((ke.flags&16)!==0){var k=_.deletions;if(k!==null){for(var M=0;M<k.length;M++){var Y=k[M];for(ke=Y;ke!==null;){var ae=ke;switch(ae.tag){case 0:case 11:case 15:Vu(8,ae,_)}var le=ae.child;if(le!==null)le.return=ae,ke=le;else for(;ke!==null;){ae=ke;var se=ae.sibling,Ie=ae.return;if(kw(ae),ae===Y){ke=null;break}if(se!==null){se.return=Ie,ke=se;break}ke=Ie}}}var xe=_.alternate;if(xe!==null){var Oe=xe.child;if(Oe!==null){xe.child=null;do{var nn=Oe.sibling;Oe.sibling=null,Oe=nn}while(Oe!==null)}}ke=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,ke=T;else e:for(;ke!==null;){if(_=ke,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Vu(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,ke=H;break e}ke=_.return}}var B=s.current;for(ke=B;ke!==null;){T=ke;var Q=T.child;if((T.subtreeFlags&2064)!==0&&Q!==null)Q.return=T,ke=Q;else e:for(T=B;ke!==null;){if(k=ke,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Zd(9,k)}}catch(Me){Yt(k,k.return,Me)}if(k===T){ke=null;break e}var me=k.sibling;if(me!==null){me.return=k.return,ke=me;break e}ke=k.return}}if(mt=m,Qs(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Xr,s)}catch{}f=!0}return f}finally{ut=u,ri.transition=a}}return!1}function qw(s,a,u){a=al(u,a),a=uw(s,a,1),s=Js(s,a,1),a=lr(),s!==null&&(Mo(s,1,a),Sr(s,a))}function Yt(s,a,u){if(s.tag===3)qw(s,s,u);else for(;a!==null;){if(a.tag===3){qw(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Zs===null||!Zs.has(f))){s=al(u,s),s=cw(a,s,1),a=Js(a,s,1),s=lr(),a!==null&&(Mo(a,1,s),Sr(a,s));break}}a=a.return}}function Pk(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=lr(),s.pingedLanes|=s.suspendedLanes&u,bn===s&&(Fn&u)===u&&(mn===4||mn===3&&(Fn&130023424)===Fn&&500>ft()-ym?Jo(s,0):gm|=u),Sr(s,a)}function Ww(s,a){a===0&&((s.mode&1)===0?a=1:(a=mi,mi<<=1,(mi&130023424)===0&&(mi=4194304)));var u=lr();s=gs(s,a),s!==null&&(Mo(s,a,u),Sr(s,u))}function kk(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Ww(s,u)}function Ck(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),Ww(s,u)}var Kw;Kw=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||wr.current)Tr=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Tr=!1,yk(s,a,u);Tr=(s.flags&131072)!==0}else Tr=!1,Ft&&(a.flags&1048576)!==0&&Rv(a,Ld,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Jd(s,a),s=a.pendingProps;var m=Za(a,Wn.current);sl(a,u),m=Gp(null,a,f,s,m,u);var _=Qp();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Er(f)?(_=!0,Nd(a)):_=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,zp(a),m.updater=Qd,a.stateNode=m,m._reactInternals=a,tm(a,f,s,u),a=sm(null,a,f,!0,_,u)):(a.tag=0,Ft&&_&&xp(a),ar(null,a,m,u),a=a.child),a;case 16:f=a.elementType;e:{switch(Jd(s,a),s=a.pendingProps,m=f._init,f=m(f._payload),a.type=f,m=a.tag=Dk(f),s=vi(f,s),m){case 0:a=im(null,a,f,s,u);break e;case 1:a=vw(null,a,f,s,u);break e;case 11:a=pw(null,a,f,s,u);break e;case 14:a=mw(null,a,f,vi(f.type,s),u);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:vi(f,m),im(s,a,f,m,u);case 1:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:vi(f,m),vw(s,a,f,m,u);case 3:e:{if(ww(a),s===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,m=_.element,Vv(s,a),jd(a,f,null,u);var T=a.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){m=al(Error(t(423)),a),a=Ew(s,a,f,u,m);break e}else if(f!==m){m=al(Error(t(424)),a),a=Ew(s,a,f,u,m);break e}else for(Ur=Ws(a.stateNode.containerInfo.firstChild),Fr=a,Ft=!0,_i=null,u=Nv(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(nl(),f===m){a=_s(s,a,u);break e}ar(s,a,f,u)}a=a.child}return a;case 5:return Fv(a),s===null&&Op(a),f=a.type,m=a.pendingProps,_=s!==null?s.memoizedProps:null,T=m.children,bp(f,m)?T=null:_!==null&&bp(f,_)&&(a.flags|=32),_w(s,a),ar(s,a,T,u),a.child;case 6:return s===null&&Op(a),null;case 13:return Tw(s,a,u);case 4:return jp(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=rl(a,null,f,u):ar(s,a,f,u),a.child;case 11:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:vi(f,m),pw(s,a,f,m,u);case 7:return ar(s,a,a.pendingProps,u),a.child;case 8:return ar(s,a,a.pendingProps.children,u),a.child;case 12:return ar(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,m=a.pendingProps,_=a.memoizedProps,T=m.value,kt(Ud,f._currentValue),f._currentValue=T,_!==null)if(yi(_.value,T)){if(_.children===m.children&&!wr.current){a=_s(s,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var k=_.dependencies;if(k!==null){T=_.child;for(var M=k.firstContext;M!==null;){if(M.context===f){if(_.tag===1){M=ys(-1,u&-u),M.tag=2;var Y=_.updateQueue;if(Y!==null){Y=Y.shared;var ae=Y.pending;ae===null?M.next=M:(M.next=ae.next,ae.next=M),Y.pending=M}}_.lanes|=u,M=_.alternate,M!==null&&(M.lanes|=u),Up(_.return,u,a),k.lanes|=u;break}M=M.next}}else if(_.tag===10)T=_.type===a.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=u,k=T.alternate,k!==null&&(k.lanes|=u),Up(T,u,a),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===a){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}ar(s,a,m.children,u),a=a.child}return a;case 9:return m=a.type,f=a.pendingProps.children,sl(a,u),m=ti(m),f=f(m),a.flags|=1,ar(s,a,f,u),a.child;case 14:return f=a.type,m=vi(f,a.pendingProps),m=vi(f.type,m),mw(s,a,f,m,u);case 15:return gw(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:vi(f,m),Jd(s,a),a.tag=1,Er(f)?(s=!0,Nd(a)):s=!1,sl(a,u),aw(a,f,m),tm(a,f,m,u),sm(null,a,f,!0,s,u);case 19:return Sw(s,a,u);case 22:return yw(s,a,u)}throw Error(t(156,a.tag))};function Gw(s,a){return Mt(s,a)}function xk(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(s,a,u,f){return new xk(s,a,u,f)}function bm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Dk(s){if(typeof s=="function")return bm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===ze)return 14}return 2}function ro(s,a){var u=s.alternate;return u===null?(u=ii(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function lh(s,a,u,f,m,_){var T=2;if(f=s,typeof s=="function")bm(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case I:return Zo(u.children,m,_,a);case S:T=8,m|=8;break;case A:return s=ii(12,u,a,m|2),s.elementType=A,s.lanes=_,s;case P:return s=ii(13,u,a,m),s.elementType=P,s.lanes=_,s;case Be:return s=ii(19,u,a,m),s.elementType=Be,s.lanes=_,s;case be:return uh(u,m,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:T=10;break e;case D:T=9;break e;case F:T=11;break e;case ze:T=14;break e;case fe:T=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=ii(T,u,a,m),a.elementType=s,a.type=f,a.lanes=_,a}function Zo(s,a,u,f){return s=ii(7,s,f,a),s.lanes=u,s}function uh(s,a,u,f){return s=ii(22,s,f,a),s.elementType=be,s.lanes=u,s.stateNode={isHidden:!1},s}function Rm(s,a,u){return s=ii(6,s,null,a),s.lanes=u,s}function Am(s,a,u){return a=ii(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Nk(s,a,u,f,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ou(0),this.expirationTimes=ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ou(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Pm(s,a,u,f,m,_,T,k,M){return s=new Nk(s,a,u,k,M),a===1?(a=1,_===!0&&(a|=8)):a=0,_=ii(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},zp(_),s}function Ok(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function Qw(s){if(!s)return Gs;s=s._reactInternals;e:{if(Pe(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Er(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Er(u))return Iv(s,u,a)}return a}function Yw(s,a,u,f,m,_,T,k,M){return s=Pm(u,f,!0,s,m,_,T,k,M),s.context=Qw(null),u=s.current,f=lr(),m=to(u),_=ys(f,m),_.callback=a??null,Js(u,_,m),s.current.lanes=m,Mo(s,m,f),Sr(s,f),s}function ch(s,a,u,f){var m=a.current,_=lr(),T=to(m);return u=Qw(u),a.context===null?a.context=u:a.pendingContext=u,a=ys(_,T),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Js(m,a,T),s!==null&&(Ti(s,m,T,_),zd(s,m,T)),T}function dh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Jw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function km(s,a){Jw(s,a),(s=s.alternate)&&Jw(s,a)}function Vk(){return null}var Xw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Cm(s){this._internalRoot=s}hh.prototype.render=Cm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));ch(s,a,null,null)},hh.prototype.unmount=Cm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Yo(function(){ch(null,s,null,null)}),a[hs]=null}};function hh(s){this._internalRoot=s}hh.prototype.unstable_scheduleHydration=function(s){if(s){var a=cu();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Or.length&&a!==0&&a<Or[u].priority;u++);Or.splice(u,0,s),u===0&&Ma(s)}};function xm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function fh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Zw(){}function Lk(s,a,u,f,m){if(m){if(typeof f=="function"){var _=f;f=function(){var Y=dh(T);_.call(Y)}}var T=Yw(a,f,s,0,null,!1,!1,"",Zw);return s._reactRootContainer=T,s[hs]=T.current,Tu(s.nodeType===8?s.parentNode:s),Yo(),T}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var k=f;f=function(){var Y=dh(M);k.call(Y)}}var M=Pm(s,0,!1,null,null,!1,!1,"",Zw);return s._reactRootContainer=M,s[hs]=M.current,Tu(s.nodeType===8?s.parentNode:s),Yo(function(){ch(a,M,u,f)}),M}function ph(s,a,u,f,m){var _=u._reactRootContainer;if(_){var T=_;if(typeof m=="function"){var k=m;m=function(){var M=dh(T);k.call(M)}}ch(a,T,s,m)}else T=Lk(u,a,s,m,f);return dh(T)}lu=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=pt(a.pendingLanes);u!==0&&(au(a,u|1),Sr(a,ft()),(mt&6)===0&&(cl=ft()+500,Qs()))}break;case 13:Yo(function(){var f=gs(s,1);if(f!==null){var m=lr();Ti(f,s,1,m)}}),km(s,1)}},Va=function(s){if(s.tag===13){var a=gs(s,134217728);if(a!==null){var u=lr();Ti(a,s,134217728,u)}km(s,134217728)}},uu=function(s){if(s.tag===13){var a=to(s),u=gs(s,a);if(u!==null){var f=lr();Ti(u,s,a,f)}km(s,a)}},cu=function(){return ut},du=function(s,a){var u=ut;try{return ut=s,a()}finally{ut=u}},$n=function(s,a,u){switch(a){case"input":if(tr(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var m=xd(f);if(!m)throw Error(t(90));_t(f),tr(f,m)}}}break;case"textarea":gr(s,u);break;case"select":a=u.value,a!=null&&nr(s,!!u.multiple,a,!1)}},Lt=Tm,jt=Yo;var Mk={usingClientEntryPoint:!1,Events:[bu,Ja,xd,je,Tt,Tm]},Uu={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fk={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=et(s),s===null?null:s.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance||Vk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Xr=mh.inject(Fk),In=mh}catch{}}return br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mk,br.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xm(a))throw Error(t(200));return Ok(s,a,null,u)},br.createRoot=function(s,a){if(!xm(s))throw Error(t(299));var u=!1,f="",m=Xw;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Pm(s,1,!1,null,null,u,!1,f,m),s[hs]=a.current,Tu(s.nodeType===8?s.parentNode:s),new Cm(a)},br.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=et(a),s=s===null?null:s.stateNode,s},br.flushSync=function(s){return Yo(s)},br.hydrate=function(s,a,u){if(!fh(a))throw Error(t(200));return ph(null,s,a,!0,u)},br.hydrateRoot=function(s,a,u){if(!xm(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,_="",T=Xw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),a=Yw(a,null,s,1,u??null,m,!1,_,T),s[hs]=a.current,Tu(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,m]:a.mutableSourceEagerHydrationData.push(u,m);return new hh(a)},br.render=function(s,a,u){if(!fh(a))throw Error(t(200));return ph(null,s,a,!1,u)},br.unmountComponentAtNode=function(s){if(!fh(s))throw Error(t(40));return s._reactRootContainer?(Yo(function(){ph(null,null,s,!1,function(){s._reactRootContainer=null,s[hs]=null})}),!0):!1},br.unstable_batchedUpdates=Tm,br.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!fh(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return ph(s,a,u,!1,f)},br.version="18.3.1-next-f1338f8080-20240426",br}var aE;function kI(){if(aE)return Om.exports;aE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Om.exports=Wk(),Om.exports}var lE;function Kk(){if(lE)return gh;lE=1;var n=kI();return gh.createRoot=n.createRoot,gh.hydrateRoot=n.hydrateRoot,gh}var Gk=Kk(),z=oy();const _e=PI(z),Qk=Bk({__proto__:null,default:_e},[z]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CI=n=>{throw TypeError(n)},Yk=(n,e,t)=>e.has(n)||CI("Cannot "+t),Mm=(n,e,t)=>(Yk(n,e,"read from private field"),t?t.call(n):e.get(n)),Jk=(n,e,t)=>e.has(n)?CI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),uE="popstate";function Xk(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return wc("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Zi(i)}return e1(e,t,null,n)}function st(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zk(){return Math.random().toString(36).substring(2,10)}function cE(n,e){return{usr:n.state,key:n.key,idx:e}}function wc(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:t,key:e&&e.key||r||Zk()}}function Zi({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function e1(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",h=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function g(){c="POP";let N=y(),X=N==null?null:N-p;p=N,h&&h({action:c,location:L.location,delta:X})}function w(N,X){c="PUSH";let K=wc(L.location,N,X);p=y()+1;let Z=cE(K,p),oe=L.createHref(K);try{l.pushState(Z,"",oe)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;i.location.assign(oe)}o&&h&&h({action:c,location:L.location,delta:1})}function b(N,X){c="REPLACE";let K=wc(L.location,N,X);p=y();let Z=cE(K,p),oe=L.createHref(K);l.replaceState(Z,"",oe),o&&h&&h({action:c,location:L.location,delta:0})}function C(N){return xI(N)}let L={get action(){return c},get location(){return n(i,l)},listen(N){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(uE,g),h=N,()=>{i.removeEventListener(uE,g),h=null}},createHref(N){return e(i,N)},createURL:C,encodeLocation(N){let X=C(N);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:b,go(N){return l.go(N)}};return L}function xI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),st(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Zi(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var Xu,dE=class{constructor(n){if(Jk(this,Xu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Mm(this,Xu).has(n))return Mm(this,Xu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Mm(this,Xu).set(n,e)}};Xu=new WeakMap;var t1=new Set(["lazy","caseSensitive","path","id","index","children"]);function n1(n){return t1.has(n)}var r1=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function i1(n){return r1.has(n)}function s1(n){return n.index===!0}function Ec(n,e,t=[],r={},i=!1){return n.map((o,l)=>{let c=[...t,String(l)],h=typeof o.id=="string"?o.id:c.join("-");if(st(o.index!==!0||!o.children,"Cannot specify children on an index route"),st(i||!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),s1(o)){let p={...o,id:h};return r[h]=hE(p,e(p)),p}else{let p={...o,id:h,children:void 0};return r[h]=hE(p,e(p)),o.children&&(p.children=Ec(o.children,e,c,r,i)),p}})}function hE(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function co(n,e,t="/"){return Zu(n,e,t,!1)}function Zu(n,e,t,r){let i=typeof e=="string"?xo(e):e,o=li(i.pathname||"/",t);if(o==null)return null;let l=DI(n);a1(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=_1(o);c=g1(l[h],p,r)}return c}function o1(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function DI(n,e=[],t=[],r="",i=!1){let o=(l,c,h=i,p)=>{let y={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&h)return;st(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let g=Qi([r,y.relativePath]),w=t.concat(y);l.children&&l.children.length>0&&(st(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),DI(l.children,e,w,g,h)),!(l.path==null&&!l.index)&&e.push({path:g,score:p1(g,l.index),routesMeta:w})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,c);else for(let p of NI(l.path))o(l,c,!0,p)}),e}function NI(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=NI(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function a1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:m1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var l1=/^:[\w-]+$/,u1=3,c1=2,d1=1,h1=10,f1=-2,fE=n=>n==="*";function p1(n,e){let t=n.split("/"),r=t.length;return t.some(fE)&&(r+=f1),e&&(r+=c1),t.filter(i=>!fE(i)).reduce((i,o)=>i+(l1.test(o)?u1:o===""?d1:h1),r)}function m1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function g1(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",g=Zh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),w=h.route;if(!g&&p&&t&&!r[r.length-1].route.index&&(g=Zh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Qi([o,g.pathname]),pathnameBase:E1(Qi([o,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(o=Qi([o,g.pathnameBase]))}return l}function Zh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=y1(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:g},w)=>{if(y==="*"){let C=c[w]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const b=c[w];return g&&!b?p[y]=void 0:p[y]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function y1(n,e=!1,t=!0){hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function li(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function v1({basename:n,pathname:e}){return e==="/"?n:Qi([n,e])}var OI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ay=n=>OI.test(n);function w1(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?xo(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=pE(t.substring(1),"/"):o=pE(t,e)):o=e,{pathname:o,search:T1(r),hash:I1(i)}}function pE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Fm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ly(n){let e=VI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function uy(n,e,t,r=!1){let i;typeof n=="string"?i=xo(n):(i={...n},st(!i.pathname||!i.pathname.includes("?"),Fm("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),Fm("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),Fm("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),g-=1;i.pathname=w.join("/")}c=g>=0?e[g]:"/"}let h=w1(i,c),p=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var Qi=n=>n.join("/").replace(/\/\/+/g,"/"),E1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),T1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,I1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,qc=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Tc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Wc(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var LI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function MI(n,e){let t=n;if(typeof t!="string"||!OI.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,i=!1;if(LI)try{let o=new URL(window.location.href),l=t.startsWith("//")?new URL(o.protocol+t):new URL(t),c=li(l.pathname,e);l.origin===o.origin&&c!=null?t=c+l.search+l.hash:i=!0}catch{hn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:t}}var _o=Symbol("Uninstrumented");function S1(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(o){let l=Object.keys(t);for(let c of l)o[c]&&t[c].push(o[c])}}));let r={};if(typeof e.lazy=="function"&&t.lazy.length>0){let i=Rl(t.lazy,e.lazy,()=>{});i&&(r.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(o=>{let l=i[o],c=t[`lazy.${o}`];if(typeof l=="function"&&c.length>0){let h=Rl(c,l,()=>{});h&&(r.lazy=Object.assign(r.lazy||{},{[o]:h}))}})}return["loader","action"].forEach(i=>{let o=e[i];if(typeof o=="function"&&t[i].length>0){let l=o[_o]??o,c=Rl(t[i],l,(...h)=>mE(h[0]));c&&(i==="loader"&&l.hydrate===!0&&(c.hydrate=!0),c[_o]=l,r[i]=c)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(r.middleware=e.middleware.map(i=>{let o=i[_o]??i,l=Rl(t.middleware,o,(...c)=>mE(c[0]));return l?(l[_o]=o,l):i})),r}function b1(n,e){let t={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(i){let o=Object.keys(i);for(let l of o)i[l]&&t[l].push(i[l])}})),t.navigate.length>0){let r=n.navigate[_o]??n.navigate,i=Rl(t.navigate,r,(...o)=>{let[l,c]=o;return{to:typeof l=="number"||typeof l=="string"?l:l?Zi(l):".",...gE(n,c??{})}});i&&(i[_o]=r,n.navigate=i)}if(t.fetch.length>0){let r=n.fetch[_o]??n.fetch,i=Rl(t.fetch,r,(...o)=>{let[l,,c,h]=o;return{href:c??".",fetcherKey:l,...gE(n,h??{})}});i&&(i[_o]=r,n.fetch=i)}return n}function Rl(n,e,t){return n.length===0?null:async(...r)=>{let i=await FI(n,t(...r),()=>e(...r),n.length-1);if(i.type==="error")throw i.value;return i.value}}async function FI(n,e,t,r){let i=n[r],o;if(i){let l,c=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=FI(n,e,t,r-1),o=await l,st(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await i(c,e)}catch(h){console.error("An instrumentation function threw an error:",h)}l||await c(),await l}else try{o={type:"success",value:await t()}}catch(l){o={type:"error",value:l}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function mE(n){let{request:e,context:t,params:r,unstable_pattern:i}=n;return{request:R1(e),params:{...r},unstable_pattern:i,context:A1(t)}}function gE(n,e){return{currentUrl:Zi(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function R1(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function A1(n){if(k1(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var P1=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function k1(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===P1}var UI=["POST","PUT","PATCH","DELETE"],C1=new Set(UI),x1=["GET",...UI],D1=new Set(x1),BI=new Set([301,302,303,307,308]),N1=new Set([307,308]),Um={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},O1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},V1=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),zI="remix-router-transitions",jI=Symbol("ResetLoaderData");function L1(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";st(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],i=n.mapRouteProperties||V1,o=i;if(n.unstable_instrumentations){let x=n.unstable_instrumentations;o=U=>({...i(U),...S1(x.map(W=>W.route).filter(Boolean),U)})}let l={},c=Ec(n.routes,o,void 0,l),h,p=n.basename||"/";p.startsWith("/")||(p=`/${p}`);let y=n.dataStrategy||z1,g={...n.future},w=null,b=new Set,C=null,L=null,N=null,X=n.hydrationData!=null,K=co(c,n.history.location,p),Z=!1,oe=null,ie;if(K==null&&!n.patchRoutesOnNavigation){let x=si(404,{pathname:n.history.location.pathname}),{matches:U,route:W}=yh(c);ie=!0,K=U,oe={[W.id]:x}}else if(K&&!n.hydrationData&&jt(K,c,n.history.location.pathname).active&&(K=null),K)if(K.some(x=>x.route.lazy))ie=!1;else if(!K.some(x=>cy(x.route)))ie=!0;else{let x=n.hydrationData?n.hydrationData.loaderData:null,U=n.hydrationData?n.hydrationData.errors:null;if(U){let W=K.findIndex(te=>U[te.route.id]!==void 0);ie=K.slice(0,W+1).every(te=>!gg(te.route,x,U))}else ie=K.every(W=>!gg(W.route,x,U))}else{ie=!1,K=[];let x=jt(null,c,n.history.location.pathname);x.active&&x.matches&&(Z=!0,K=x.matches)}let ue,I={historyAction:n.history.action,location:n.history.location,matches:K,initialized:ie,navigation:Um,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||oe,fetchers:new Map,blockers:new Map},S="POP",A=null,V=!1,D,F=!1,P=new Map,Be=null,ze=!1,fe=!1,be=new Set,$=new Map,pe=0,ne=-1,O=new Map,G=new Set,re=new Map,de=new Map,ve=new Set,we=new Map,Ce,qe=null;function Ze(){if(w=n.history.listen(({action:x,location:U,delta:W})=>{if(Ce){Ce(),Ce=void 0;return}hn(we.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=_r({currentLocation:I.location,nextLocation:U,historyAction:x});if(te&&W!=null){let he=new Promise(Se=>{Ce=Se});n.history.go(W*-1),$n(te,{state:"blocked",location:U,proceed(){$n(te,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),he.then(()=>n.history.go(W))},reset(){let Se=new Map(I.blockers);Se.set(te,zu),_t({blockers:Se})}}),A==null||A.resolve(),A=null;return}return xn(x,U)}),t){sC(e,P);let x=()=>oC(e,P);e.addEventListener("pagehide",x),Be=()=>e.removeEventListener("pagehide",x)}return I.initialized||xn("POP",I.location,{initialHydration:!0}),ue}function At(){w&&w(),Be&&Be(),b.clear(),D&&D.abort(),I.fetchers.forEach((x,U)=>rr(U)),I.blockers.forEach((x,U)=>Tn(U))}function pr(x){return b.add(x),()=>b.delete(x)}function _t(x,U={}){x.matches&&(x.matches=x.matches.map(he=>{let Se=l[he.route.id],Fe=he.route;return Fe.element!==Se.element||Fe.errorElement!==Se.errorElement||Fe.hydrateFallbackElement!==Se.hydrateFallbackElement?{...he,route:Se}:he})),I={...I,...x};let W=[],te=[];I.fetchers.forEach((he,Se)=>{he.state==="idle"&&(ve.has(Se)?W.push(Se):te.push(Se))}),ve.forEach(he=>{!I.fetchers.has(he)&&!$.has(he)&&W.push(he)}),[...b].forEach(he=>he(I,{deletedFetchers:W,newErrors:x.errors??null,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),W.forEach(he=>rr(he)),te.forEach(he=>I.fetchers.delete(he))}function Cn(x,U,{flushSync:W}={}){var Ke,Le;let te=I.actionData!=null&&I.navigation.formMethod!=null&&Jn(I.navigation.formMethod)&&I.navigation.state==="loading"&&((Ke=x.state)==null?void 0:Ke._isRedirect)!==!0,he;U.actionData?Object.keys(U.actionData).length>0?he=U.actionData:he=null:te?he=I.actionData:he=null;let Se=U.loaderData?RE(I.loaderData,U.loaderData,U.matches||[],U.errors):I.loaderData,Fe=I.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((Ye,et)=>Fe.set(et,zu)));let Te=ze?!1:Lt(x,U.matches||I.matches),Re=V===!0||I.navigation.formMethod!=null&&Jn(I.navigation.formMethod)&&((Le=x.state)==null?void 0:Le._isRedirect)!==!0;h&&(c=h,h=void 0),ze||S==="POP"||(S==="PUSH"?n.history.push(x,x.state):S==="REPLACE"&&n.history.replace(x,x.state));let Pe;if(S==="POP"){let Ye=P.get(I.location.pathname);Ye&&Ye.has(x.pathname)?Pe={currentLocation:I.location,nextLocation:x}:P.has(x.pathname)&&(Pe={currentLocation:x,nextLocation:I.location})}else if(F){let Ye=P.get(I.location.pathname);Ye?Ye.add(x.pathname):(Ye=new Set([x.pathname]),P.set(I.location.pathname,Ye)),Pe={currentLocation:I.location,nextLocation:x}}_t({...U,actionData:he,loaderData:Se,historyAction:S,location:x,initialized:!0,navigation:Um,revalidation:"idle",restoreScrollPosition:Te,preventScrollReset:Re,blockers:Fe},{viewTransitionOpts:Pe,flushSync:W===!0}),S="POP",V=!1,F=!1,ze=!1,fe=!1,A==null||A.resolve(),A=null,qe==null||qe.resolve(),qe=null}async function xr(x,U){if(A==null||A.resolve(),A=null,typeof x=="number"){A||(A=CE());let et=A.promise;return n.history.go(x),et}let W=mg(I.location,I.matches,p,x,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:te,submission:he,error:Se}=yE(!1,W,U),Fe=I.location,Te=wc(I.location,te,U&&U.state);Te={...Te,...n.history.encodeLocation(Te)};let Re=U&&U.replace!=null?U.replace:void 0,Pe="PUSH";Re===!0?Pe="REPLACE":Re===!1||he!=null&&Jn(he.formMethod)&&he.formAction===I.location.pathname+I.location.search&&(Pe="REPLACE");let Ke=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Le=(U&&U.flushSync)===!0,Ye=_r({currentLocation:Fe,nextLocation:Te,historyAction:Pe});if(Ye){$n(Ye,{state:"blocked",location:Te,proceed(){$n(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),xr(x,U)},reset(){let et=new Map(I.blockers);et.set(Ye,zu),_t({blockers:et})}});return}await xn(Pe,Te,{submission:he,pendingError:Se,preventScrollReset:Ke,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:Le,callSiteDefaultShouldRevalidate:U&&U.unstable_defaultShouldRevalidate})}function Us(){qe||(qe=CE()),Yr(),_t({revalidation:"loading"});let x=qe.promise;return I.navigation.state==="submitting"?x:I.navigation.state==="idle"?(xn(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),x):(xn(S||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:F===!0}),x)}async function xn(x,U,W){D&&D.abort(),D=null,S=x,ze=(W&&W.startUninterruptedRevalidation)===!0,Tt(I.location,I.matches),V=(W&&W.preventScrollReset)===!0,F=(W&&W.enableViewTransition)===!0;let te=h||c,he=W&&W.overrideNavigation,Se=W!=null&&W.initialHydration&&I.matches&&I.matches.length>0&&!Z?I.matches:co(te,U,p),Fe=(W&&W.flushSync)===!0;if(Se&&I.initialized&&!fe&&Q1(I.location,U)&&!(W&&W.submission&&Jn(W.submission.formMethod))){Cn(U,{matches:Se},{flushSync:Fe});return}let Te=jt(Se,te,U.pathname);if(Te.active&&Te.matches&&(Se=Te.matches),!Se){let{error:Mt,notFoundMatches:Gt,route:ot}=Et(U.pathname);Cn(U,{matches:Gt,loaderData:{},errors:{[ot.id]:Mt}},{flushSync:Fe});return}D=new AbortController;let Re=vl(n.history,U,D.signal,W&&W.submission),Pe=n.getContext?await n.getContext():new dE,Ke;if(W&&W.pendingError)Ke=[ho(Se).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&Jn(W.submission.formMethod)){let Mt=await tr(Re,U,W.submission,Se,Pe,Te.active,W&&W.initialHydration===!0,{replace:W.replace,flushSync:Fe});if(Mt.shortCircuited)return;if(Mt.pendingActionResult){let[Gt,ot]=Mt.pendingActionResult;if(zr(ot)&&Tc(ot.error)&&ot.error.status===404){D=null,Cn(U,{matches:Mt.matches,loaderData:{},errors:{[Gt]:ot.error}});return}}Se=Mt.matches||Se,Ke=Mt.pendingActionResult,he=Bm(U,W.submission),Fe=!1,Te.active=!1,Re=vl(n.history,Re.url,Re.signal)}let{shortCircuited:Le,matches:Ye,loaderData:et,errors:Nt}=await Pi(Re,U,Se,Pe,Te.active,he,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Fe,Ke,W&&W.callSiteDefaultShouldRevalidate);Le||(D=null,Cn(U,{matches:Ye||Se,...AE(Ke),loaderData:et,errors:Nt}))}async function tr(x,U,W,te,he,Se,Fe,Te={}){Yr();let Re=rC(U,W);if(_t({navigation:Re},{flushSync:Te.flushSync===!0}),Se){let Le=await rn(te,U.pathname,x.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){if(Le.partialMatches.length===0){let{matches:et,route:Nt}=yh(c);return{matches:et,pendingActionResult:[Nt.id,{type:"error",error:Le.error}]}}let Ye=ho(Le.partialMatches).route.id;return{matches:Le.partialMatches,pendingActionResult:[Ye,{type:"error",error:Le.error}]}}else if(Le.matches)te=Le.matches;else{let{notFoundMatches:Ye,error:et,route:Nt}=Et(U.pathname);return{matches:Ye,pendingActionResult:[Nt.id,{type:"error",error:et}]}}}let Pe,Ke=Oh(te,U);if(!Ke.route.action&&!Ke.route.lazy)Pe={type:"error",error:si(405,{method:x.method,pathname:U.pathname,routeId:Ke.route.id})};else{let Le=Pl(o,l,x,te,Ke,Fe?[]:r,he),Ye=await jn(x,Le,he,null);if(Pe=Ye[Ke.route.id],!Pe){for(let et of te)if(Ye[et.route.id]){Pe=Ye[et.route.id];break}}if(x.signal.aborted)return{shortCircuited:!0}}if(ua(Pe)){let Le;return Te&&Te.replace!=null?Le=Te.replace:Le=IE(Pe.response.headers.get("Location"),new URL(x.url),p,n.history)===I.location.pathname+I.location.search,await gr(x,Pe,!0,{submission:W,replace:Le}),{shortCircuited:!0}}if(zr(Pe)){let Le=ho(te,Ke.route.id);return(Te&&Te.replace)!==!0&&(S="PUSH"),{matches:te,pendingActionResult:[Le.route.id,Pe,Ke.route.id]}}return{matches:te,pendingActionResult:[Ke.route.id,Pe]}}async function Pi(x,U,W,te,he,Se,Fe,Te,Re,Pe,Ke,Le,Ye){let et=Se||Bm(U,Fe),Nt=Fe||Te||kE(et),Mt=!ze&&!Pe;if(he){if(Mt){let vt=ht(Le);_t({navigation:et,...vt!==void 0?{actionData:vt}:{}},{flushSync:Ke})}let rt=await rn(W,U.pathname,x.signal);if(rt.type==="aborted")return{shortCircuited:!0};if(rt.type==="error"){if(rt.partialMatches.length===0){let{matches:On,route:sn}=yh(c);return{matches:On,loaderData:{},errors:{[sn.id]:rt.error}}}let vt=ho(rt.partialMatches).route.id;return{matches:rt.partialMatches,loaderData:{},errors:{[vt]:rt.error}}}else if(rt.matches)W=rt.matches;else{let{error:vt,notFoundMatches:On,route:sn}=Et(U.pathname);return{matches:On,loaderData:{},errors:{[sn.id]:vt}}}}let Gt=h||c,{dsMatches:ot,revalidatingFetchers:Qt}=_E(x,te,o,l,n.history,I,W,Nt,U,Pe?[]:r,Pe===!0,fe,be,ve,re,G,Gt,p,n.patchRoutesOnNavigation!=null,Le,Ye);if(ne=++pe,!n.dataStrategy&&!ot.some(rt=>rt.shouldLoad)&&!ot.some(rt=>rt.route.middleware&&rt.route.middleware.length>0)&&Qt.length===0){let rt=Nn();return Cn(U,{matches:W,loaderData:{},errors:Le&&zr(Le[1])?{[Le[0]]:Le[1].error}:null,...AE(Le),...rt?{fetchers:new Map(I.fetchers)}:{}},{flushSync:Ke}),{shortCircuited:!0}}if(Mt){let rt={};if(!he){rt.navigation=et;let vt=ht(Le);vt!==void 0&&(rt.actionData=vt)}Qt.length>0&&(rt.fetchers=xt(Qt)),_t(rt,{flushSync:Ke})}Qt.forEach(rt=>{En(rt.key),rt.controller&&$.set(rt.key,rt.controller)});let ft=()=>Qt.forEach(rt=>En(rt.key));D&&D.signal.addEventListener("abort",ft);let{loaderResults:ss,fetcherResults:sr}=await Dr(ot,Qt,x,te);if(x.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",ft),Qt.forEach(rt=>$.delete(rt.key));let Hn=_h(ss);if(Hn)return await gr(x,Hn.result,!0,{replace:Re}),{shortCircuited:!0};if(Hn=_h(sr),Hn)return G.add(Hn.key),await gr(x,Hn.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:fi,errors:pi}=bE(I,W,ss,Le,Qt,sr);Pe&&I.errors&&(pi={...I.errors,...pi});let vr=Nn(),Xr=hi(ne),In=vr||Xr||Qt.length>0;return{matches:W,loaderData:fi,errors:pi,...In?{fetchers:new Map(I.fetchers)}:{}}}function ht(x){if(x&&!zr(x[1]))return{[x[0]]:x[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function xt(x){return x.forEach(U=>{let W=I.fetchers.get(U.key),te=ju(void 0,W?W.data:void 0);I.fetchers.set(U.key,te)}),new Map(I.fetchers)}async function nr(x,U,W,te){En(x);let he=(te&&te.flushSync)===!0,Se=h||c,Fe=mg(I.location,I.matches,p,W,U,te==null?void 0:te.relative),Te=co(Se,Fe,p),Re=jt(Te,Se,Fe);if(Re.active&&Re.matches&&(Te=Re.matches),!Te){wn(x,U,si(404,{pathname:Fe}),{flushSync:he});return}let{path:Pe,submission:Ke,error:Le}=yE(!0,Fe,te);if(Le){wn(x,U,Le,{flushSync:he});return}let Ye=n.getContext?await n.getContext():new dE,et=(te&&te.preventScrollReset)===!0;if(Ke&&Jn(Ke.formMethod)){await Zt(x,U,Pe,Te,Ye,Re.active,he,et,Ke,te&&te.unstable_defaultShouldRevalidate);return}re.set(x,{routeId:U,path:Pe}),await mr(x,U,Pe,Te,Ye,Re.active,he,et,Ke)}async function Zt(x,U,W,te,he,Se,Fe,Te,Re,Pe){Yr(),re.delete(x);let Ke=I.fetchers.get(x);en(x,iC(Re,Ke),{flushSync:Fe});let Le=new AbortController,Ye=vl(n.history,W,Le.signal,Re);if(Se){let wt=await rn(te,new URL(Ye.url).pathname,Ye.signal,x);if(wt.type==="aborted")return;if(wt.type==="error"){wn(x,U,wt.error,{flushSync:Fe});return}else if(wt.matches)te=wt.matches;else{wn(x,U,si(404,{pathname:W}),{flushSync:Fe});return}}let et=Oh(te,W);if(!et.route.action&&!et.route.lazy){let wt=si(405,{method:Re.formMethod,pathname:W,routeId:U});wn(x,U,wt,{flushSync:Fe});return}$.set(x,Le);let Nt=pe,Mt=Pl(o,l,Ye,te,et,r,he),Gt=await jn(Ye,Mt,he,x),ot=Gt[et.route.id];if(!ot){for(let wt of Mt)if(Gt[wt.route.id]){ot=Gt[wt.route.id];break}}if(Ye.signal.aborted){$.get(x)===Le&&$.delete(x);return}if(ve.has(x)){if(ua(ot)||zr(ot)){en(x,Es(void 0));return}}else{if(ua(ot))if($.delete(x),ne>Nt){en(x,Es(void 0));return}else return G.add(x),en(x,ju(Re)),gr(Ye,ot,!1,{fetcherSubmission:Re,preventScrollReset:Te});if(zr(ot)){wn(x,U,ot.error);return}}let Qt=I.navigation.location||I.location,ft=vl(n.history,Qt,Le.signal),ss=h||c,sr=I.navigation.state!=="idle"?co(ss,I.navigation.location,p):I.matches;st(sr,"Didn't find any matches after fetcher action");let Hn=++pe;O.set(x,Hn);let fi=ju(Re,ot.data);I.fetchers.set(x,fi);let{dsMatches:pi,revalidatingFetchers:vr}=_E(ft,he,o,l,n.history,I,sr,Re,Qt,r,!1,fe,be,ve,re,G,ss,p,n.patchRoutesOnNavigation!=null,[et.route.id,ot],Pe);vr.filter(wt=>wt.key!==x).forEach(wt=>{let or=wt.key,mi=I.fetchers.get(or),pt=ju(void 0,mi?mi.data:void 0);I.fetchers.set(or,pt),En(or),wt.controller&&$.set(or,wt.controller)}),_t({fetchers:new Map(I.fetchers)});let Xr=()=>vr.forEach(wt=>En(wt.key));Le.signal.addEventListener("abort",Xr);let{loaderResults:In,fetcherResults:rt}=await Dr(pi,vr,ft,he);if(Le.signal.aborted)return;if(Le.signal.removeEventListener("abort",Xr),O.delete(x),$.delete(x),vr.forEach(wt=>$.delete(wt.key)),I.fetchers.has(x)){let wt=Es(ot.data);I.fetchers.set(x,wt)}let vt=_h(In);if(vt)return gr(ft,vt.result,!1,{preventScrollReset:Te});if(vt=_h(rt),vt)return G.add(vt.key),gr(ft,vt.result,!1,{preventScrollReset:Te});let{loaderData:On,errors:sn}=bE(I,sr,In,void 0,vr,rt);hi(Hn),I.navigation.state==="loading"&&Hn>ne?(st(S,"Expected pending action"),D&&D.abort(),Cn(I.navigation.location,{matches:sr,loaderData:On,errors:sn,fetchers:new Map(I.fetchers)})):(_t({errors:sn,loaderData:RE(I.loaderData,On,sr,sn),fetchers:new Map(I.fetchers)}),fe=!1)}async function mr(x,U,W,te,he,Se,Fe,Te,Re){let Pe=I.fetchers.get(x);en(x,ju(Re,Pe?Pe.data:void 0),{flushSync:Fe});let Ke=new AbortController,Le=vl(n.history,W,Ke.signal);if(Se){let ot=await rn(te,new URL(Le.url).pathname,Le.signal,x);if(ot.type==="aborted")return;if(ot.type==="error"){wn(x,U,ot.error,{flushSync:Fe});return}else if(ot.matches)te=ot.matches;else{wn(x,U,si(404,{pathname:W}),{flushSync:Fe});return}}let Ye=Oh(te,W);$.set(x,Ke);let et=pe,Nt=Pl(o,l,Le,te,Ye,r,he),Gt=(await jn(Le,Nt,he,x))[Ye.route.id];if($.get(x)===Ke&&$.delete(x),!Le.signal.aborted){if(ve.has(x)){en(x,Es(void 0));return}if(ua(Gt))if(ne>et){en(x,Es(void 0));return}else{G.add(x),await gr(Le,Gt,!1,{preventScrollReset:Te});return}if(zr(Gt)){wn(x,U,Gt.error);return}en(x,Es(Gt.data))}}async function gr(x,U,W,{submission:te,fetcherSubmission:he,preventScrollReset:Se,replace:Fe}={}){W||(A==null||A.resolve(),A=null),U.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let Te=U.response.headers.get("Location");st(Te,"Expected a Location header on the redirect Response"),Te=IE(Te,new URL(x.url),p,n.history);let Re=wc(I.location,Te,{_isRedirect:!0});if(t){let Nt=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Nt=!0;else if(ay(Te)){const Mt=xI(Te,!0);Nt=Mt.origin!==e.location.origin||li(Mt.pathname,p)==null}if(Nt){Fe?e.location.replace(Te):e.location.assign(Te);return}}D=null;let Pe=Fe===!0||U.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ke,formAction:Le,formEncType:Ye}=I.navigation;!te&&!he&&Ke&&Le&&Ye&&(te=kE(I.navigation));let et=te||he;if(N1.has(U.response.status)&&et&&Jn(et.formMethod))await xn(Pe,Re,{submission:{...et,formAction:Te},preventScrollReset:Se||V,enableViewTransition:W?F:void 0});else{let Nt=Bm(Re,te);await xn(Pe,Re,{overrideNavigation:Nt,fetcherSubmission:he,preventScrollReset:Se||V,enableViewTransition:W?F:void 0})}}async function jn(x,U,W,te){var Fe;let he,Se={};try{he=await $1(y,x,U,te,W,!1)}catch(Te){return U.filter(Re=>Re.shouldLoad).forEach(Re=>{Se[Re.route.id]={type:"error",error:Te}}),Se}if(x.signal.aborted)return Se;if(!Jn(x.method))for(let Te of U){if(((Fe=he[Te.route.id])==null?void 0:Fe.type)==="error")break;!he.hasOwnProperty(Te.route.id)&&!I.loaderData.hasOwnProperty(Te.route.id)&&(!I.errors||!I.errors.hasOwnProperty(Te.route.id))&&Te.shouldCallHandler()&&(he[Te.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Te.route.id}`)})}for(let[Te,Re]of Object.entries(he))if(Z1(Re)){let Pe=Re.result;Se[Te]={type:"redirect",response:K1(Pe,x,Te,U,p)}}else Se[Te]=await W1(Re);return Se}async function Dr(x,U,W,te){let he=jn(W,x,te,null),Se=Promise.all(U.map(async Re=>{if(Re.matches&&Re.match&&Re.request&&Re.controller){let Ke=(await jn(Re.request,Re.matches,te,Re.key))[Re.match.route.id];return{[Re.key]:Ke}}else return Promise.resolve({[Re.key]:{type:"error",error:si(404,{pathname:Re.path})}})})),Fe=await he,Te=(await Se).reduce((Re,Pe)=>Object.assign(Re,Pe),{});return{loaderResults:Fe,fetcherResults:Te}}function Yr(){fe=!0,re.forEach((x,U)=>{$.has(U)&&be.add(U),En(U)})}function en(x,U,W={}){I.fetchers.set(x,U),_t({fetchers:new Map(I.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function wn(x,U,W,te={}){let he=ho(I.matches,U);rr(x),_t({errors:{[he.route.id]:W},fetchers:new Map(I.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Dn(x){return de.set(x,(de.get(x)||0)+1),ve.has(x)&&ve.delete(x),I.fetchers.get(x)||O1}function Nr(x,U){En(x,U==null?void 0:U.reason),en(x,Es(null))}function rr(x){let U=I.fetchers.get(x);$.has(x)&&!(U&&U.state==="loading"&&O.has(x))&&En(x),re.delete(x),O.delete(x),G.delete(x),ve.delete(x),be.delete(x),I.fetchers.delete(x)}function Jr(x){let U=(de.get(x)||0)-1;U<=0?(de.delete(x),ve.add(x)):de.set(x,U),_t({fetchers:new Map(I.fetchers)})}function En(x,U){let W=$.get(x);W&&(W.abort(U),$.delete(x))}function di(x){for(let U of x){let W=Dn(U),te=Es(W.data);I.fetchers.set(U,te)}}function Nn(){let x=[],U=!1;for(let W of G){let te=I.fetchers.get(W);st(te,`Expected fetcher: ${W}`),te.state==="loading"&&(G.delete(W),x.push(W),U=!0)}return di(x),U}function hi(x){let U=[];for(let[W,te]of O)if(te<x){let he=I.fetchers.get(W);st(he,`Expected fetcher: ${W}`),he.state==="loading"&&(En(W),O.delete(W),U.push(W))}return di(U),U.length>0}function yr(x,U){let W=I.blockers.get(x)||zu;return we.get(x)!==U&&we.set(x,U),W}function Tn(x){I.blockers.delete(x),we.delete(x)}function $n(x,U){let W=I.blockers.get(x)||zu;st(W.state==="unblocked"&&U.state==="blocked"||W.state==="blocked"&&U.state==="blocked"||W.state==="blocked"&&U.state==="proceeding"||W.state==="blocked"&&U.state==="unblocked"||W.state==="proceeding"&&U.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${U.state}`);let te=new Map(I.blockers);te.set(x,U),_t({blockers:te})}function _r({currentLocation:x,nextLocation:U,historyAction:W}){if(we.size===0)return;we.size>1&&hn(!1,"A router only supports one blocker at a time");let te=Array.from(we.entries()),[he,Se]=te[te.length-1],Fe=I.blockers.get(he);if(!(Fe&&Fe.state==="proceeding")&&Se({currentLocation:x,nextLocation:U,historyAction:W}))return he}function Et(x){let U=si(404,{pathname:x}),W=h||c,{matches:te,route:he}=yh(W);return{notFoundMatches:te,route:he,error:U}}function ki(x,U,W){if(C=x,N=U,L=W||null,!X&&I.navigation===Um){X=!0;let te=Lt(I.location,I.matches);te!=null&&_t({restoreScrollPosition:te})}return()=>{C=null,N=null,L=null}}function je(x,U){return L&&L(x,U.map(te=>o1(te,I.loaderData)))||x.key}function Tt(x,U){if(C&&N){let W=je(x,U);C[W]=N()}}function Lt(x,U){if(C){let W=je(x,U),te=C[W];if(typeof te=="number")return te}return null}function jt(x,U,W){if(n.patchRoutesOnNavigation)if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:Zu(U,W,p,!0)}}else return{active:!0,matches:Zu(U,W,p,!0)||[]};return{active:!1,matches:null}}async function rn(x,U,W,te){if(!n.patchRoutesOnNavigation)return{type:"success",matches:x};let he=x;for(;;){let Se=h==null,Fe=h||c,Te=l;try{await n.patchRoutesOnNavigation({signal:W,path:U,matches:he,fetcherKey:te,patch:(Ke,Le)=>{W.aborted||vE(Ke,Le,Fe,Te,o,!1)}})}catch(Ke){return{type:"error",error:Ke,partialMatches:he}}finally{Se&&!W.aborted&&(c=[...c])}if(W.aborted)return{type:"aborted"};let Re=co(Fe,U,p),Pe=null;if(Re){if(Object.keys(Re[0].params).length===0)return{type:"success",matches:Re};if(Pe=Zu(Fe,U,p,!0),!(Pe&&he.length<Pe.length&&Dt(he,Pe.slice(0,he.length))))return{type:"success",matches:Re}}if(Pe||(Pe=Zu(Fe,U,p,!0)),!Pe||Dt(he,Pe))return{type:"success",matches:null};he=Pe}}function Dt(x,U){return x.length===U.length&&x.every((W,te)=>W.route.id===U[te].route.id)}function Kt(x){l={},h=Ec(x,o,void 0,l)}function ir(x,U,W=!1){let te=h==null;vE(x,U,h||c,l,o,W),te&&(c=[...c],_t({}))}return ue={get basename(){return p},get future(){return g},get state(){return I},get routes(){return c},get window(){return e},initialize:Ze,subscribe:pr,enableScrollRestoration:ki,navigate:xr,fetch:nr,revalidate:Us,createHref:x=>n.history.createHref(x),encodeLocation:x=>n.history.encodeLocation(x),getFetcher:Dn,resetFetcher:Nr,deleteFetcher:Jr,dispose:At,getBlocker:yr,deleteBlocker:Tn,patchRoutes:ir,_internalFetchControllers:$,_internalSetRoutes:Kt,_internalSetStateDoNotUseOrYouWillBreakYourApp(x){_t(x)}},n.unstable_instrumentations&&(ue=b1(ue,n.unstable_instrumentations.map(x=>x.router).filter(Boolean))),ue}function M1(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function mg(n,e,t,r,i,o){let l,c;if(i){l=[];for(let p of e)if(l.push(p),p.route.id===i){c=p;break}}else l=e,c=e[e.length-1];let h=uy(r||".",ly(l),li(n.pathname,t)||n.pathname,o==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&c){let p=hy(h.search);if(c.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&p){let y=new URLSearchParams(h.search),g=y.getAll("index");y.delete("index"),g.filter(b=>b).forEach(b=>y.append("index",b));let w=y.toString();h.search=w?`?${w}`:""}}return t!=="/"&&(h.pathname=v1({basename:t,pathname:h.pathname})),Zi(h)}function yE(n,e,t){if(!t||!M1(t))return{path:e};if(t.formMethod&&!nC(t.formMethod))return{path:e,error:si(405,{method:t.formMethod})};let r=()=>({path:e,error:si(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),l=GI(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Jn(o))return r();let g=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[b,C])=>`${w}${b}=${C}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:g}}}else if(t.formEncType==="application/json"){if(!Jn(o))return r();try{let g=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:g,text:void 0}}}catch{return r()}}}st(typeof FormData=="function","FormData is not available in this environment");let c,h;if(t.formData)c=_g(t.formData),h=t.formData;else if(t.body instanceof FormData)c=_g(t.body),h=t.body;else if(t.body instanceof URLSearchParams)c=t.body,h=SE(c);else if(t.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(t.body),h=SE(c)}catch{return r()}let p={formMethod:o,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Jn(p.formMethod))return{path:e,submission:p};let y=xo(e);return n&&y.search&&hy(y.search)&&c.append("index",""),y.search=`?${c}`,{path:Zi(y),submission:p}}function _E(n,e,t,r,i,o,l,c,h,p,y,g,w,b,C,L,N,X,K,Z,oe){var ze;let ie=Z?zr(Z[1])?Z[1].error:Z[1].data:void 0,ue=i.createURL(o.location),I=i.createURL(h),S;if(y&&o.errors){let fe=Object.keys(o.errors)[0];S=l.findIndex(be=>be.route.id===fe)}else if(Z&&zr(Z[1])){let fe=Z[0];S=l.findIndex(be=>be.route.id===fe)-1}let A=Z?Z[1].statusCode:void 0,V=A&&A>=400,D={currentUrl:ue,currentParams:((ze=o.matches[0])==null?void 0:ze.params)||{},nextUrl:I,nextParams:l[0].params,...c,actionResult:ie,actionStatus:A},F=Wc(l),P=l.map((fe,be)=>{let{route:$}=fe,pe=null;if(S!=null&&be>S?pe=!1:$.lazy?pe=!0:cy($)?y?pe=gg($,o.loaderData,o.errors):F1(o.loaderData,o.matches[be],fe)&&(pe=!0):pe=!1,pe!==null)return yg(t,r,n,F,fe,p,e,pe);let ne=!1;typeof oe=="boolean"?ne=oe:V?ne=!1:(g||ue.pathname+ue.search===I.pathname+I.search||ue.search!==I.search||U1(o.matches[be],fe))&&(ne=!0);let O={...D,defaultShouldRevalidate:ne},G=lc(fe,O);return yg(t,r,n,F,fe,p,e,G,O,oe)}),Be=[];return C.forEach((fe,be)=>{if(y||!l.some(ve=>ve.route.id===fe.routeId)||b.has(be))return;let $=o.fetchers.get(be),pe=$&&$.state!=="idle"&&$.data===void 0,ne=co(N,fe.path,X);if(!ne){if(K&&pe)return;Be.push({key:be,routeId:fe.routeId,path:fe.path,matches:null,match:null,request:null,controller:null});return}if(L.has(be))return;let O=Oh(ne,fe.path),G=new AbortController,re=vl(i,fe.path,G.signal),de=null;if(w.has(be))w.delete(be),de=Pl(t,r,re,ne,O,p,e);else if(pe)g&&(de=Pl(t,r,re,ne,O,p,e));else{let ve;typeof oe=="boolean"?ve=oe:V?ve=!1:ve=g;let we={...D,defaultShouldRevalidate:ve};lc(O,we)&&(de=Pl(t,r,re,ne,O,p,e,we))}de&&Be.push({key:be,routeId:fe.routeId,path:fe.path,matches:de,match:O,request:re,controller:G})}),{dsMatches:P,revalidatingFetchers:Be}}function cy(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function gg(n,e,t){if(n.lazy)return!0;if(!cy(n))return!1;let r=e!=null&&n.id in e,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function F1(n,e,t){let r=!e||t.route.id!==e.route.id,i=!n.hasOwnProperty(t.route.id);return r||i}function U1(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function lc(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function vE(n,e,t,r,i,o){let l;if(n){let p=r[n];st(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let c=[],h=[];if(e.forEach(p=>{let y=l.find(g=>$I(p,g));y?h.push({existingRoute:y,newRoute:p}):c.push(p)}),c.length>0){let p=Ec(c,i,[n||"_","patch",String((l==null?void 0:l.length)||"0")],r);l.push(...p)}if(o&&h.length>0)for(let p=0;p<h.length;p++){let{existingRoute:y,newRoute:g}=h[p],w=y,[b]=Ec([g],i,[],{},!0);Object.assign(w,{element:b.element?b.element:w.element,errorElement:b.errorElement?b.errorElement:w.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:w.hydrateFallbackElement})}}function $I(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>$I(t,o))}):!1}var wE=new WeakMap,HI=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let i=t[e.id];if(st(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[n];if(!o)return;let l=wE.get(i);l||(l={},wE.set(i,l));let c=l[n];if(c)return c;let h=(async()=>{let p=n1(n),g=i[n]!==void 0&&n!=="hasErrorBoundary";if(p)hn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),l[n]=Promise.resolve();else if(g)hn(!1,`Route "${i.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(i,{[n]:w}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[n]=void 0,Object.values(i.lazy).every(w=>w===void 0)&&(i.lazy=void 0))})();return l[n]=h,h},EE=new WeakMap;function B1(n,e,t,r,i){let o=t[n.id];if(st(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=EE.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let g=(async()=>{st(typeof n.lazy=="function","No lazy route function found");let w=await n.lazy(),b={};for(let C in w){let L=w[C];if(L===void 0)continue;let N=i1(C),K=o[C]!==void 0&&C!=="hasErrorBoundary";N?hn(!N,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):K?hn(!K,`Route "${o.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):b[C]=L}Object.assign(o,b),Object.assign(o,{...r(o),lazy:void 0})})();return EE.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(n.lazy),c=[],h;for(let y of l){if(i&&i.includes(y))continue;let g=HI({key:y,route:n,manifest:t,mapRouteProperties:r});g&&(c.push(g),y===e&&(h=g))}let p=c.length>0?Promise.all(c).then(()=>{}):void 0;return p==null||p.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:h}}async function TE(n){let e=n.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{t[e[o].route.id]=i}),t}async function z1(n){return n.matches.some(e=>e.route.middleware)?qI(n,()=>TE(n)):TE(n)}function qI(n,e){return j1(n,e,r=>{if(tC(r))throw r;return r},J1,t);function t(r,i,o){if(o)return Promise.resolve(Object.assign(o.value,{[i]:{type:"error",result:r}}));{let{matches:l}=n,c=Math.min(Math.max(l.findIndex(p=>p.route.id===i),0),Math.max(l.findIndex(p=>p.shouldCallHandler()),0)),h=ho(l,l[c].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:r}})}}}async function j1(n,e,t,r,i){let{matches:o,request:l,params:c,context:h,unstable_pattern:p}=n,y=o.flatMap(w=>w.route.middleware?w.route.middleware.map(b=>[w.route.id,b]):[]);return await WI({request:l,params:c,context:h,unstable_pattern:p},y,e,t,r,i)}async function WI(n,e,t,r,i,o,l=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let h=e[l];if(!h)return await t();let[p,y]=h,g,w=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await WI(n,e,t,r,i,o,l+1)},g.value}catch(b){return g={value:await o(b,p,g)},g.value}};try{let b=await y(n,w),C=b!=null?r(b):void 0;return i(C)?C:g?C??g.value:(g={value:await w()},g.value)}catch(b){return await o(b,p,g)}}function KI(n,e,t,r,i){let o=HI({key:"middleware",route:r.route,manifest:e,mapRouteProperties:n}),l=B1(r.route,Jn(t.method)?"action":"loader",e,n,i);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function yg(n,e,t,r,i,o,l,c,h=null,p){let y=!1,g=KI(n,e,t,i,o);return{...i,_lazyPromises:g,shouldLoad:c,shouldRevalidateArgs:h,shouldCallHandler(w){return y=!0,h?typeof p=="boolean"?lc(i,{...h,defaultShouldRevalidate:p}):typeof w=="boolean"?lc(i,{...h,defaultShouldRevalidate:w}):lc(i,h):c},resolve(w){let{lazy:b,loader:C,middleware:L}=i.route,N=y||c||w&&!Jn(t.method)&&(b||C),X=L&&L.length>0&&!C&&!b;return N&&(Jn(t.method)||!X)?H1({request:t,unstable_pattern:r,match:i,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:w,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Pl(n,e,t,r,i,o,l,c=null){return r.map(h=>h.route.id!==i.route.id?{...h,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:KI(n,e,t,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:yg(n,e,t,Wc(r),h,o,l,!0,c))}async function $1(n,e,t,r,i,o){t.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let l={request:e,unstable_pattern:Wc(t),params:t[0].params,context:i,matches:t},h=await n({...l,fetcherKey:r,runClientMiddleware:p=>{let y=l;return qI(y,()=>p({...y,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(p=>{var y,g;return[(y=p._lazyPromises)==null?void 0:y.handler,(g=p._lazyPromises)==null?void 0:g.route]}))}catch{}return h}async function H1({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:o,scopedContext:l}){let c,h,p=Jn(n.method),y=p?"action":"loader",g=w=>{let b,C=new Promise((X,K)=>b=K);h=()=>b(),n.signal.addEventListener("abort",h);let L=X=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):w({request:n,unstable_pattern:e,params:t.params,context:l},...X!==void 0?[X]:[]),N=(async()=>{try{return{type:"data",result:await(o?o(K=>L(K)):L())}}catch(X){return{type:"error",result:X}}})();return Promise.race([N,C])};try{let w=p?t.route.action:t.route.loader;if(r||i)if(w){let b,[C]=await Promise.all([g(w).catch(L=>{b=L}),r,i]);if(b!==void 0)throw b;c=C}else{await r;let b=p?t.route.action:t.route.loader;if(b)[c]=await Promise.all([g(b),i]);else if(y==="action"){let C=new URL(n.url),L=C.pathname+C.search;throw si(405,{method:n.method,pathname:L,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(w)c=await g(w);else{let b=new URL(n.url),C=b.pathname+b.search;throw si(404,{pathname:C})}}catch(w){return{type:"error",result:w}}finally{h&&n.signal.removeEventListener("abort",h)}return c}async function q1(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function W1(n){var r,i,o,l,c;let{result:e,type:t}=n;if(dy(e)){let h;try{h=await q1(e)}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new qc(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return t==="error"?PE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:Y1(e),statusCode:Tc(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Tc(e)?e.status:void 0}:PE(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function K1(n,e,t,r,i){let o=n.headers.get("Location");if(st(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ay(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===t)+1);o=mg(new URL(e.url),l,i,o),n.headers.set("Location",o)}return n}function IE(n,e,t,r){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(ay(n)){let o=n,l=o.startsWith("//")?new URL(e.protocol+o):new URL(o);if(i.includes(l.protocol))throw new Error("Invalid redirect location");let c=li(l.pathname,t)!=null;if(l.origin===e.origin&&c)return l.pathname+l.search+l.hash}try{let o=r.createURL(n);if(i.includes(o.protocol))throw new Error("Invalid redirect location")}catch{}return n}function vl(n,e,t,r){let i=n.createURL(GI(e)).toString(),o={signal:t};if(r&&Jn(r.formMethod)){let{formMethod:l,formEncType:c}=r;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=_g(r.formData):o.body=r.formData}return new Request(i,o)}function _g(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function SE(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function G1(n,e,t,r=!1,i=!1){let o={},l=null,c,h=!1,p={},y=t&&zr(t[1])?t[1].error:void 0;return n.forEach(g=>{if(!(g.route.id in e))return;let w=g.route.id,b=e[w];if(st(!ua(b),"Cannot handle redirect results in processLoaderData"),zr(b)){let C=b.error;if(y!==void 0&&(C=y,y=void 0),l=l||{},i)l[w]=C;else{let L=ho(n,w);l[L.route.id]==null&&(l[L.route.id]=C)}r||(o[w]=jI),h||(h=!0,c=Tc(b.error)?b.error.status:500),b.headers&&(p[w]=b.headers)}else o[w]=b.data,b.statusCode&&b.statusCode!==200&&!h&&(c=b.statusCode),b.headers&&(p[w]=b.headers)}),y!==void 0&&t&&(l={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:p}}function bE(n,e,t,r,i,o){let{loaderData:l,errors:c}=G1(e,t,r);return i.filter(h=>!h.matches||h.matches.some(p=>p.shouldLoad)).forEach(h=>{let{key:p,match:y,controller:g}=h;if(g&&g.signal.aborted)return;let w=o[p];if(st(w,"Did not find corresponding fetcher result"),zr(w)){let b=ho(n.matches,y==null?void 0:y.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:w.error}),n.fetchers.delete(p)}else if(ua(w))st(!1,"Unhandled fetcher revalidation redirect");else{let b=Es(w.data);n.fetchers.set(p,b)}}),{loaderData:l,errors:c}}function RE(n,e,t,r){let i=Object.entries(e).filter(([,o])=>o!==jI).reduce((o,[l,c])=>(o[l]=c,o),{});for(let o of t){let l=o.route.id;if(!e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&o.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function AE(n){return n?zr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ho(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function yh(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function si(n,{pathname:e,routeId:t,method:r,type:i,message:o}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(l="Bad Request",r&&e&&t?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):n===403?(l="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(l="Not Found",c=`No route matches URL "${e}"`):n===405&&(l="Method Not Allowed",r&&e&&t?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new qc(n||500,l,new Error(c),!0)}function _h(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(ua(i))return{key:r,result:i}}}function GI(n){let e=typeof n=="string"?xo(n):n;return Zi({...e,hash:""})}function Q1(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Y1(n){var e,t;return new qc(((e=n.init)==null?void 0:e.status)??500,((t=n.init)==null?void 0:t.statusText)??"Internal Server Error",n.data)}function J1(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&X1(t))}function X1(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function Z1(n){return dy(n.result)&&BI.has(n.result.status)}function zr(n){return n.type==="error"}function ua(n){return(n&&n.type)==="redirect"}function PE(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function dy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function eC(n){return BI.has(n)}function tC(n){return dy(n)&&eC(n.status)&&n.headers.has("Location")}function nC(n){return D1.has(n.toUpperCase())}function Jn(n){return C1.has(n.toUpperCase())}function hy(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Oh(n,e){let t=typeof e=="string"?xo(e).search:e.search;if(n[n.length-1].route.index&&hy(t||""))return n[n.length-1];let r=VI(n);return r[r.length-1]}function kE(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:o,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function Bm(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ju(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iC(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Es(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function sC(n,e){try{let t=n.sessionStorage.getItem(zI);if(t){let r=JSON.parse(t);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function oC(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(zI,JSON.stringify(t))}catch(r){hn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function CE(){let n,e,t=new Promise((r,i)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{i(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Ca=z.createContext(null);Ca.displayName="DataRouter";var Kc=z.createContext(null);Kc.displayName="DataRouterState";var QI=z.createContext(!1);function aC(){return z.useContext(QI)}var fy=z.createContext({isTransitioning:!1});fy.displayName="ViewTransition";var YI=z.createContext(new Map);YI.displayName="Fetchers";var lC=z.createContext(null);lC.displayName="Await";var ci=z.createContext(null);ci.displayName="Navigation";var kf=z.createContext(null);kf.displayName="Location";var ns=z.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var py=z.createContext(null);py.displayName="RouteError";var JI="REACT_ROUTER_ERROR",uC="REDIRECT",cC="ROUTE_ERROR_RESPONSE";function dC(n){if(n.startsWith(`${JI}:${uC}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function hC(n){if(n.startsWith(`${JI}:${cC}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new qc(e.status,e.statusText,e.data)}catch{}}function fC(n,{relative:e}={}){st(Gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=z.useContext(ci),{hash:i,pathname:o,search:l}=Qc(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Qi([t,o])),r.createHref({pathname:c,search:l,hash:i})}function Gc(){return z.useContext(kf)!=null}function xa(){return st(Gc(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(kf).location}var XI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZI(n){z.useContext(ci).static||z.useLayoutEffect(n)}function pC(){let{isDataRoute:n}=z.useContext(ns);return n?AC():mC()}function mC(){st(Gc(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Ca),{basename:e,navigator:t}=z.useContext(ci),{matches:r}=z.useContext(ns),{pathname:i}=xa(),o=JSON.stringify(ly(r)),l=z.useRef(!1);return ZI(()=>{l.current=!0}),z.useCallback((h,p={})=>{if(hn(l.current,XI),!l.current)return;if(typeof h=="number"){t.go(h);return}let y=uy(h,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Qi([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,i,n])}z.createContext(null);function Y5(){let{matches:n}=z.useContext(ns),e=n[n.length-1];return e?e.params:{}}function Qc(n,{relative:e}={}){let{matches:t}=z.useContext(ns),{pathname:r}=xa(),i=JSON.stringify(ly(t));return z.useMemo(()=>uy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function gC(n,e,t,r,i){st(Gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(ci),{matches:l}=z.useContext(ns),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",g=c&&c.route;{let K=g&&g.path||"";tS(p,!g||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=xa(),b;b=w;let C=b.pathname||"/",L=C;if(y!=="/"){let K=y.replace(/^\//,"").split("/");L="/"+C.replace(/^\//,"").split("/").slice(K.length).join("/")}let N=co(n,{pathname:L});return hn(g||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),hn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),EC(N&&N.map(K=>Object.assign({},K,{params:Object.assign({},h,K.params),pathname:Qi([y,o.encodeLocation?o.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:Qi([y,o.encodeLocation?o.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),l,t,r,i)}function yC(){let n=RC(),e=Tc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:i},t):null,l)}var _C=z.createElement(yC,null),eS=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=hC(n.digest);t&&(n=t)}let e=n!==void 0?z.createElement(ns.Provider,{value:this.props.routeContext},z.createElement(py.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?z.createElement(vC,{error:n},e):e}};eS.contextType=QI;var zm=new WeakMap;function vC({children:n,error:e}){let{basename:t}=z.useContext(ci);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=dC(e.digest);if(r){let i=zm.get(e);if(i)throw i;let o=MI(r.location,t);if(LI&&!zm.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw zm.set(e,l),l}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function wC({routeContext:n,match:e,children:t}){let r=z.useContext(Ca);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ns.Provider,{value:n},t)}function EC(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let y=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);st(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let c=!1,h=-1;if(t)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=y),g.route.id){let{loaderData:w,errors:b}=t,C=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||C){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let p=t&&r?(y,g)=>{var w,b;r(y,{location:t.location,params:((b=(w=t.matches)==null?void 0:w[0])==null?void 0:b.params)??{},unstable_pattern:Wc(t.matches),errorInfo:g})}:void 0;return o.reduceRight((y,g,w)=>{let b,C=!1,L=null,N=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,L=g.route.errorElement||_C,c&&(h<0&&w===0?(tS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,N=null):h===w&&(C=!0,N=g.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,w+1)),K=()=>{let Z;return b?Z=L:C?Z=N:g.route.Component?Z=z.createElement(g.route.Component,null):g.route.element?Z=g.route.element:Z=y,z.createElement(wC,{match:g,routeContext:{outlet:y,matches:X,isDataRoute:t!=null},children:Z})};return t&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?z.createElement(eS,{location:t.location,revalidation:t.revalidation,component:L,error:b,children:K(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:p}):K()},null)}function my(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TC(n){let e=z.useContext(Ca);return st(e,my(n)),e}function IC(n){let e=z.useContext(Kc);return st(e,my(n)),e}function SC(n){let e=z.useContext(ns);return st(e,my(n)),e}function gy(n){let e=SC(n),t=e.matches[e.matches.length-1];return st(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bC(){return gy("useRouteId")}function RC(){var r;let n=z.useContext(py),e=IC("useRouteError"),t=gy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function AC(){let{router:n}=TC("useNavigate"),e=gy("useNavigate"),t=z.useRef(!1);return ZI(()=>{t.current=!0}),z.useCallback(async(i,o={})=>{hn(t.current,XI),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var xE={};function tS(n,e,t){!e&&!xE[n]&&(xE[n]=!0,hn(!1,t))}var DE={};function NE(n,e){!n&&!DE[e]&&(DE[e]=!0,console.warn(e))}var PC="useOptimistic",OE=Qk[PC],kC=()=>{};function CC(n){return OE?OE(n):[n,kC]}function xC(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&hn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:z.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&hn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:z.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&hn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:z.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var DC=["HydrateFallback","hydrateFallbackElement"],NC=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function OC({router:n,flushSync:e,onError:t,unstable_useTransitions:r}){r=aC()||r;let[o,l]=z.useState(n.state),[c,h]=CC(o),[p,y]=z.useState(),[g,w]=z.useState({isTransitioning:!1}),[b,C]=z.useState(),[L,N]=z.useState(),[X,K]=z.useState(),Z=z.useRef(new Map),oe=z.useCallback((S,{deletedFetchers:A,newErrors:V,flushSync:D,viewTransitionOpts:F})=>{V&&t&&Object.values(V).forEach(Be=>{var ze;return t(Be,{location:S.location,params:((ze=S.matches[0])==null?void 0:ze.params)??{},unstable_pattern:Wc(S.matches)})}),S.fetchers.forEach((Be,ze)=>{Be.data!==void 0&&Z.current.set(ze,Be.data)}),A.forEach(Be=>Z.current.delete(Be)),NE(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(NE(F==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!P){e&&D?e(()=>l(S)):r===!1?l(S):z.startTransition(()=>{r===!0&&h(Be=>VE(Be,S)),l(S)});return}if(e&&D){e(()=>{L&&(b==null||b.resolve(),L.skipTransition()),w({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let Be=n.window.document.startViewTransition(()=>{e(()=>l(S))});Be.finished.finally(()=>{e(()=>{C(void 0),N(void 0),y(void 0),w({isTransitioning:!1})})}),e(()=>N(Be));return}L?(b==null||b.resolve(),L.skipTransition(),K({state:S,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(y(S),w({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,e,L,b,r,h,t]);z.useLayoutEffect(()=>n.subscribe(oe),[n,oe]),z.useEffect(()=>{g.isTransitioning&&!g.flushSync&&C(new NC)},[g]),z.useEffect(()=>{if(b&&p&&n.window){let S=p,A=b.promise,V=n.window.document.startViewTransition(async()=>{r===!1?l(S):z.startTransition(()=>{r===!0&&h(D=>VE(D,S)),l(S)}),await A});V.finished.finally(()=>{C(void 0),N(void 0),y(void 0),w({isTransitioning:!1})}),N(V)}},[p,b,n.window,r,h]),z.useEffect(()=>{b&&p&&c.location.key===p.location.key&&b.resolve()},[b,L,c.location,p]),z.useEffect(()=>{!g.isTransitioning&&X&&(y(X.state),w({isTransitioning:!0,flushSync:!1,currentLocation:X.currentLocation,nextLocation:X.nextLocation}),K(void 0))},[g.isTransitioning,X]);let ie=z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,A,V)=>n.navigate(S,{state:A,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(S,A,V)=>n.navigate(S,{replace:!0,state:A,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[n]),ue=n.basename||"/",I=z.useMemo(()=>({router:n,navigator:ie,static:!1,basename:ue,onError:t}),[n,ie,ue,t]);return z.createElement(z.Fragment,null,z.createElement(Ca.Provider,{value:I},z.createElement(Kc.Provider,{value:c},z.createElement(YI.Provider,{value:Z.current},z.createElement(fy.Provider,{value:g},z.createElement(MC,{basename:ue,location:c.location,navigationType:c.historyAction,navigator:ie,unstable_useTransitions:r},z.createElement(VC,{routes:n.routes,future:n.future,state:c,onError:t})))))),null)}function VE(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var VC=z.memo(LC);function LC({routes:n,future:e,state:t,onError:r}){return gC(n,void 0,t,r,e)}function MC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){st(!Gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:c,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[c,i,o,l]);typeof t=="string"&&(t=xo(t));let{pathname:p="/",search:y="",hash:g="",state:w=null,key:b="default"}=t,C=z.useMemo(()=>{let L=li(p,c);return L==null?null:{location:{pathname:L,search:y,hash:g,state:w,key:b},navigationType:r}},[c,p,y,g,w,b,r]);return hn(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:z.createElement(ci.Provider,{value:h},z.createElement(kf.Provider,{children:e,value:C}))}var Vh="get",Lh="application/x-www-form-urlencoded";function Cf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function FC(n){return Cf(n)&&n.tagName.toLowerCase()==="button"}function UC(n){return Cf(n)&&n.tagName.toLowerCase()==="form"}function BC(n){return Cf(n)&&n.tagName.toLowerCase()==="input"}function zC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jC(n,e){return n.button===0&&(!e||e==="_self")&&!zC(n)}var vh=null;function $C(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var HC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(n){return n!=null&&!HC.has(n)?(hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lh}"`),null):n}function qC(n,e){let t,r,i,o,l;if(UC(n)){let c=n.getAttribute("action");r=c?li(c,e):null,t=n.getAttribute("method")||Vh,i=jm(n.getAttribute("enctype"))||Lh,o=new FormData(n)}else if(FC(n)||BC(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?li(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Vh,i=jm(n.getAttribute("formenctype"))||jm(c.getAttribute("enctype"))||Lh,o=new FormData(c,n),!$C()){let{name:p,type:y,value:g}=n;if(y==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,g)}}else{if(Cf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Vh,r=null,i=Lh,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function WC(n,e,t,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&li(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function KC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function QC(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await KC(o,t);return l.links?l.links():[]}return[]}));return ZC(r.flat(1).filter(GC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function LE(n,e,t,r,i,o){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,c=(h,p)=>{var y;return t[p].pathname!==h.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):o==="data"?e.filter((h,p)=>{var g;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function YC(n,e,{includeHydrateFallback:t}={}){return JC(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function JC(n){return[...new Set(n)]}function XC(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function ZC(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(XC(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function nS(){let n=z.useContext(Ca);return yy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ex(){let n=z.useContext(Kc);return yy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _y=z.createContext(void 0);_y.displayName="FrameworkContext";function rS(){let n=z.useContext(_y);return yy(n,"You must render this element inside a <HydratedRouter> element"),n}function tx(n,e){let t=z.useContext(_y),[r,i]=z.useState(!1),[o,l]=z.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:g}=e,w=z.useRef(null);z.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let L=X=>{X.forEach(K=>{l(K.isIntersecting)})},N=new IntersectionObserver(L,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[n]),z.useEffect(()=>{if(r){let L=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(L)}}},[r]);let b=()=>{i(!0)},C=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:$u(c,b),onBlur:$u(h,C),onMouseEnter:$u(p,b),onMouseLeave:$u(y,C),onTouchStart:$u(g,b)}]:[!1,w,{}]}function $u(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function nx({page:n,...e}){let{router:t}=nS(),r=z.useMemo(()=>co(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?z.createElement(ix,{page:n,matches:r,...e}):null}function rx(n){let{manifest:e,routeModules:t}=rS(),[r,i]=z.useState([]);return z.useEffect(()=>{let o=!1;return QC(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function ix({page:n,matches:e,...t}){let r=xa(),{future:i,manifest:o,routeModules:l}=rS(),{basename:c}=nS(),{loaderData:h,matches:p}=ex(),y=z.useMemo(()=>LE(n,e,p,o,r,"data"),[n,e,p,o,r]),g=z.useMemo(()=>LE(n,e,p,o,r,"assets"),[n,e,p,o,r]),w=z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let L=new Set,N=!1;if(e.forEach(K=>{var oe;let Z=o.routes[K.route.id];!Z||!Z.hasLoader||(!y.some(ie=>ie.route.id===K.route.id)&&K.route.id in h&&((oe=l[K.route.id])!=null&&oe.shouldRevalidate)||Z.hasClientLoader?N=!0:L.add(K.route.id))}),L.size===0)return[];let X=WC(n,c,i.unstable_trailingSlashAwareDataRequests,"data");return N&&L.size>0&&X.searchParams.set("_routes",e.filter(K=>L.has(K.route.id)).map(K=>K.route.id).join(",")),[X.pathname+X.search]},[c,i.unstable_trailingSlashAwareDataRequests,h,r,o,y,e,n,l]),b=z.useMemo(()=>YC(g,o),[g,o]),C=rx(g);return z.createElement(z.Fragment,null,w.map(L=>z.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),b.map(L=>z.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),C.map(({key:L,link:N})=>z.createElement("link",{key:L,nonce:t.nonce,...N,crossOrigin:N.crossOrigin??t.crossOrigin})))}function sx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ox&&(window.__reactRouterVersion="7.13.0")}catch{}function ax(n,e){return L1({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:Xk({window:e==null?void 0:e.window}),hydrationData:lx(),routes:n,mapRouteProperties:xC,hydrationRouteProperties:DC,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function lx(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:ux(n.errors)}),n}function ux(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new qc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let o=new Error(i.message);o.stack="",t[r]=o}}else t[r]=i;return t}var iS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sS=z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:h,to:p,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:w,...b},C){let{basename:L,unstable_useTransitions:N}=z.useContext(ci),X=typeof p=="string"&&iS.test(p),K=MI(p,L);p=K.to;let Z=fC(p,{relative:i}),[oe,ie,ue]=tx(r,b),I=fx(p,{replace:l,state:c,target:h,preventScrollReset:y,relative:i,viewTransition:g,unstable_defaultShouldRevalidate:w,unstable_useTransitions:N});function S(V){e&&e(V),V.defaultPrevented||I(V)}let A=z.createElement("a",{...b,...ue,href:K.absoluteURL||Z,onClick:K.isExternal||o?e:S,ref:sx(C,ie),target:h,"data-discover":!X&&t==="render"?"true":void 0});return oe&&!X?z.createElement(z.Fragment,null,A,z.createElement(nx,{page:Z})):A});sS.displayName="Link";var cx=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:h,...p},y){let g=Qc(l,{relative:p.relative}),w=xa(),b=z.useContext(Kc),{navigator:C,basename:L}=z.useContext(ci),N=b!=null&&_x(g)&&c===!0,X=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,K=w.pathname,Z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(K=K.toLowerCase(),Z=Z?Z.toLowerCase():null,X=X.toLowerCase()),Z&&L&&(Z=li(Z,L)||Z);const oe=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ie=K===X||!i&&K.startsWith(X)&&K.charAt(oe)==="/",ue=Z!=null&&(Z===X||!i&&Z.startsWith(X)&&Z.charAt(X.length)==="/"),I={isActive:ie,isPending:ue,isTransitioning:N},S=ie?e:void 0,A;typeof r=="function"?A=r(I):A=[r,ie?"active":null,ue?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(I):o;return z.createElement(sS,{...p,"aria-current":S,className:A,ref:y,style:V,to:l,viewTransition:c},typeof h=="function"?h(I):h)});cx.displayName="NavLink";var dx=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Vh,action:c,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:w,...b},C)=>{let{unstable_useTransitions:L}=z.useContext(ci),N=gx(),X=yx(c,{relative:p}),K=l.toLowerCase()==="get"?"get":"post",Z=typeof c=="string"&&iS.test(c),oe=ie=>{if(h&&h(ie),ie.defaultPrevented)return;ie.preventDefault();let ue=ie.nativeEvent.submitter,I=(ue==null?void 0:ue.getAttribute("formmethod"))||l,S=()=>N(ue||ie.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:i,state:o,relative:p,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:w});L&&t!==!1?z.startTransition(()=>S()):S()};return z.createElement("form",{ref:C,method:K,action:X,onSubmit:r?h:oe,...b,"data-discover":!Z&&n==="render"?"true":void 0})});dx.displayName="Form";function hx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oS(n){let e=z.useContext(Ca);return st(e,hx(n)),e}function fx(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:h}={}){let p=pC(),y=xa(),g=Qc(n,{relative:o});return z.useCallback(w=>{if(jC(w,e)){w.preventDefault();let b=t!==void 0?t:Zi(y)===Zi(g),C=()=>p(n,{replace:b,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c});h?z.startTransition(()=>C()):C()}},[y,p,g,t,r,e,n,i,o,l,c,h])}var px=0,mx=()=>`__${String(++px)}__`;function gx(){let{router:n}=oS("useSubmit"),{basename:e}=z.useContext(ci),t=bC(),r=n.fetch,i=n.navigate;return z.useCallback(async(o,l={})=>{let{action:c,method:h,encType:p,formData:y,body:g}=qC(o,e);if(l.navigate===!1){let w=l.fetcherKey||mx();await r(w,t,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||h,formEncType:l.encType||p,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||h,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,t])}function yx(n,{relative:e}={}){let{basename:t}=z.useContext(ci),r=z.useContext(ns);st(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Qc(n||".",{relative:e})},l=xa();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(y=>y==="")){c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let y=c.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Qi([t,o.pathname])),Zi(o)}function _x(n,{relative:e}={}){let t=z.useContext(fy);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oS("useViewTransitionState"),i=Qc(n,{relative:e});if(!t.isTransitioning)return!1;let o=li(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=li(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zh(i.pathname,l)!=null||Zh(i.pathname,o)!=null}const vx="modulepreload",wx=function(n){return"/"+n},ME={},_n=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(t.map(p=>{if(p=wx(p),p in ME)return;ME[p]=!0;const y=p.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":vx,y||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),y)return new Promise((b,C)=>{w.addEventListener("load",b),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},FE=z.lazy(()=>_n(()=>import("./Login-DpD5mtPt.js"),__vite__mapDeps([0,1,2,3,4]))),UE=z.lazy(()=>_n(()=>import("./Dashboard-BH71Uh7a.js"),__vite__mapDeps([5,6,4,1,7,8,9,10,11]))),Ex=z.lazy(()=>_n(()=>import("./LecturerDetails-BXC648Fy.js"),__vite__mapDeps([12,6,4,13,14,9,10,11,15,8]))),Tx=z.lazy(()=>_n(()=>import("./BookClass-Ct__P4GO.js"),__vite__mapDeps([16,6,4,2,3,17,18,19,20,9,1,21,14,8,22,23]))),Ix=z.lazy(()=>_n(()=>import("./MyBookings-CFfVVniC.js"),__vite__mapDeps([24,6,4,13,25,18,19,3,26,14,9,8,15,11,22,27]))),BE=z.lazy(()=>_n(()=>import("./Dashboard-Bsf24kqA.js"),__vite__mapDeps([28,6,4,13,7,8,9,15,29,30]))),Sx=z.lazy(()=>_n(()=>import("./Availability-DsedtKT-.js"),__vite__mapDeps([31,4,18,20,3,2,6,26,14,9,8,32,23]))),zE=z.lazy(()=>_n(()=>import("./Dashboard-vPxKZu6Y.js"),__vite__mapDeps([33,6,4,13,25,18,19,3,7,15,9,34,11,27]))),jE=z.lazy(()=>_n(()=>import("./Dashboard-btEX5XVc.js"),__vite__mapDeps([35,6,4,13,25,18,19,3,21,20,9,23,7,29,30]))),$E=z.lazy(()=>_n(()=>import("./Dashboard-CpLmt-YH.js"),__vite__mapDeps([36,4,13,6,7,9,29]))),bx=z.lazy(()=>_n(()=>import("./NotFound-c3CZLJTB.js"),__vite__mapDeps([37,4,32,9]))),Rx=z.lazy(()=>_n(()=>import("./Register-DpTwukyh.js"),__vite__mapDeps([38,4,2,3,1]))),HE=z.lazy(()=>_n(()=>import("./Onboarding-BYYfceBz.js"),__vite__mapDeps([39,4,2,3,1,17,18,19,20,9]))),Ax=z.lazy(()=>_n(()=>import("./Thread-DpQI95da.js"),__vite__mapDeps([40,4,1,14,9]))),Px=z.lazy(()=>_n(()=>import("./Analytics-BxRZ0k3V.js"),__vite__mapDeps([41,6,4]))),kx=z.lazy(()=>_n(()=>import("./BookingDetails-D-1CtYc8.js"),__vite__mapDeps([42,6,4,13,26,14,9,8,15,11]))),Cx=z.lazy(()=>_n(()=>import("./KYCReview-BETRtgt6.js"),__vite__mapDeps([43,6,4,7,34,9]))),xx=z.lazy(()=>_n(()=>import("./SupportInbox-B2egYrl9.js"),__vite__mapDeps([44,6,7,4]))),Dx=z.lazy(()=>_n(()=>import("./Support-CE0nJyoL.js"),__vite__mapDeps([45,6,4,7]))),Ct=n=>e=>un.jsx(z.Suspense,{fallback:null,children:un.jsx(n,{...e})}),Nx=ax([{path:"/",Component:Ct(FE)},{path:"/login",Component:Ct(FE)},{path:"/register",Component:Ct(Rx)},{path:"/onboarding",Component:Ct(HE)},{path:"/profile",Component:Ct(HE)},{path:"/chat/:bookingId",Component:Ct(Ax)},{path:"/admin/analytics",Component:Ct(Px)},{path:"/student/booking/:id",Component:Ct(kx)},{path:"/admin/kyc",Component:Ct(Cx)},{path:"/admin/support",Component:Ct(xx)},{path:"/support",Component:Ct(Dx)},{path:"/student",children:[{index:!0,Component:Ct(UE)},{path:"dashboard",Component:Ct(UE)},{path:"lecturer/:id",Component:Ct(Ex)},{path:"book/:lecturerId",Component:Ct(Tx)},{path:"bookings",Component:Ct(Ix)}]},{path:"/lecturer",children:[{index:!0,Component:Ct(BE)},{path:"dashboard",Component:Ct(BE)},{path:"availability",Component:Ct(Sx)}]},{path:"/admin",children:[{index:!0,Component:Ct(zE)},{path:"dashboard",Component:Ct(zE)}]},{path:"/super-admin",children:[{index:!0,Component:Ct(jE)},{path:"dashboard",Component:Ct(jE)}]},{path:"/developer",children:[{index:!0,Component:Ct($E)},{path:"dashboard",Component:Ct($E)}]},{path:"*",Component:Ct(bx)}]),Ox=()=>{};var qE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Vx=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,p=h?n[i+2]:0,y=o>>2,g=(o&3)<<4|c>>4;let w=(c&15)<<2|p>>6,b=p&63;h||(b=64,l||(w=64)),r.push(t[y],t[g],t[w],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Vx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||p==null||g==null)throw new Lx;const w=o<<2|c>>4;if(r.push(w),p!==64){const b=c<<4&240|p>>2;if(r.push(b),g!==64){const C=p<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Lx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mx=function(n){const e=aS(n);return lS.encodeByteArray(e,!0)},ef=function(n){return Mx(n).replace(/\./g,"")},uS=function(n){try{return lS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=()=>cS().__FIREBASE_DEFAULTS__,Ux=()=>{if(typeof process>"u"||typeof qE>"u")return;const n=qE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Bx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uS(n[1]);return e&&JSON.parse(e)},xf=()=>{try{return Ox()||Fx()||Ux()||Bx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dS=n=>{var e,t;return(t=(e=xf())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},vy=n=>{const e=dS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},hS=()=>{var n;return(n=xf())==null?void 0:n.config},fS=n=>{var e;return(e=xf())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Df(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ef(JSON.stringify(t)),ef(JSON.stringify(l)),""].join(".")}const uc={};function jx(){const n={prod:[],emulator:[]};for(const e of Object.keys(uc))uc[e]?n.emulator.push(e):n.prod.push(e);return n}function $x(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let WE=!1;function Nf(n,e){if(typeof window>"u"||typeof document>"u"||!rs(window.location.host)||uc[n]===e||uc[n]||WE)return;uc[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=jx().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,b){w.setAttribute("width","24"),w.setAttribute("id",b),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{WE=!0,l()},w}function y(w,b){w.setAttribute("id",b),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){const w=$x(r),b=t("text"),C=document.getElementById(b)||document.createElement("span"),L=t("learnmore"),N=document.getElementById(L)||document.createElement("a"),X=t("preprendIcon"),K=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Z=w.element;c(Z),y(N,L);const oe=p();h(K,X),Z.append(K,C,N,oe),document.body.appendChild(Z)}o?(C.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function mS(){var e;const n=(e=xf())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Wx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kx(){const n=yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yS(){return!mS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _S(){return!mS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function wy(){try{return typeof indexedDB=="object"}catch{return!1}}function vS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}function Gx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="FirebaseError";class Qr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Qx,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}}class Do{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?Yx(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Qr(i,c,r)}}function Yx(n,e){return n.replace(Jx,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Jx=/\{\$([^}]+)}/g;function Xx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(KE(o)&&KE(l)){if(!bo(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function KE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function tc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Zx(n,e){const t=new eD(n,e);return t.subscribe.bind(t)}class eD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tD(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=$m),i.error===void 0&&(i.error=$m),i.complete===void 0&&(i.complete=$m);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $m(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1e3,rD=2,iD=14400*1e3,sD=.5;function GE(n,e=nD,t=rD){const r=e*Math.pow(t,n),i=Math.round(sD*r*(Math.random()-.5)*2);return Math.min(iD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(n){return n&&n._delegate?n._delegate:n}class fr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new zx;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lD(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aD(n){return n===na?void 0:n}function lD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(at||(at={}));const cD={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},dD=at.INFO,hD={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},fD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=hD[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Of{constructor(e){this.name=e,this._logLevel=dD,this._logHandler=fD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const pD=(n,e)=>e.some(t=>n instanceof t);let QE,YE;function mD(){return QE||(QE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gD(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wS=new WeakMap,vg=new WeakMap,ES=new WeakMap,Hm=new WeakMap,Ey=new WeakMap;function yD(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(As(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&wS.set(t,n)}).catch(()=>{}),Ey.set(e,n),e}function _D(n){if(vg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});vg.set(n,e)}let wg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ES.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return As(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vD(n){wg=n(wg)}function wD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qm(this),e,...t);return ES.set(r,e.sort?e.sort():[e]),As(r)}:gD().includes(n)?function(...e){return n.apply(qm(this),e),As(wS.get(this))}:function(...e){return As(n.apply(qm(this),e))}}function ED(n){return typeof n=="function"?wD(n):(n instanceof IDBTransaction&&_D(n),pD(n,mD())?new Proxy(n,wg):n)}function As(n){if(n instanceof IDBRequest)return yD(n);if(Hm.has(n))return Hm.get(n);const e=ED(n);return e!==n&&(Hm.set(n,e),Ey.set(e,n)),e}const qm=n=>Ey.get(n);function Vf(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=As(l);return r&&l.addEventListener("upgradeneeded",h=>{r(As(l.result),h.oldVersion,h.newVersion,As(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}function Wm(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),As(t).then(()=>{})}const TD=["get","getKey","getAll","getAllKeys","count"],ID=["put","add","delete","clear"],Km=new Map;function JE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ID.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TD.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&h.done]))[0]};return Km.set(e,o),o}vD(n=>({...n,get:(e,t,r)=>JE(e,t)||n.get(e,t,r),has:(e,t)=>!!JE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function bD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",XE="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Of("@firebase/app"),RD="@firebase/app-compat",AD="@firebase/analytics-compat",PD="@firebase/analytics",kD="@firebase/app-check-compat",CD="@firebase/app-check",xD="@firebase/auth",DD="@firebase/auth-compat",ND="@firebase/database",OD="@firebase/data-connect",VD="@firebase/database-compat",LD="@firebase/functions",MD="@firebase/functions-compat",FD="@firebase/installations",UD="@firebase/installations-compat",BD="@firebase/messaging",zD="@firebase/messaging-compat",jD="@firebase/performance",$D="@firebase/performance-compat",HD="@firebase/remote-config",qD="@firebase/remote-config-compat",WD="@firebase/storage",KD="@firebase/storage-compat",GD="@firebase/firestore",QD="@firebase/ai",YD="@firebase/firestore-compat",JD="firebase",XD="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",ZD={[Eg]:"fire-core",[RD]:"fire-core-compat",[PD]:"fire-analytics",[AD]:"fire-analytics-compat",[CD]:"fire-app-check",[kD]:"fire-app-check-compat",[xD]:"fire-auth",[DD]:"fire-auth-compat",[ND]:"fire-rtdb",[OD]:"fire-data-connect",[VD]:"fire-rtdb-compat",[LD]:"fire-fn",[MD]:"fire-fn-compat",[FD]:"fire-iid",[UD]:"fire-iid-compat",[BD]:"fire-fcm",[zD]:"fire-fcm-compat",[jD]:"fire-perf",[$D]:"fire-perf-compat",[HD]:"fire-rc",[qD]:"fire-rc-compat",[WD]:"fire-gcs",[KD]:"fire-gcs-compat",[GD]:"fire-fst",[YD]:"fire-fst-compat",[QD]:"fire-vertex","fire-js":"fire-js",[JD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,eN=new Map,Ig=new Map;function ZE(n,e){try{n.container.addComponent(e)}catch(t){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function kr(n){const e=n.name;if(Ig.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,n);for(const t of Ic.values())ZE(t,n);for(const t of eN.values())ZE(t,n);return!0}function Ns(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new Do("app","Firebase",tN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=XD;function TS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Tg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw wo.create("bad-app-name",{appName:String(i)});if(t||(t=hS()),!t)throw wo.create("no-options");const o=Ic.get(i);if(o){if(bo(t,o.options)&&bo(r,o.config))return o;throw wo.create("duplicate-app",{appName:i})}const l=new uD(i);for(const h of Ig.values())l.addComponent(h);const c=new nN(t,r,l);return Ic.set(i,c),c}function Jc(n=Tg){const e=Ic.get(n);if(!e&&n===Tg&&hS())return TS();if(!e)throw wo.create("no-app",{appName:n});return e}function e0(){return Array.from(Ic.values())}function Pn(n,e,t){let r=ZD[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(l.join(" "));return}kr(new fr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firebase-heartbeat-database",iN=1,Sc="firebase-heartbeat-store";let Gm=null;function IS(){return Gm||(Gm=Vf(rN,iN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sc)}catch(t){console.warn(t)}}}}).catch(n=>{throw wo.create("idb-open",{originalErrorMessage:n.message})})),Gm}async function sN(n){try{const t=(await IS()).transaction(Sc),r=await t.objectStore(Sc).get(SS(n));return await t.done,r}catch(e){if(e instanceof Qr)ks.warn(e.message);else{const t=wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(t.message)}}}async function t0(n,e){try{const r=(await IS()).transaction(Sc,"readwrite");await r.objectStore(Sc).put(e,SS(n)),await r.done}catch(t){if(t instanceof Qr)ks.warn(t.message);else{const r=wo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ks.warn(r.message)}}}function SS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=1024,aN=30;class lN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=n0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>aN){const l=dN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n0(),{heartbeatsToSend:r,unsentEntries:i}=uN(this._heartbeatsCache.heartbeats),o=ef(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ks.warn(t),""}}}function n0(){return new Date().toISOString().substring(0,10)}function uN(n,e=oN){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),r0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),r0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class cN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wy()?vS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function r0(n){return ef(JSON.stringify({version:2,heartbeats:n})).length}function dN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n){kr(new fr("platform-logger",e=>new SD(e),"PRIVATE")),kr(new fr("heartbeat",e=>new lN(e),"PRIVATE")),Pn(Eg,XE,n),Pn(Eg,XE,"esm2020"),Pn("fire-js","")}hN("");var fN="firebase",pN="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(fN,pN,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="type.googleapis.com/google.protobuf.Int64Value",gN="type.googleapis.com/google.protobuf.UInt64Value";function bS(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function tf(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>tf(e));if(typeof n=="function"||typeof n=="object")return bS(n,e=>tf(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Vl(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case mN:case gN:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Vl(e)):typeof n=="function"||typeof n=="object"?bS(n,e=>Vl(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ar extends Qr{constructor(e,t,r){super(`${Ty}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,Ar.prototype)}}function yN(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function nf(n,e){let t=yN(n),r=t,i;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!i0[l])return new Ar("internal","internal");t=i0[l],r=l}const c=o.message;typeof c=="string"&&(r=c),i=o.details,i!==void 0&&(i=Vl(i))}}catch{}return t==="ok"?null:new Ar(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Zn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||i==null||i.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="us-central1",vN=/^data: (.*?)(?:\n|$)/;function wN(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new Ar("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class EN{constructor(e,t,r,i,o=Sg,l=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new _N(e,t,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=Sg}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function TN(n,e,t){const r=rs(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(Df(n.emulatorOrigin+"/backends"),Nf("Functions",!0))}function IN(n,e,t){const r=i=>bN(n,e,i,{});return r.stream=(i,o)=>AN(n,e,i,o),r}function RS(n){return n.emulatorOrigin&&rs(n.emulatorOrigin)?"include":void 0}async function SN(n,e,t,r,i){t["Content-Type"]="application/json";let o;try{o=await r(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:RS(i)})}catch{return{status:0,json:null}}let l=null;try{l=await o.json()}catch{}return{status:o.status,json:l}}async function AS(n,e){const t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function bN(n,e,t,r){const i=n._url(e);return RN(n,i,t,r)}async function RN(n,e,t,r){t=tf(t);const i={data:t},o=await AS(n,r),l=r.timeout||7e4,c=wN(l),h=await Promise.race([SN(e,i,o,n.fetchImpl,n),c.promise,n.cancelAllRequests]);if(c.cancel(),!h)throw new Ar("cancelled","Firebase Functions instance was deleted.");const p=nf(h.status,h.json);if(p)throw p;if(!h.json)throw new Ar("internal","Response is not valid JSON object.");let y=h.json.data;if(typeof y>"u"&&(y=h.json.result),typeof y>"u")throw new Ar("internal","Response is missing data field.");return{data:Vl(y)}}function AN(n,e,t,r){const i=n._url(e);return PN(n,i,t,r||{})}async function PN(n,e,t,r){var w;t=tf(t);const i={data:t},o=await AS(n,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let l;try{l=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:o,signal:r==null?void 0:r.signal,credentials:RS(n)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const L=new Ar("cancelled","Request was cancelled.");return{data:Promise.reject(L),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(L)}}}}}}const C=nf(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let c,h;const p=new Promise((b,C)=>{c=b,h=C});(w=r==null?void 0:r.signal)==null||w.addEventListener("abort",()=>{const b=new Ar("cancelled","Request was cancelled.");h(b)});const y=l.body.getReader(),g=kN(y,c,h,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const b=g.getReader();return{async next(){const{value:C,done:L}=await b.read();return{value:C,done:L}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:p}}function kN(n,e,t,r){const i=(l,c)=>{const h=l.match(vN);if(!h)return;const p=h[1];try{const y=JSON.parse(p);if("result"in y){e(Vl(y.result));return}if("message"in y){c.enqueue(Vl(y.message));return}if("error"in y){const g=nf(0,y);c.error(g),t(g);return}}catch(y){if(y instanceof Ar){c.error(y),t(y);return}}},o=new TextDecoder;return new ReadableStream({start(l){let c="";return h();async function h(){if(r!=null&&r.aborted){const p=new Ar("cancelled","Request was cancelled");return l.error(p),t(p),Promise.resolve()}try{const{value:p,done:y}=await n.read();if(y){c.trim()&&i(c.trim(),l),l.close();return}if(r!=null&&r.aborted){const w=new Ar("cancelled","Request was cancelled");l.error(w),t(w),await n.cancel();return}c+=o.decode(p,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const w of g)w.trim()&&i(w.trim(),l);return h()}catch(p){const y=p instanceof Ar?p:nf(0,null);l.error(y),t(y)}}},cancel(){return n.cancel()}})}const s0="@firebase/functions",o0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="auth-internal",xN="app-check-internal",DN="messaging-internal";function NN(n){const e=(t,{instanceIdentifier:r})=>{const i=t.getProvider("app").getImmediate(),o=t.getProvider(CN),l=t.getProvider(DN),c=t.getProvider(xN);return new EN(i,o,l,c,r)};kr(new fr(Ty,e,"PUBLIC").setMultipleInstances(!0)),Pn(s0,o0,n),Pn(s0,o0,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n=Jc(),e=Sg){const r=Ns(dt(n),Ty).getImmediate({identifier:e}),i=vy("functions");return i&&VN(r,...i),r}function VN(n,e,t){TN(dt(n),e,t)}function X5(n,e,t){return IN(dt(n),e)}NN();function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LN=PS,kS=new Do("auth","Firebase",PS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new Of("@firebase/auth");function MN(n,...e){rf.logLevel<=at.WARN&&rf.warn(`Auth (${Da}): ${n}`,...e)}function Mh(n,...e){rf.logLevel<=at.ERROR&&rf.error(`Auth (${Da}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n,...e){throw Sy(n,...e)}function bi(n,...e){return Sy(n,...e)}function Iy(n,e,t){const r={...LN(),[e]:t};return new Do("auth","Firebase",r).create(e,{appName:n.name})}function Yi(n){return Iy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CS(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ui(n,"argument-error"),Iy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return kS.create(n,...e)}function We(n,e,...t){if(!n)throw Sy(e,...t)}function Ss(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mh(e),new Error(e)}function Cs(n,e){n||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function FN(){return a0()==="http:"||a0()==="https:"}function a0(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FN()||gS()||"connection"in navigator)?navigator.onLine:!0}function BN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cs(t>e,"Short delay should be less than long delay!"),this.isMobile=Hx()||Wx()}get(){return UN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n,e){Cs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$N=new Xc(3e4,6e4);function Os(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function is(n,e,t,r,i={}){return DS(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Yc({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...o};return qx()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&rs(n.emulatorConfig.host)&&(p.credentials="include"),xS.fetch()(await NS(n,n.config.apiHost,t,c),p)})}async function DS(n,e,t){n._canInitEmulator=!1;const r={...zN,...e};try{const i=new qN(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw wh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw wh(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw wh(n,"user-disabled",l);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Iy(n,y,p);ui(n,y)}}catch(i){if(i instanceof Qr)throw i;ui(n,"network-request-failed",{message:String(i)})}}async function Zc(n,e,t,r,i={}){const o=await is(n,e,t,r,i);return"mfaPendingCredential"in o&&ui(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function NS(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?by(n.config,i):`${n.config.apiScheme}://${i}`;return jN.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function HN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),$N.get())})}}function wh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=bi(n,e,r);return i.customData._tokenResponse=t,i}function l0(n){return n!==void 0&&n.enterprise!==void 0}class WN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return HN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KN(n,e){return is(n,"GET","/v2/recaptchaConfig",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,e){return is(n,"POST","/v1/accounts:delete",e)}async function sf(n,e){return is(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QN(n,e=!1){const t=dt(n),r=await t.getIdToken(e),i=Ry(r);We(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:cc(Qm(i.auth_time)),issuedAtTime:cc(Qm(i.iat)),expirationTime:cc(Qm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Qm(n){return Number(n)*1e3}function Ry(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const i=uS(t);return i?JSON.parse(i):(Mh("Failed to decode base64 JWT payload"),null)}catch(i){return Mh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function u0(n){const e=Ry(n);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Qr&&YN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function YN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(n){var g;const e=n.auth,t=await n.getIdToken(),r=await Ll(n,sf(e,{idToken:t}));We(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const o=(g=i.providerUserInfo)!=null&&g.length?OS(i.providerUserInfo):[],l=ZN(n.providerData,o),c=n.isAnonymous,h=!(n.email&&i.passwordHash)&&!(l!=null&&l.length),p=c?h:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Rg(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function XN(n){const e=dt(n);await of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(n,e){const t=await DS(n,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await NS(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return n.emulatorConfig&&rs(n.emulatorConfig.host)&&(h.credentials="include"),xS.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tO(n,e){return is(n,"POST","/v2/accounts:revokeToken",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=u0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await eO(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new kl;return r&&(We(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(We(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(We(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(n,e){We(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new JN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QN(this,e)}reload(){return XN(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await of(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Ll(this,GN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:g,emailVerified:w,isAnonymous:b,providerData:C,stsTokenManager:L}=t;We(g&&L,e,"internal-error");const N=kl.fromJSON(this.name,L);We(typeof g=="string",e,"internal-error"),so(r,e.name),so(i,e.name),We(typeof w=="boolean",e,"internal-error"),We(typeof b=="boolean",e,"internal-error"),so(o,e.name),so(l,e.name),so(c,e.name),so(h,e.name),so(p,e.name),so(y,e.name);const X=new Si({uid:g,auth:e,email:i,emailVerified:w,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:N,createdAt:p,lastLoginAt:y});return C&&Array.isArray(C)&&(X.providerData=C.map(K=>({...K}))),h&&(X._redirectEventId=h),X}static async _fromIdTokenResponse(e,t,r=!1){const i=new kl;i.updateFromServerResponse(t);const o=new Si({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await of(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];We(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?OS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new kl;c.updateFromIdToken(r);const h=new Si({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Rg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;function bs(n){Cs(n instanceof Function,"Expected a class definition");let e=c0.get(n);return e?(Cs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,c0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}VS.type="NONE";const d0=VS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(n,e,t){return`firebase:${n}:${e}:${t}`}class Cl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Fh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sf(this.auth,{idToken:e}).catch(()=>{});return t?Si._fromGetAccountInfoResponse(this.auth,t,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Cl(bs(d0),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||bs(d0);const l=Fh(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const y=await p._get(l);if(y){let g;if(typeof y=="string"){const w=await sf(e,{idToken:y}).catch(()=>{});if(!w)break;g=await Si._fromGetAccountInfoResponse(e,w,y)}else g=Si._fromJSON(e,y);p!==o&&(c=g),o=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Cl(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Cl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(US(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zS(e))return"Blackberry";if(jS(e))return"Webos";if(MS(e))return"Safari";if((e.includes("chrome/")||FS(e))&&!e.includes("edge/"))return"Chrome";if(BS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LS(n=yn()){return/firefox\//i.test(n)}function MS(n=yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FS(n=yn()){return/crios\//i.test(n)}function US(n=yn()){return/iemobile/i.test(n)}function BS(n=yn()){return/android/i.test(n)}function zS(n=yn()){return/blackberry/i.test(n)}function jS(n=yn()){return/webos/i.test(n)}function Ay(n=yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nO(n=yn()){var e;return Ay(n)&&!!((e=window.navigator)!=null&&e.standalone)}function rO(){return Kx()&&document.documentMode===10}function $S(n=yn()){return Ay(n)||BS(n)||jS(n)||zS(n)||/windows phone/i.test(n)||US(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(n,e=[]){let t;switch(n){case"Browser":t=h0(yn());break;case"Worker":t=`${h0(yn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Da}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,e={}){return is(n,"GET","/v2/passwordPolicy",Os(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=6;class aO{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??oO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new iO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bs(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sf(this,{idToken:e}),r=await Si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Zn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await of(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Yi(this));const t=e?dt(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sO(this),t=new aO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Do("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await tO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bs(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[bs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&MN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vs(n){return dt(n)}class f0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zx(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uO(n){Lf=n}function qS(n){return Lf.loadJS(n)}function cO(){return Lf.recaptchaEnterpriseScript}function dO(){return Lf.gapiScript}function hO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fO{constructor(){this.enterprise=new pO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mO="recaptcha-enterprise",WS="NO_RECAPTCHA";class gO{constructor(e){this.type=mO,this.auth=Vs(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{KN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new WN(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function i(o,l,c){const h=window.grecaptcha;l0(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(WS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&l0(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=cO();h.length!==0&&(h+=c),qS(h).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function p0(n,e,t,r=!1,i=!1){const o=new gO(n);let l;if(i)l=WS;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ag(n,e,t,r,i){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await p0(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await p0(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(n,e){const t=Ns(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(bo(o,e??{}))return i;ui(i,"already-initialized")}return t.initialize({options:e})}function _O(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(bs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vO(n,e,t){const r=Vs(n);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=KS(e),{host:l,port:c}=wO(e),h=c===null?"":`:${c}`,p={url:`${o}//${l}${h}/`},y=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(bo(p,r.config.emulator)&&bo(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,rs(l)?(Df(`${o}//${l}${h}`),Nf("Auth",!0)):EO()}function KS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wO(n){const e=KS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:m0(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:m0(l)}}}function m0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function EO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,t){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function TO(n,e){return is(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(n,e){return Zc(n,"POST","/v1/accounts:signInWithPassword",Os(n,e))}async function SO(n,e){return is(n,"POST","/v1/accounts:sendOobCode",Os(n,e))}async function bO(n,e){return SO(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",Os(n,e))}async function AO(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Py{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new bc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new bc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ag(e,t,"signInWithPassword",IO);case"emailLink":return RO(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ag(e,r,"signUpPassword",TO);case"emailLink":return AO(e,{idToken:t,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(n,e){return Zc(n,"POST","/v1/accounts:signInWithIdp",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="http://localhost";class ya extends Py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=t;if(!r||!i)return null;const l=new ya(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return xl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xl(e,t)}buildRequest(){const e={requestUri:PO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CO(n){const e=ec(tc(n)).link,t=e?ec(tc(e)).deep_link_id:null,r=ec(tc(n)).deep_link_id;return(r?ec(tc(r)).link:null)||r||t||e||n}class ky{constructor(e){const t=ec(tc(e)),r=t.apiKey??null,i=t.oobCode??null,o=kO(t.mode??null);We(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=CO(e);try{return new ky(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.providerId=Jl.PROVIDER_ID}static credential(e,t){return bc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ky.parseLink(t);return We(r,"argument-error"),bc._fromEmailAndCode(e,r.code,r.tenantId)}}Jl.PROVIDER_ID="password";Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Mf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends ed{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ya._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Is.credential(t,r)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends ed{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.GITHUB_SIGN_IN_METHOD="github.com";po.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends ed{constructor(){super("twitter.com")}static credential(e,t){return ya._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return mo.credential(t,r)}catch{return null}}}mo.TWITTER_SIGN_IN_METHOD="twitter.com";mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,e){return Zc(n,"POST","/v1/accounts:signUp",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Si._fromIdTokenResponse(e,r,i),l=g0(r);return new _a({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=g0(r);return new _a({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function g0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends Qr{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,af.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new af(e,t,r,i)}}function GS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(n,o,e,r):o})}async function DO(n,e,t=!1){const r=await Ll(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return _a._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(n,e,t=!1){const{auth:r}=n;if(Zn(r.app))return Promise.reject(Yi(r));const i="reauthenticate";try{const o=await Ll(n,GS(r,i,e,n),t);We(o.idToken,r,"internal-error");const l=Ry(o.idToken);We(l,r,"internal-error");const{sub:c}=l;return We(n.uid===c,r,"user-mismatch"),_a._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ui(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(n,e,t=!1){if(Zn(n.app))return Promise.reject(Yi(n));const r="signIn",i=await GS(n,r,e),o=await _a._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function OO(n,e){return QS(Vs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(n){const e=Vs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Z5(n,e,t){if(Zn(n.app))return Promise.reject(Yi(n));const r=Vs(n),l=await Ag(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&YS(n),h}),c=await _a._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function VO(n,e,t){return Zn(n.app)?Promise.reject(Yi(n)):OO(dt(n),Jl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YS(n),r})}async function eB(n,e){const t=dt(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await bO(t.auth,i);o!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(n,e){return is(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tB(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=dt(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ll(r,LO(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(n,e){return dt(n).setPersistence(e)}function FO(n,e,t,r){return dt(n).onIdTokenChanged(e,t,r)}function UO(n,e,t){return dt(n).beforeAuthStateChanged(e,t)}function BO(n,e,t,r){return dt(n).onAuthStateChanged(e,t,r)}function zO(n){return dt(n).signOut()}const lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=1e3,$O=10;class XS extends JS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);rO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$O):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},jO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}XS.type="LOCAL";const ZS=XS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends JS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eb.type="SESSION";const tb=eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),h=await HO(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const p=Cy("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const w=g;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function WO(n){Ji().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function KO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function QO(){return nb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="firebaseLocalStorageDb",YO=1,uf="firebaseLocalStorage",ib="fbase_key";class td{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uf(n,e){return n.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function JO(){const n=indexedDB.deleteDatabase(rb);return new td(n).toPromise()}function Pg(){const n=indexedDB.open(rb,YO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(uf,{keyPath:ib})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(uf)?e(r):(r.close(),await JO(),e(await Pg()))})})}async function y0(n,e,t){const r=Uf(n,!0).put({[ib]:e,value:t});return new td(r).toPromise()}async function XO(n,e){const t=Uf(n,!1).get(e),r=await new td(t).toPromise();return r===void 0?null:r.value}function _0(n,e){const t=Uf(n,!0).delete(e);return new td(t).toPromise()}const ZO=800,eV=3;class sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>eV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(QO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await KO(),!this.activeServiceWorker)return;this.sender=new qO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await y0(e,lf,"1"),await _0(e,lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>y0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>XO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Uf(i,!1).getAll();return new td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sb.type="LOCAL";const tV=sb;new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(n,e){return e?bs(e):(We(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends Py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nV(n){return QS(n.auth,new Dy(n),n.bypassAuthState)}function rV(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),NO(t,new Dy(n),n.bypassAuthState)}async function iV(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),DO(t,new Dy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nV;case"linkViaPopup":case"linkViaRedirect":return iV;case"reauthViaPopup":case"reauthViaRedirect":return rV;default:ui(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Xc(2e3,1e4);async function oV(n,e,t){if(Zn(n.app))return Promise.reject(bi(n,"operation-not-supported-in-this-environment"));const r=Vs(n);CS(n,e,Mf);const i=xy(r,t);return new ca(r,"signInViaPopup",e,i).executeNotNull()}class ca extends ob{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=Cy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sV.get())};e()}}ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="pendingRedirect",Uh=new Map;class lV extends ob{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Uh.get(this.auth._key());if(!e){try{const r=await uV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uV(n,e){const t=lb(e),r=ab(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function cV(n,e){return ab(n)._set(lb(e),"true")}function dV(n,e){Uh.set(n._key(),e)}function ab(n){return bs(n._redirectPersistence)}function lb(n){return Fh(aV,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(n,e,t){return fV(n,e,t)}async function fV(n,e,t){if(Zn(n.app))return Promise.reject(Yi(n));const r=Vs(n);CS(n,e,Mf),await r._initializationPromise;const i=xy(r,t);return await cV(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function pV(n,e,t=!1){if(Zn(n.app))return Promise.reject(Yi(n));const r=Vs(n),i=xy(r,e),l=await new lV(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=600*1e3;class gV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ub(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(bi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mV&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(e))}saveEventToCache(e){this.cachedEventUids.add(v0(e)),this.lastProcessedEventTime=Date.now()}}function v0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ub({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ub(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(n,e={}){return is(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wV=/^https?/;async function EV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _V(n);for(const t of e)try{if(TV(t))return}catch{}ui(n,"unauthorized-domain")}function TV(n){const e=bg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!wV.test(t))return!1;if(vV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new Xc(3e4,6e4);function w0(){const n=Ji().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SV(n){return new Promise((e,t)=>{var i,o,l;function r(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),t(bi(n,"network-request-failed"))},timeout:IV.get()})}if((o=(i=Ji().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=Ji().gapi)!=null&&l.load)r();else{const c=hO("iframefcb");return Ji()[c]=()=>{gapi.load?r():t(bi(n,"network-request-failed"))},qS(`${dO()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function bV(n){return Bh=Bh||SV(n),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=new Xc(5e3,15e3),AV="__/auth/iframe",PV="emulator/auth/iframe",kV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xV(n){const e=n.config;We(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?by(e,PV):`https://${n.config.authDomain}/${AV}`,r={apiKey:e.apiKey,appName:n.name,v:Da},i=CV.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Yc(r).slice(1)}`}async function DV(n){const e=await bV(n),t=Ji().gapi;return We(t,n,"internal-error"),e.open({where:document.body,url:xV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kV,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=bi(n,"network-request-failed"),c=Ji().setTimeout(()=>{o(l)},RV.get());function h(){Ji().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OV=500,VV=600,LV="_blank",MV="http://localhost";class E0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FV(n,e,t,r=OV,i=VV){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...NV,width:r.toString(),height:i.toString(),top:o,left:l},p=yn().toLowerCase();t&&(c=FS(p)?LV:t),LS(p)&&(e=e||MV,h.scrollbars="yes");const y=Object.entries(h).reduce((w,[b,C])=>`${w}${b}=${C},`,"");if(nO(p)&&c!=="_self")return UV(e||"",c),new E0(null);const g=window.open(e||"",c,y);We(g,n,"popup-blocked");try{g.focus()}catch{}return new E0(g)}function UV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="__/auth/handler",zV="emulator/auth/handler",jV=encodeURIComponent("fac");async function T0(n,e,t,r,i,o){We(n.config.authDomain,n,"auth-domain-config-required"),We(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Da,eventId:i};if(e instanceof Mf){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Xx(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))l[y]=g}if(e instanceof ed){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const h=await n._getAppCheckToken(),p=h?`#${jV}=${encodeURIComponent(h)}`:"";return`${$V(n)}?${Yc(c).slice(1)}${p}`}function $V({config:n}){return n.emulator?by(n,zV):`https://${n.authDomain}/${BV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="webStorageSupport";class HV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tb,this._completeRedirectFn=pV,this._overrideRedirectResult=dV}async _openPopup(e,t,r,i){var l;Cs((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await T0(e,t,r,bg(),i);return FV(e,o,Cy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await T0(e,t,r,bg(),i);return WO(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Cs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await DV(e),r=new gV(e);return t.register("authEvent",i=>(We(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ym,{type:Ym},i=>{var l;const o=(l=i==null?void 0:i[0])==null?void 0:l[Ym];o!==void 0&&t(!!o),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $S()||MS()||Ay()}}const qV=HV;var I0="@firebase/auth",S0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GV(n){kr(new fr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HS(n)},p=new lO(r,i,o,h);return _O(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),kr(new fr("auth-internal",e=>{const t=Vs(e.getProvider("auth").getImmediate());return(r=>new WV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(I0,S0,KV(n)),Pn(I0,S0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=300,YV=fS("authIdTokenMaxAge")||QV;let b0=null;const JV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YV)return;const i=t==null?void 0:t.token;b0!==i&&(b0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XV(n=Jc()){const e=Ns(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yO(n,{popupRedirectResolver:qV,persistence:[tV,ZS,tb]}),r=fS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=JV(o.toString());UO(t,l,()=>l(t.currentUser)),FO(t,c=>l(c))}}const i=dS("auth");return i&&vO(t,`http://${i}`),t}function ZV(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}uO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=bi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",ZV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GV("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eo,cb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function A(){}A.prototype=S.prototype,I.F=S.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(V,D,F){for(var P=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)P[Be-2]=arguments[Be];return S.prototype[D].apply(V,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,S,A){A||(A=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(D=0;D<16;++D)V[D]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=I.g[0],A=I.g[1],D=I.g[2];let F=I.g[3],P;P=S+(F^A&(D^F))+V[0]+3614090360&4294967295,S=A+(P<<7&4294967295|P>>>25),P=F+(D^S&(A^D))+V[1]+3905402710&4294967295,F=S+(P<<12&4294967295|P>>>20),P=D+(A^F&(S^A))+V[2]+606105819&4294967295,D=F+(P<<17&4294967295|P>>>15),P=A+(S^D&(F^S))+V[3]+3250441966&4294967295,A=D+(P<<22&4294967295|P>>>10),P=S+(F^A&(D^F))+V[4]+4118548399&4294967295,S=A+(P<<7&4294967295|P>>>25),P=F+(D^S&(A^D))+V[5]+1200080426&4294967295,F=S+(P<<12&4294967295|P>>>20),P=D+(A^F&(S^A))+V[6]+2821735955&4294967295,D=F+(P<<17&4294967295|P>>>15),P=A+(S^D&(F^S))+V[7]+4249261313&4294967295,A=D+(P<<22&4294967295|P>>>10),P=S+(F^A&(D^F))+V[8]+1770035416&4294967295,S=A+(P<<7&4294967295|P>>>25),P=F+(D^S&(A^D))+V[9]+2336552879&4294967295,F=S+(P<<12&4294967295|P>>>20),P=D+(A^F&(S^A))+V[10]+4294925233&4294967295,D=F+(P<<17&4294967295|P>>>15),P=A+(S^D&(F^S))+V[11]+2304563134&4294967295,A=D+(P<<22&4294967295|P>>>10),P=S+(F^A&(D^F))+V[12]+1804603682&4294967295,S=A+(P<<7&4294967295|P>>>25),P=F+(D^S&(A^D))+V[13]+4254626195&4294967295,F=S+(P<<12&4294967295|P>>>20),P=D+(A^F&(S^A))+V[14]+2792965006&4294967295,D=F+(P<<17&4294967295|P>>>15),P=A+(S^D&(F^S))+V[15]+1236535329&4294967295,A=D+(P<<22&4294967295|P>>>10),P=S+(D^F&(A^D))+V[1]+4129170786&4294967295,S=A+(P<<5&4294967295|P>>>27),P=F+(A^D&(S^A))+V[6]+3225465664&4294967295,F=S+(P<<9&4294967295|P>>>23),P=D+(S^A&(F^S))+V[11]+643717713&4294967295,D=F+(P<<14&4294967295|P>>>18),P=A+(F^S&(D^F))+V[0]+3921069994&4294967295,A=D+(P<<20&4294967295|P>>>12),P=S+(D^F&(A^D))+V[5]+3593408605&4294967295,S=A+(P<<5&4294967295|P>>>27),P=F+(A^D&(S^A))+V[10]+38016083&4294967295,F=S+(P<<9&4294967295|P>>>23),P=D+(S^A&(F^S))+V[15]+3634488961&4294967295,D=F+(P<<14&4294967295|P>>>18),P=A+(F^S&(D^F))+V[4]+3889429448&4294967295,A=D+(P<<20&4294967295|P>>>12),P=S+(D^F&(A^D))+V[9]+568446438&4294967295,S=A+(P<<5&4294967295|P>>>27),P=F+(A^D&(S^A))+V[14]+3275163606&4294967295,F=S+(P<<9&4294967295|P>>>23),P=D+(S^A&(F^S))+V[3]+4107603335&4294967295,D=F+(P<<14&4294967295|P>>>18),P=A+(F^S&(D^F))+V[8]+1163531501&4294967295,A=D+(P<<20&4294967295|P>>>12),P=S+(D^F&(A^D))+V[13]+2850285829&4294967295,S=A+(P<<5&4294967295|P>>>27),P=F+(A^D&(S^A))+V[2]+4243563512&4294967295,F=S+(P<<9&4294967295|P>>>23),P=D+(S^A&(F^S))+V[7]+1735328473&4294967295,D=F+(P<<14&4294967295|P>>>18),P=A+(F^S&(D^F))+V[12]+2368359562&4294967295,A=D+(P<<20&4294967295|P>>>12),P=S+(A^D^F)+V[5]+4294588738&4294967295,S=A+(P<<4&4294967295|P>>>28),P=F+(S^A^D)+V[8]+2272392833&4294967295,F=S+(P<<11&4294967295|P>>>21),P=D+(F^S^A)+V[11]+1839030562&4294967295,D=F+(P<<16&4294967295|P>>>16),P=A+(D^F^S)+V[14]+4259657740&4294967295,A=D+(P<<23&4294967295|P>>>9),P=S+(A^D^F)+V[1]+2763975236&4294967295,S=A+(P<<4&4294967295|P>>>28),P=F+(S^A^D)+V[4]+1272893353&4294967295,F=S+(P<<11&4294967295|P>>>21),P=D+(F^S^A)+V[7]+4139469664&4294967295,D=F+(P<<16&4294967295|P>>>16),P=A+(D^F^S)+V[10]+3200236656&4294967295,A=D+(P<<23&4294967295|P>>>9),P=S+(A^D^F)+V[13]+681279174&4294967295,S=A+(P<<4&4294967295|P>>>28),P=F+(S^A^D)+V[0]+3936430074&4294967295,F=S+(P<<11&4294967295|P>>>21),P=D+(F^S^A)+V[3]+3572445317&4294967295,D=F+(P<<16&4294967295|P>>>16),P=A+(D^F^S)+V[6]+76029189&4294967295,A=D+(P<<23&4294967295|P>>>9),P=S+(A^D^F)+V[9]+3654602809&4294967295,S=A+(P<<4&4294967295|P>>>28),P=F+(S^A^D)+V[12]+3873151461&4294967295,F=S+(P<<11&4294967295|P>>>21),P=D+(F^S^A)+V[15]+530742520&4294967295,D=F+(P<<16&4294967295|P>>>16),P=A+(D^F^S)+V[2]+3299628645&4294967295,A=D+(P<<23&4294967295|P>>>9),P=S+(D^(A|~F))+V[0]+4096336452&4294967295,S=A+(P<<6&4294967295|P>>>26),P=F+(A^(S|~D))+V[7]+1126891415&4294967295,F=S+(P<<10&4294967295|P>>>22),P=D+(S^(F|~A))+V[14]+2878612391&4294967295,D=F+(P<<15&4294967295|P>>>17),P=A+(F^(D|~S))+V[5]+4237533241&4294967295,A=D+(P<<21&4294967295|P>>>11),P=S+(D^(A|~F))+V[12]+1700485571&4294967295,S=A+(P<<6&4294967295|P>>>26),P=F+(A^(S|~D))+V[3]+2399980690&4294967295,F=S+(P<<10&4294967295|P>>>22),P=D+(S^(F|~A))+V[10]+4293915773&4294967295,D=F+(P<<15&4294967295|P>>>17),P=A+(F^(D|~S))+V[1]+2240044497&4294967295,A=D+(P<<21&4294967295|P>>>11),P=S+(D^(A|~F))+V[8]+1873313359&4294967295,S=A+(P<<6&4294967295|P>>>26),P=F+(A^(S|~D))+V[15]+4264355552&4294967295,F=S+(P<<10&4294967295|P>>>22),P=D+(S^(F|~A))+V[6]+2734768916&4294967295,D=F+(P<<15&4294967295|P>>>17),P=A+(F^(D|~S))+V[13]+1309151649&4294967295,A=D+(P<<21&4294967295|P>>>11),P=S+(D^(A|~F))+V[4]+4149444226&4294967295,S=A+(P<<6&4294967295|P>>>26),P=F+(A^(S|~D))+V[11]+3174756917&4294967295,F=S+(P<<10&4294967295|P>>>22),P=D+(S^(F|~A))+V[2]+718787259&4294967295,D=F+(P<<15&4294967295|P>>>17),P=A+(F^(D|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+F&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const A=S-this.blockSize,V=this.C;let D=this.h,F=0;for(;F<S;){if(D==0)for(;F<=A;)i(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<S;)if(V[D++]=I.charCodeAt(F++),D==this.blockSize){i(this,V),D=0;break}}else for(;F<S;)if(V[D++]=I[F++],D==this.blockSize){i(this,V),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,A=0;A<4;++A)for(let V=0;V<32;V+=8)I[S++]=this.g[A]>>>V&255;return I};function o(I,S){var A=c;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=S(I)}function l(I,S){this.h=S;const A=[];let V=!0;for(let D=I.length-1;D>=0;D--){const F=I[D]|0;V&&F==S||(A[D]=F,V=!1)}this.g=A}var c={};function h(I){return-128<=I&&I<128?o(I,function(S){return new l([S|0],S<0?-1:0)}):new l([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return g;if(I<0)return N(p(-I));const S=[];let A=1;for(let V=0;I>=A;V++)S[V]=I/A|0,A*=4294967296;return new l(S,0)}function y(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return N(y(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(S,8));let V=g;for(let F=0;F<I.length;F+=8){var D=Math.min(8,I.length-F);const P=parseInt(I.substring(F,F+D),S);D<8?(D=p(Math.pow(S,D)),V=V.j(D).add(p(P))):(V=V.j(A),V=V.add(p(P)))}return V}var g=h(0),w=h(1),b=h(16777216);n=l.prototype,n.m=function(){if(L(this))return-N(this).m();let I=0,S=1;for(let A=0;A<this.g.length;A++){const V=this.i(A);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(L(this))return"-"+N(this).toString(I);const S=p(Math.pow(I,6));var A=this;let V="";for(;;){const D=oe(A,S).g;A=X(A,D.j(S));let F=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=D,C(A))return F+V;for(;F.length<6;)F="0"+F;V=F+V}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function L(I){return I.h==-1}n.l=function(I){return I=X(this,I),L(I)?-1:C(I)?0:1};function N(I){const S=I.g.length,A=[];for(let V=0;V<S;V++)A[V]=~I.g[V];return new l(A,~I.h).add(w)}n.abs=function(){return L(this)?N(this):this},n.add=function(I){const S=Math.max(this.g.length,I.g.length),A=[];let V=0;for(let D=0;D<=S;D++){let F=V+(this.i(D)&65535)+(I.i(D)&65535),P=(F>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=P>>>16,F&=65535,P&=65535,A[D]=P<<16|F}return new l(A,A[A.length-1]&-2147483648?-1:0)};function X(I,S){return I.add(N(S))}n.j=function(I){if(C(this)||C(I))return g;if(L(this))return L(I)?N(this).j(N(I)):N(N(this).j(I));if(L(I))return N(this.j(N(I)));if(this.l(b)<0&&I.l(b)<0)return p(this.m()*I.m());const S=this.g.length+I.g.length,A=[];for(var V=0;V<2*S;V++)A[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const F=this.i(V)>>>16,P=this.i(V)&65535,Be=I.i(D)>>>16,ze=I.i(D)&65535;A[2*V+2*D]+=P*ze,K(A,2*V+2*D),A[2*V+2*D+1]+=F*ze,K(A,2*V+2*D+1),A[2*V+2*D+1]+=P*Be,K(A,2*V+2*D+1),A[2*V+2*D+2]+=F*Be,K(A,2*V+2*D+2)}for(I=0;I<S;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=S;I<2*S;I++)A[I]=0;return new l(A,0)};function K(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function Z(I,S){this.g=I,this.h=S}function oe(I,S){if(C(S))throw Error("division by zero");if(C(I))return new Z(g,g);if(L(I))return S=oe(N(I),S),new Z(N(S.g),N(S.h));if(L(S))return S=oe(I,N(S)),new Z(N(S.g),S.h);if(I.g.length>30){if(L(I)||L(S))throw Error("slowDivide_ only works with positive integers.");for(var A=w,V=S;V.l(I)<=0;)A=ie(A),V=ie(V);var D=ue(A,1),F=ue(V,1);for(V=ue(V,2),A=ue(A,2);!C(V);){var P=F.add(V);P.l(I)<=0&&(D=D.add(A),F=P),V=ue(V,1),A=ue(A,1)}return S=X(I,D.j(S)),new Z(D,S)}for(D=g;I.l(S)>=0;){for(A=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(A)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),F=p(A),P=F.j(S);L(P)||P.l(I)>0;)A-=V,F=p(A),P=F.j(S);C(F)&&(F=w),D=D.add(F),I=X(I,P)}return new Z(D,I)}n.B=function(I){return oe(this,I).h},n.and=function(I){const S=Math.max(this.g.length,I.g.length),A=[];for(let V=0;V<S;V++)A[V]=this.i(V)&I.i(V);return new l(A,this.h&I.h)},n.or=function(I){const S=Math.max(this.g.length,I.g.length),A=[];for(let V=0;V<S;V++)A[V]=this.i(V)|I.i(V);return new l(A,this.h|I.h)},n.xor=function(I){const S=Math.max(this.g.length,I.g.length),A=[];for(let V=0;V<S;V++)A[V]=this.i(V)^I.i(V);return new l(A,this.h^I.h)};function ie(I){const S=I.g.length+1,A=[];for(let V=0;V<S;V++)A[V]=I.i(V)<<1|I.i(V-1)>>>31;return new l(A,I.h)}function ue(I,S){const A=S>>5;S%=32;const V=I.g.length-A,D=[];for(let F=0;F<V;F++)D[F]=S>0?I.i(F+A)>>>S|I.i(F+A+1)<<32-S:I.i(F+A);return new l(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cb=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,Eo=l}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var db,nc,hb,zh,kg,fb,pb,mb;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var E=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var q=d[R];if(!(q in E))break e;E=E[q]}d=d[d.length-1],R=E[d],v=v(R),v!=R&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(v){var E=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&E.push([R,v[R]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function h(d,v,E){return d.call.apply(d.bind,arguments)}function p(d,v,E){return p=h,p.apply(null,arguments)}function y(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function g(d,v){function E(){}E.prototype=v.prototype,d.Z=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(R,q,J){for(var ye=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ye[Xe-2]=arguments[Xe];return v.prototype[q].apply(R,ye)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function b(d){const v=d.length;if(v>0){const E=Array(v);for(let R=0;R<v;R++)E[R]=d[R];return E}return[]}function C(d,v){for(let R=1;R<arguments.length;R++){const q=arguments[R];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=d.length||0;const J=q.length||0;d.length=E+J;for(let ye=0;ye<J;ye++)d[E+ye]=q[ye]}else d.push(q)}}class L{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(d){l.setTimeout(()=>{throw d},0)}function X(){var d=I;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class K{constructor(){this.h=this.g=null}add(v,E){const R=Z.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Z=new L(()=>new oe,d=>d.reset());class oe{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,I=new K,S=()=>{const d=Promise.resolve(void 0);ie=()=>{d.then(A)}};function A(){for(var d;d=X();){try{d.h.call(d.g)}catch(E){N(E)}var v=Z;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}ue=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};l.addEventListener("test",E,v),l.removeEventListener("test",E,v)}catch{}return d})();function P(d){return/^[\s\xa0]*$/.test(d)}function Be(d,v){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}g(Be,D),Be.prototype.init=function(d,v){const E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),fe=0;function be(d,v,E,R,q){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=q,this.key=++fe,this.da=this.fa=!1}function $(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function pe(d,v,E){for(const R in d)v.call(E,d[R],R,d)}function ne(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function O(d){const v={};for(const E in d)v[E]=d[E];return v}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(d,v){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)d[E]=R[E];for(let J=0;J<G.length;J++)E=G[J],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function de(d){this.src=d,this.g={},this.h=0}de.prototype.add=function(d,v,E,R,q){const J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);const ye=we(d,v,R,q);return ye>-1?(v=d[ye],E||(v.fa=!1)):(v=new be(v,this.src,J,!!R,q),v.fa=E,d.push(v)),v};function ve(d,v){const E=v.type;if(E in d.g){var R=d.g[E],q=Array.prototype.indexOf.call(R,v,void 0),J;(J=q>=0)&&Array.prototype.splice.call(R,q,1),J&&($(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function we(d,v,E,R){for(let q=0;q<d.length;++q){const J=d[q];if(!J.da&&J.listener==v&&J.capture==!!E&&J.ha==R)return q}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),qe={};function Ze(d,v,E,R,q){if(Array.isArray(v)){for(let J=0;J<v.length;J++)Ze(d,v[J],E,R,q);return null}return E=Pi(E),d&&d[ze]?d.J(v,E,c(R)?!!R.capture:!1,q):At(d,v,E,!1,R,q)}function At(d,v,E,R,q,J){if(!v)throw Error("Invalid event type");const ye=c(q)?!!q.capture:!!q;let Xe=xn(d);if(Xe||(d[Ce]=Xe=new de(d)),E=Xe.add(v,E,R,ye,J),E.proxy)return E;if(R=pr(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)F||(q=ye),q===void 0&&(q=!1),d.addEventListener(v.toString(),R,q);else if(d.attachEvent)d.attachEvent(xr(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function pr(){function d(E){return v.call(d.src,d.listener,E)}const v=Us;return d}function _t(d,v,E,R,q){if(Array.isArray(v))for(var J=0;J<v.length;J++)_t(d,v[J],E,R,q);else R=c(R)?!!R.capture:!!R,E=Pi(E),d&&d[ze]?(d=d.i,J=String(v).toString(),J in d.g&&(v=d.g[J],E=we(v,E,R,q),E>-1&&($(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete d.g[J],d.h--)))):d&&(d=xn(d))&&(v=d.g[v.toString()],d=-1,v&&(d=we(v,E,R,q)),(E=d>-1?v[d]:null)&&Cn(E))}function Cn(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ze])ve(v.i,d);else{var E=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(E,R,d.capture):v.detachEvent?v.detachEvent(xr(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=xn(v))?(ve(E,d),E.h==0&&(E.src=null,v[Ce]=null)):$(d)}}}function xr(d){return d in qe?qe[d]:qe[d]="on"+d}function Us(d,v){if(d.da)d=!0;else{v=new Be(v,this);const E=d.listener,R=d.ha||d.src;d.fa&&Cn(d),d=E.call(R,v)}return d}function xn(d){return d=d[Ce],d instanceof de?d:null}var tr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pi(d){return typeof d=="function"?d:(d[tr]||(d[tr]=function(v){return d.handleEvent(v)}),d[tr])}function ht(){V.call(this),this.i=new de(this),this.M=this,this.G=null}g(ht,V),ht.prototype[ze]=!0,ht.prototype.removeEventListener=function(d,v,E,R){_t(this,d,v,E,R)};function xt(d,v){var E,R=d.G;if(R)for(E=[];R;R=R.G)E.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new D(v,d);else if(v instanceof D)v.target=v.target||d;else{var q=v;v=new D(R,d),re(v,q)}q=!0;let J,ye;if(E)for(ye=E.length-1;ye>=0;ye--)J=v.g=E[ye],q=nr(J,R,!0,v)&&q;if(J=v.g=d,q=nr(J,R,!0,v)&&q,q=nr(J,R,!1,v)&&q,E)for(ye=0;ye<E.length;ye++)J=v.g=E[ye],q=nr(J,R,!1,v)&&q}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const E=d.g[v];for(let R=0;R<E.length;R++)$(E[R]);delete d.g[v],d.h--}}this.G=null},ht.prototype.J=function(d,v,E,R){return this.i.add(String(d),v,!1,E,R)},ht.prototype.K=function(d,v,E,R){return this.i.add(String(d),v,!0,E,R)};function nr(d,v,E,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let J=0;J<v.length;++J){const ye=v[J];if(ye&&!ye.da&&ye.capture==E){const Xe=ye.listener,tn=ye.ha||ye.src;ye.fa&&ve(d.i,ye),q=Xe.call(tn,R)!==!1&&q}}return q&&!R.defaultPrevented}function Zt(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(d,v||0)}function mr(d){d.g=Zt(()=>{d.g=null,d.i&&(d.i=!1,mr(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class gr extends V{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(d){V.call(this),this.h=d,this.g={}}g(jn,V);var Dr=[];function Yr(d){pe(d.g,function(v,E){this.g.hasOwnProperty(E)&&Cn(v)},d),d.g={}}jn.prototype.N=function(){jn.Z.N.call(this),Yr(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var en=l.JSON.stringify,wn=l.JSON.parse,Dn=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Nr(){}function rr(){}var Jr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function En(){D.call(this,"d")}g(En,D);function di(){D.call(this,"c")}g(di,D);var Nn={},hi=null;function yr(){return hi=hi||new ht}Nn.Ia="serverreachability";function Tn(d){D.call(this,Nn.Ia,d)}g(Tn,D);function $n(d){const v=yr();xt(v,new Tn(v))}Nn.STAT_EVENT="statevent";function _r(d,v){D.call(this,Nn.STAT_EVENT,d),this.stat=v}g(_r,D);function Et(d){const v=yr();xt(v,new _r(v,d))}Nn.Ja="timingevent";function ki(d,v){D.call(this,Nn.Ja,d),this.size=v}g(ki,D);function je(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},v)}function Tt(){this.g=!0}Tt.prototype.ua=function(){this.g=!1};function Lt(d,v,E,R,q,J){d.info(function(){if(d.g)if(J){var ye="",Xe=J.split("&");for(let It=0;It<Xe.length;It++){var tn=Xe[It].split("=");if(tn.length>1){const on=tn[0];tn=tn[1];const Mr=on.split("_");ye=Mr.length>=2&&Mr[1]=="type"?ye+(on+"="+tn+"&"):ye+(on+"=redacted&")}}}else ye=null;else ye=J;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+v+`
`+E+`
`+ye})}function jt(d,v,E,R,q,J,ye){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+v+`
`+E+`
`+J+" "+ye})}function rn(d,v,E,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Kt(d,E)+(R?" "+R:"")})}function Dt(d,v){d.info(function(){return"TIMEOUT: "+v})}Tt.prototype.info=function(){};function Kt(d,v){if(!d.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(d=0;d<J.length;d++)if(Array.isArray(J[d])){var E=J[d];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var q=R[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ye=1;ye<R.length;ye++)R[ye]=""}}}}return en(J)}catch{return v}}var ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},x={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},U;function W(){}g(W,Nr),W.prototype.g=function(){return new XMLHttpRequest},U=new W;function te(d){return encodeURIComponent(String(d))}function he(d){var v=1;d=d.split(":");const E=[];for(;v>0&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function Se(d,v,E,R){this.j=d,this.i=v,this.l=E,this.S=R||1,this.V=new jn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}var Te={},Re={};function Pe(d,v,E){d.M=1,d.A=os(sn(v)),d.u=E,d.R=!0,Ke(d,null)}function Ke(d,v){d.F=Date.now(),Nt(d),d.B=sn(d.A);var E=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),cu(E.i,"t",R),d.C=0,E=d.j.L,d.h=new Fe,d.g=wd(d.j,E?v:null,!d.u),d.P>0&&(d.O=new gr(p(d.Y,d,d.g),d.P)),v=d.V,E=d.g,R=d.ba;var q="readystatechange";Array.isArray(q)||(q&&(Dr[0]=q.toString()),q=Dr);for(let J=0;J<q.length;J++){const ye=Ze(E,q[J],R||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=d.J?O(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),$n(),Lt(d.i,d.v,d.B,d.l,d.S,d.u)}Se.prototype.ba=function(d){d=d.target;const v=this.O;v&&Oi(d)==3?v.j():this.Y(d)},Se.prototype.Y=function(d){try{if(d==this.g)e:{const Xe=Oi(this.g),tn=this.g.ya(),It=this.g.ca();if(!(Xe<3)&&(Xe!=3||this.g&&(this.h.h||this.g.la()||_d(this.g)))){this.K||Xe!=4||tn==7||(tn==8||It<=0?$n(3):$n(2)),Gt(this);var v=this.g.ca();this.X=v;var E=Le(this);if(this.o=v==200,jt(this.i,this.v,this.B,this.l,this.S,Xe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,q=this.g;if((R=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var J=R;break t}}J=null}if(d=J)rn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ft(this,d);else{this.o=!1,this.m=3,Et(12),Qt(this),ot(this);break e}}if(this.R){d=!0;let on;for(;!this.K&&this.C<E.length;)if(on=et(this,E),on==Re){Xe==4&&(this.m=4,Et(14),d=!1),rn(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Te){this.m=4,Et(15),rn(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else rn(this.i,this.l,on,null),ft(this,on);if(Ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||E.length!=0||this.h.h||(this.m=1,Et(16),d=!1),this.o=this.o&&d,!d)rn(this.i,this.l,E,"[Invalid Chunked Response]"),Qt(this),ot(this);else if(E.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Bo(ye),ye.P=!0,Et(11))}}else rn(this.i,this.l,E,null),ft(this,E);Xe==4&&Qt(this),this.o&&!this.K&&(Xe==4?ja(this.j,this):(this.o=!1,Nt(this)))}else hu(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Qt(this),ot(this)}}}catch{}finally{}};function Le(d){if(!Ye(d))return d.g.la();const v=_d(d.g);if(v==="")return"";let E="";const R=v.length,q=Oi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Qt(d),ot(d),"";d.h.i=new l.TextDecoder}for(let J=0;J<R;J++)d.h.h=!0,E+=d.h.i.decode(v[J],{stream:!(q&&J==R-1)});return v.length=0,d.h.g+=E,d.C=0,d.h.g}function Ye(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function et(d,v){var E=d.C,R=v.indexOf(`
`,E);return R==-1?Re:(E=Number(v.substring(E,R)),isNaN(E)?Te:(R+=1,R+E>v.length?Re:(v=v.slice(R,R+E),d.C=R+E,v)))}Se.prototype.cancel=function(){this.K=!0,Qt(this)};function Nt(d){d.T=Date.now()+d.H,Mt(d,d.H)}function Mt(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=je(p(d.aa,d),v)}function Gt(d){d.D&&(l.clearTimeout(d.D),d.D=null)}Se.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Dt(this.i,this.B),this.M!=2&&($n(),Et(17)),Qt(this),this.m=2,ot(this)):Mt(this,this.T-d)};function ot(d){d.j.I==0||d.K||ja(d.j,d)}function Qt(d){Gt(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Yr(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function ft(d,v){try{var E=d.j;if(E.I!=0&&(E.g==d||pi(E.h,d))){if(!d.L&&pi(E.h,d)&&E.I==3){try{var R=E.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)za(E),Vr(E);else break e;Mi(E),Et(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=je(p(E.Va,E),6e3));fi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Lr(E,11)}else if((d.L||E.g==d)&&za(E),!P(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let It=q[v];const on=It[0];if(!(on<=E.K))if(E.K=on,It=It[1],E.I==2)if(It[0]=="c"){E.M=It[1],E.ba=It[2];const Mr=It[3];Mr!=null&&(E.ka=Mr,E.j.info("VER="+E.ka));const ds=It[4];ds!=null&&(E.za=ds,E.j.info("SVER="+E.za));const Fi=It[5];Fi!=null&&typeof Fi=="number"&&Fi>0&&(R=1.5*Fi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Ui=d.g;if(Ui){const qa=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qa){var J=R.h;J.g||qa.indexOf("spdy")==-1&&qa.indexOf("quic")==-1&&qa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(vr(J,J.h),J.h=null))}if(R.G){const mu=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;mu&&(R.wa=mu,pt(R.J,R.G,mu))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ye=d;if(R.na=pu(R,R.L?R.ba:null,R.W),ye.L){Xr(R.h,ye);var Xe=ye,tn=R.O;tn&&(Xe.H=tn),Xe.D&&(Gt(Xe),Nt(Xe)),R.g=ye}else qn(R);E.i.length>0&&cs(E)}else It[0]!="stop"&&It[0]!="close"||Lr(E,7);else E.I==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Lr(E,7):Ua(E):It[0]!="noop"&&E.l&&E.l.qa(It),E.A=0)}}$n(4)}catch{}}var ss=class{constructor(d,v){this.g=d,this.map=v}};function sr(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function fi(d){return d.h?1:d.g?d.g.size:0}function pi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function vr(d,v){d.g?d.g.add(v):d.h=v}function Xr(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}sr.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function In(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.G);return v}return b(d.i)}var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vt(d,v){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const R=d[E].indexOf("=");let q,J=null;R>=0?(q=d[E].substring(0,R),J=d[E].substring(R+1)):q=d[E],v(q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function On(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof On?(this.l=d.l,wt(this,d.j),this.o=d.o,this.g=d.g,or(this,d.u),this.h=d.h,mi(this,du(d.i)),this.m=d.m):d&&(v=String(d).match(rt))?(this.l=!1,wt(this,v[1]||"",!0),this.o=Vo(v[2]||""),this.g=Vo(v[3]||"",!0),or(this,v[4]),this.h=Vo(v[5]||"",!0),mi(this,v[6]||"",!0),this.m=Vo(v[7]||"")):(this.l=!1,this.i=new ut(null,this.l))}On.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Lo(v,su,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Lo(v,su,!0),"@"),d.push(te(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Lo(E,E.charAt(0)=="/"?Mo:ou,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Lo(E,au)),d.join("")},On.prototype.resolve=function(d){const v=sn(this);let E=!!d.j;E?wt(v,d.j):E=!!d.o,E?v.o=d.o:E=!!d.g,E?v.g=d.g:E=d.u!=null;var R=d.h;if(E)or(v,d.u);else if(E=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var q=v.h.lastIndexOf("/");q!=-1&&(R=v.h.slice(0,q+1)+R)}if(q=R,q==".."||q==".")R="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){R=q.lastIndexOf("/",0)==0,q=q.split("/");const J=[];for(let ye=0;ye<q.length;){const Xe=q[ye++];Xe=="."?R&&ye==q.length&&J.push(""):Xe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&ye==q.length&&J.push("")):(J.push(Xe),R=!0)}R=J.join("/")}else R=q}return E?v.h=R:E=d.i.toString()!=="",E?mi(v,du(d.i)):E=!!d.m,E&&(v.m=d.m),v};function sn(d){return new On(d)}function wt(d,v,E){d.j=E?Vo(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function or(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function mi(d,v,E){v instanceof ut?(d.i=v,La(d.i,d.l)):(E||(v=Lo(v,cp)),d.i=new ut(v,d.l))}function pt(d,v,E){d.i.set(v,E)}function os(d){return pt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Vo(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Lo(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,iu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function iu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var su=/[#\/\?@]/g,ou=/[#\?:]/g,Mo=/[#\?]/g,cp=/[#\?@]/g,au=/#/g;function ut(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Ci(d){d.g||(d.g=new Map,d.h=0,d.i&&vt(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=ut.prototype,n.add=function(d,v){Ci(this),this.i=null,d=xi(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function lu(d,v){Ci(d),v=xi(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Va(d,v){return Ci(d),v=xi(d,v),d.g.has(v)}n.forEach=function(d,v){Ci(this),this.g.forEach(function(E,R){E.forEach(function(q){d.call(v,q,R,this)},this)},this)};function uu(d,v){Ci(d);let E=[];if(typeof v=="string")Va(d,v)&&(E=E.concat(d.g.get(xi(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)E=E.concat(d[v]);return E}n.set=function(d,v){return Ci(this),this.i=null,d=xi(this,d),Va(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=uu(this,d),d.length>0?String(d[0]):v):v};function cu(d,v,E){lu(d,v),E.length>0&&(d.i=null,d.g.set(xi(d,v),b(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var E=v[R];const q=te(E);E=uu(this,E);for(let J=0;J<E.length;J++){let ye=q;E[J]!==""&&(ye+="="+te(E[J])),d.push(ye)}}return this.i=d.join("&")};function du(d){const v=new ut;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function xi(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function La(d,v){v&&!d.j&&(Ci(d),d.i=null,d.g.forEach(function(E,R){const q=R.toLowerCase();R!=q&&(lu(this,R),cu(this,q,E))},d)),d.j=v}function Di(d,v){const E=new Tt;if(l.Image){const R=new Image;R.onload=y(Vn,E,"TestLoadImage: loaded",!0,v,R),R.onerror=y(Vn,E,"TestLoadImage: error",!1,v,R),R.onabort=y(Vn,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(Vn,E,"TestLoadImage: timeout",!1,v,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function Ni(d,v){const E=new Tt,R=new AbortController,q=setTimeout(()=>{R.abort(),Vn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(J=>{clearTimeout(q),J.ok?Vn(E,"TestPingServer: ok",!0,v):Vn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Vn(E,"TestPingServer: error",!1,v)})}function Vn(d,v,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function Fo(){this.g=new Dn}function as(d){this.i=d.Sb||null,this.h=d.ab||!1}g(as,Nr),as.prototype.g=function(){return new Or(this.i,this.h)};function Or(d,v){ht.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Or,ht),n=Or.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,gi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;md(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function md(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Bs(this):gi(this),this.readyState==3&&md(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Bs(this))},n.Na=function(d){this.g&&(this.response=d,Bs(this))},n.ga=function(){this.g&&Bs(this)};function Bs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,gi(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function gi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function gd(d){let v="";return pe(d,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function Ma(d,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=gd(E),typeof d=="string"?E!=null&&te(E):pt(d,v,E))}function Pt(d){ht.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Pt,ht);var yd=/^https?$/i,dp=["POST","PUT"];n=Pt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():U.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){zs(this,J);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),q=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(dp,v,void 0)>=0)||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ye]of E)this.g.setRequestHeader(J,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(J){zs(this,J)}};function zs(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,js(d),us(d)}function js(d){d.A||(d.A=!0,xt(d,"complete"),xt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,xt(this,"complete"),xt(this,"abort"),us(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),Pt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ls(this):this.Xa())},n.Xa=function(){ls(this)};function ls(d){if(d.h&&typeof o<"u"){if(d.v&&Oi(d)==4)setTimeout(d.Ca.bind(d),0);else if(xt(d,"readystatechange"),Oi(d)==4){d.h=!1;try{const J=d.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=J===0){let ye=String(d.D).match(rt)[1]||null;!ye&&l.self&&l.self.location&&(ye=l.self.location.protocol.slice(0,-1)),R=!yd.test(ye?ye.toLowerCase():"")}E=R}if(E)xt(d,"complete"),xt(d,"success");else{d.o=6;try{var q=Oi(d)>2?d.g.statusText:""}catch{q=""}d.l=q+" ["+d.ca()+"]",js(d)}}finally{us(d)}}}}function us(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,v||xt(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Oi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Oi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),wn(v)}};function _d(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function hu(d){const v={};d=(d.g&&Oi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(P(d[R]))continue;var E=he(d[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=v[q]||[];v[q]=J,J.push(E)}ne(v,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function Fa(d){this.za=0,this.i=[],this.j=new Tt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,d),this.Za=Vi("retryDelaySeedMs",1e4,d),this.Ta=Vi("forwardChannelMaxRetries",2,d),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new sr(d&&d.concurrentRequestLimit),this.Ba=new Fo,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Fa.prototype,n.ka=8,n.I=1,n.connect=function(d,v,E,R){Et(0),this.W=d,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=pu(this,null,this.W),cs(this)};function Ua(d){if(Ba(d),d.I==3){var v=d.V++,E=sn(d.J);if(pt(E,"SID",d.M),pt(E,"RID",v),pt(E,"TYPE","terminate"),Li(d,E),v=new Se(d,d.j,v),v.M=2,v.A=os(sn(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=v.A,E=!0),E||(v.g=wd(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Nt(v)}zo(d)}function Vr(d){d.g&&(Bo(d),d.g.cancel(),d.g=null)}function Ba(d){Vr(d),d.v&&(l.clearTimeout(d.v),d.v=null),za(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function cs(d){if(!Hn(d.h)&&!d.m){d.m=!0;var v=d.Ea;ie||S(),ue||(ie(),ue=!0),I.add(v,d),d.D=0}}function vd(d,v){return fi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=je(p(d.Ea,d,v),$a(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const q=new Se(this,this.j,d);let J=this.o;if(this.U&&(J?(J=O(J),re(J,this.U)):J=this.U),this.u!==null||this.R||(q.J=J,J=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=fu(this,q,v),E=sn(this.J),pt(E,"RID",d),pt(E,"CVER",22),this.G&&pt(E,"X-HTTP-Session-Id",this.G),Li(this,E),J&&(this.R?v="headers="+te(gd(J))+"&"+v:this.u&&Ma(E,this.u,J)),vr(this.h,q),this.Ra&&pt(E,"TYPE","init"),this.S?(pt(E,"$req",v),pt(E,"SID","null"),q.U=!0,Pe(q,E,null)):Pe(q,E,v),this.I=2}}else this.I==3&&(d?Uo(this,d):this.i.length==0||Hn(this.h)||Uo(this))};function Uo(d,v){var E;v?E=v.l:E=d.V++;const R=sn(d.J);pt(R,"SID",d.M),pt(R,"RID",E),pt(R,"AID",d.K),Li(d,R),d.u&&d.o&&Ma(R,d.u,d.o),E=new Se(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),v&&(d.i=v.G.concat(d.i)),v=fu(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),vr(d.h,E),Pe(E,R,v)}function Li(d,v){d.H&&pe(d.H,function(E,R){pt(v,R,E)}),d.l&&pe({},function(E,R){pt(v,R,E)})}function fu(d,v,E){E=Math.min(d.i.length,E);const R=d.l?p(d.l.Ka,d.l,d):null;e:{var q=d.i;let Xe=-1;for(;;){const tn=["count="+E];Xe==-1?E>0?(Xe=q[0].g,tn.push("ofs="+Xe)):Xe=0:tn.push("ofs="+Xe);let It=!0;for(let on=0;on<E;on++){var J=q[on].g;const Mr=q[on].map;if(J-=Xe,J<0)Xe=Math.max(0,q[on].g-100),It=!1;else try{J="req"+J+"_"||"";try{var ye=Mr instanceof Map?Mr:Object.entries(Mr);for(const[ds,Fi]of ye){let Ui=Fi;c(Fi)&&(Ui=en(Fi)),tn.push(J+ds+"="+encodeURIComponent(Ui))}}catch(ds){throw tn.push(J+"type="+encodeURIComponent("_badmap")),ds}}catch{R&&R(Mr)}}if(It){ye=tn.join("&");break e}}ye=void 0}return d=d.i.splice(0,E),v.G=d,ye}function qn(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;ie||S(),ue||(ie(),ue=!0),I.add(v,d),d.A=0}}function Mi(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=je(p(d.Da,d),$a(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,$s(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=je(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Vr(this),$s(this))};function Bo(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function $s(d){d.g=new Se(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=sn(d.na);pt(v,"RID","rpc"),pt(v,"SID",d.M),pt(v,"AID",d.K),pt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&pt(v,"TO",d.ia),pt(v,"TYPE","xmlhttp"),Li(d,v),d.u&&d.o&&Ma(v,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=os(sn(v)),E.u=null,E.R=!0,Ke(E,d)}n.Va=function(){this.C!=null&&(this.C=null,Vr(this),Mi(this),Et(19))};function za(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function ja(d,v){var E=null;if(d.g==v){za(d),Bo(d),d.g=null;var R=2}else if(pi(d.h,v))E=v.G,Xr(d.h,v),R=1;else return;if(d.I!=0){if(v.o)if(R==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=d.D;R=yr(),xt(R,new ki(R,E)),cs(d)}else qn(d);else if(q=v.m,q==3||q==0&&v.X>0||!(R==1&&vd(d,v)||R==2&&Mi(d)))switch(E&&E.length>0&&(v=d.h,v.i=v.i.concat(E)),q){case 1:Lr(d,5);break;case 4:Lr(d,10);break;case 3:Lr(d,6);break;default:Lr(d,2)}}}function $a(d,v){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*v}function Lr(d,v){if(d.j.info("Error code "+v),v==2){var E=p(d.bb,d),R=d.Ua;const q=!R;R=new On(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||wt(R,"https"),os(R),q?Di(R.toString(),E):Ni(R.toString(),E)}else Et(2);d.I=0,d.l&&d.l.pa(v),zo(d),Ba(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function zo(d){if(d.I=0,d.ja=[],d.l){const v=In(d.h);(v.length!=0||d.i.length!=0)&&(C(d.ja,v),C(d.ja,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.oa()}}function pu(d,v,E){var R=E instanceof On?sn(E):new On(E);if(R.g!="")v&&(R.g=v+"."+R.g),or(R,R.u);else{var q=l.location;R=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const J=new On(null);R&&wt(J,R),v&&(J.g=v),q&&or(J,q),E&&(J.h=E),R=J}return E=d.G,v=d.wa,E&&v&&pt(R,E,v),pt(R,"VER",d.ka),Li(d,R),R}function wd(d,v,E){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new Pt(new as({ab:E})):new Pt(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ed(){}n=Ed.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ha(){}Ha.prototype.g=function(d,v){return new Ln(d,v)};function Ln(d,v){ht.call(this),this.g=new Fa(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!P(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!P(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Hs(this)}g(Ln,ht),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Ua(this.g)},Ln.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=en(d),d=E);v.i.push(new ss(v.Ya++,d)),v.I==3&&cs(v)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Ua(this.g),delete this.g,Ln.Z.N.call(this)};function Td(d){En.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}g(Td,En);function Id(){di.call(this),this.status=1}g(Id,di);function Hs(d){this.g=d}g(Hs,Ed),Hs.prototype.ra=function(){xt(this.g,"a")},Hs.prototype.qa=function(d){xt(this.g,new Td(d))},Hs.prototype.pa=function(d){xt(this.g,new Id)},Hs.prototype.oa=function(){xt(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,mb=function(){return new Ha},pb=function(){return yr()},fb=Nn,kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,zh=ir,x.COMPLETE="complete",hb=x,rr.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",ht.prototype.listen=ht.prototype.J,nc=rr,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,db=Pt}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl="12.9.0";function eL(n){Xl=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Of("@firebase/firestore");function wl(){return va.logLevel}function ce(n,...e){if(va.logLevel<=at.DEBUG){const t=e.map(Ny);va.debug(`Firestore (${Xl}): ${n}`,...t)}}function cr(n,...e){if(va.logLevel<=at.ERROR){const t=e.map(Ny);va.error(`Firestore (${Xl}): ${n}`,...t)}}function Ro(n,...e){if(va.logLevel<=at.WARN){const t=e.map(Ny);va.warn(`Firestore (${Xl}): ${n}`,...t)}}function Ny(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,gb(n,r,t)}function gb(n,e,t){let r=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw cr(r),new Error(r)}function Ve(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||gb(e,i,r)}function Qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Un.UNAUTHENTICATED)))}shutdown(){}}class nL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class rL{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ri,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ri)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new yb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class iL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new iL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new A0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=aL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Je(n,e){return n<e?-1:n>e?1:0}function Cg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),o=e.charAt(r);if(i!==o)return Jm(i)===Jm(o)?Je(i,o):Jm(i)?1:-1}return Je(n.length,e.length)}const lL=55296,uL=57343;function Jm(n){const e=n.charCodeAt(0);return e>=lL&&e<=uL}function Ml(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}function _b(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__name__";class qi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=qi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Je(e.length,t.length)}static compareSegments(e,t){const r=qi.isNumericId(e),i=qi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?qi.extractNumericId(e).compare(qi.extractNumericId(t)):Cg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class gt extends qi{construct(e,t,r){return new gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new gt(t)}static emptyPath(){return new gt([])}}const cL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends qi{construct(e,t,r){return new qt(e,t,r)}static isValidIdentifier(e){return cL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new qt([P0])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(t)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(gt.fromString(e))}static fromName(e){return new Ee(gt.fromString(e).popFirst(5))}static empty(){return new Ee(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n,e,t){if(!t)throw new ge(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dL(n,e,t,r){if(e===!0&&r===!0)throw new ge(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function k0(n){if(!Ee.isDocumentKey(n))throw new ge(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C0(n){if(Ee.isDocumentKey(n))throw new ge(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function dr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bf(n);throw new ge(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n,e){const t={typeString:n};return e&&(t.value=e),t}function nd(n,e){if(!wb(n))throw new ge(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ge(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=-62135596800,D0=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*D0);return new St(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<x0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D0}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nd(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:dn("string",St._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new St(0,0))}static max(){return new Ue(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;class cf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function xg(n){return n.fields.find((e=>e.kind===2))}function ra(n){return n.fields.filter((e=>e.kind!==2))}cf.UNKNOWN_ID=-1;class jh{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ac{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ac(0,Gr.min())}}function hL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new Gr(i,Ee.empty(),e)}function Eb(n){return new Gr(n.readTime,n.key,Rc)}class Gr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Gr(Ue.min(),Ee.empty(),Rc)}static max(){return new Gr(Ue.max(),Ee.empty(),Rc)}}function Vy(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ib{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==Tb)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new j(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof j?t:j.resolve(t)}catch(t){return j.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):j.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):j.reject(t)}static resolve(e){return new j(((t,r)=>{t(e)}))}static reject(e){return new j(((t,r)=>{r(e)}))}static waitFor(e){return new j(((t,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&t()}),(h=>r(h)))})),l=!0,o===i&&t()}))}static or(e){let t=j.resolve(!1);for(const r of e)t=t.next((i=>i?j.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,o)=>{r.push(t.call(this,i,o))})),this.waitFor(r)}static mapArray(e,t){return new j(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next((y=>{l[p]=y,++c,c===o&&r(l)}),(y=>i(y)))}}))}static doWhile(e,t){return new j(((r,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):r()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="SimpleDb";class zf{static open(e,t,r,i){try{return new zf(t,e.transaction(i,r))}catch(o){throw new dc(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Ri,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new dc(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Ly(r.target.error);this.S.reject(new dc(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ce(jr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new pL(t)}}class To{static delete(e){return ce(jr,"Removing database:",e),sa(cS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!wy())return!1;if(To.F())return!0;const e=yn(),t=To.M(e),r=0<t&&t<10,i=Sb(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,To.M(yn())===12.2&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ce(jr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const l=o.target.result;t(l)},i.onblocked=()=>{r(new dc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new ge(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ge(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new dc(e,l))},i.onupgradeneeded=o=>{ce(jr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.N.k(l,i.transaction,o.oldVersion,this.version).next((()=>{ce(jr,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=zf.open(this.db,e,o?"readonly":"readwrite",r),h=i(c).next((p=>(c.C(),p))).catch((p=>(c.abort(p),j.reject(p)))).toPromise();return h.catch((()=>{})),await c.D,h}catch(c){const h=c,p=h.name!=="FirebaseError"&&l<3;if(ce(jr,"Transaction failed with error:",h.message,"Retrying:",p),this.close(),!p)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Sb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class fL{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return sa(this.U.delete())}}class dc extends ge{constructor(e,t){super(ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function No(n){return n.name==="IndexedDbTransactionError"}class pL{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ce(jr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ce(jr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sa(r)}add(e){return ce(jr,"ADD",this.store.name,e,e),sa(this.store.add(e))}get(e){return sa(this.store.get(e)).next((t=>(t===void 0&&(t=null),ce(jr,"GET",this.store.name,e,t),t)))}delete(e){return ce(jr,"DELETE",this.store.name,e),sa(this.store.delete(e))}count(){return ce(jr,"COUNT",this.store.name),sa(this.store.count())}H(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new j(((l,c)=>{o.onerror=h=>{c(h.target.error)},o.onsuccess=h=>{l(h.target.result)}}))}{const o=this.cursor(r),l=[];return this.J(o,((c,h)=>{l.push(h)})).next((()=>l))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new j(((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}X(e,t){ce(jr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.J(i,((o,l,c)=>c.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.J(i,t)}te(e){const t=this.cursor({});return new j(((r,i)=>{t.onerror=o=>{const l=Ly(o.target.error);i(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}J(e,t){const r=[];return new j(((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const h=new fL(c),p=t(c.primaryKey,c.value,h);if(p instanceof j){const y=p.catch((g=>(h.done(),j.reject(g))));r.push(y)}h.isDone?i():h.G===null?c.continue():c.continue(h.G)}})).next((()=>j.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sa(n){return new j(((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Ly(r.target.error);t(i)}}))}let N0=!1;function Ly(n){const e=To.M(yn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return N0||(N0=!0,setTimeout((()=>{throw r}),0)),r}}return n}const hc="IndexBackfiller";class mL{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ce(hc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ce(hc,`Documents written: ${t}`)}catch(t){No(t)?ce(hc,"Ignoring IndexedDB error during index backfill: ",t):await Na(t)}await this.re(6e4)}))}}class gL{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let i=t,o=!0;return j.doWhile((()=>o===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return ce(hc,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));o=!1})))).next((()=>t-i))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next((o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,o))).next((c=>(ce(hc,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((i,o)=>{const l=Eb(o);Vy(l,r)>0&&(r=l)})),new Gr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oi.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=-1;function rd(n){return n==null}function Pc(n){return n===0&&1/n==-1/0}function yL(n){return typeof n=="number"&&Number.isInteger(n)&&!Pc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="";function er(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=O0(e)),e=_L(n.get(t),e);return O0(e)}function _L(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case df:t+="";break;default:t+=o}}return t}function O0(n){return n+df+""}function Wi(n){const e=n.length;if(Ve(e>=2,64408,{path:n}),e===2)return Ve(n.charAt(0)===df&&n.charAt(1)==="",56145,{path:n}),gt.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const l=n.indexOf(df,o);switch((l<0||l>t)&&Ae(50515,{path:n}),n.charAt(l+1)){case"":const c=n.substring(o,l);let h;i.length===0?h=c:(i+=c,h=i,i=""),r.push(h);break;case"":i+=n.substring(o,l),i+="\0";break;case"":i+=n.substring(o,l+1);break;default:Ae(61167,{path:n})}o=l+2}return new gt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="remoteDocuments",id="owner",hl="owner",kc="mutationQueues",vL="userId",Ii="mutations",V0="batchId",da="userMutationsIndex",L0=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n,e){return[n,er(e)]}function bb(n,e,t){return[n,er(e),t]}const wL={},Fl="documentMutations",hf="remoteDocumentsV14",EL=["prefixPath","collectionGroup","readTime","documentId"],Hh="documentKeyIndex",TL=["prefixPath","collectionGroup","documentId"],Rb="collectionGroupIndex",IL=["collectionGroup","readTime","prefixPath","documentId"],Cc="remoteDocumentGlobal",Dg="remoteDocumentGlobalKey",Ul="targets",Ab="queryTargetsIndex",SL=["canonicalId","targetId"],Bl="targetDocuments",bL=["targetId","path"],My="documentTargetsIndex",RL=["path","targetId"],ff="targetGlobalKey",pa="targetGlobal",xc="collectionParents",AL=["collectionId","parent"],zl="clientMetadata",PL="clientId",jf="bundles",kL="bundleId",$f="namedQueries",CL="name",Fy="indexConfiguration",xL="indexId",Ng="collectionGroupIndex",DL="collectionGroup",fc="indexState",NL=["indexId","uid"],Pb="sequenceNumberIndex",OL=["uid","sequenceNumber"],pc="indexEntries",VL=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kb="documentKeyIndex",LL=["indexId","uid","orderedDocumentKey"],Hf="documentOverlays",ML=["userId","collectionPath","documentId"],Og="collectionPathOverlayIndex",FL=["userId","collectionPath","largestBatchId"],Cb="collectionGroupOverlayIndex",UL=["userId","collectionGroup","largestBatchId"],Uy="globals",BL="name",xb=[kc,Ii,Fl,ia,Ul,id,pa,Bl,zl,Cc,xc,jf,$f],zL=[...xb,Hf],Db=[kc,Ii,Fl,hf,Ul,id,pa,Bl,zl,Cc,xc,jf,$f,Hf],Nb=Db,By=[...Nb,Fy,fc,pc],jL=By,Ob=[...By,Uy],$L=Ob;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Ib{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function vn(n,e){const t=Qe(n);return To.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Vb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t){this.comparator=e,this.root=t||Bn.EMPTY}insert(e,t){return new zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}}class Th{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Bn.RED,this.left=i??Bn.EMPTY,this.right=o??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Bn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(e){return new F0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class F0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Pr([])}unionWith(e){let t=new Rt(qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Lb("Invalid base64 string: "+o):o}})(e);return new fn(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const HL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(n){if(Ve(!!n,39018),typeof n=="string"){let e=0;const t=HL.exec(n);if(Ve(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(n.seconds),nanos:Ut(n.nanos)}}function Ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ds(n){return typeof n=="string"?fn.fromBase64String(n):fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="server_timestamp",Fb="__type__",Ub="__previous_value__",Bb="__local_write_time__";function zy(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Fb])==null?void 0:r.stringValue)===Mb}function qf(n){const e=n.mapValue.fields[Ub];return zy(e)?qf(e):e}function Dc(n){const e=xs(n.mapValue.fields[Bb].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,t,r,i,o,l,c,h,p,y,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=g}}const pf="(default)";class wa{constructor(e,t){this.projectId=e,this.database=t||pf}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database===pf}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}function WL(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="__type__",zb="__max__",vo={mapValue:{fields:{__type__:{stringValue:zb}}}},$y="__vector__",jl="value",qh={nullValue:"NULL_VALUE"};function Ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zy(n)?4:jb(n)?9007199254740991:Wf(n)?10:11:Ae(28295,{value:n})}function es(n,e){if(n===e)return!0;const t=Ao(n);if(t!==Ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dc(n).isEqual(Dc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=xs(i.timestampValue),c=xs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Ds(i.bytesValue).isEqual(Ds(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ut(i.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ut(i.integerValue)===Ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Ut(i.doubleValue),c=Ut(o.doubleValue);return l===c?Pc(l)===Pc(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return Ml(n.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(M0(l)!==M0(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!es(l[h],c[h])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function Nc(n,e){return(n.values||[]).find((t=>es(t,e)))!==void 0}function Po(n,e){if(n===e)return 0;const t=Ao(n),r=Ao(e);if(t!==r)return Je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=Ut(o.integerValue||o.doubleValue),h=Ut(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(n,e);case 3:return U0(n.timestampValue,e.timestampValue);case 4:return U0(Dc(n),Dc(e));case 5:return Cg(n.stringValue,e.stringValue);case 6:return(function(o,l){const c=Ds(o),h=Ds(l);return c.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const y=Je(c[p],h[p]);if(y!==0)return y}return Je(c.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=Je(Ut(o.latitude),Ut(l.latitude));return c!==0?c:Je(Ut(o.longitude),Ut(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return B0(n.arrayValue,e.arrayValue);case 10:return(function(o,l){var w,b,C,L;const c=o.fields||{},h=l.fields||{},p=(w=c[jl])==null?void 0:w.arrayValue,y=(b=h[jl])==null?void 0:b.arrayValue,g=Je(((C=p==null?void 0:p.values)==null?void 0:C.length)||0,((L=y==null?void 0:y.values)==null?void 0:L.length)||0);return g!==0?g:B0(p,y)})(n.mapValue,e.mapValue);case 11:return(function(o,l){if(o===vo.mapValue&&l===vo.mapValue)return 0;if(o===vo.mapValue)return 1;if(l===vo.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),p=l.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let g=0;g<h.length&&g<y.length;++g){const w=Cg(h[g],y[g]);if(w!==0)return w;const b=Po(c[h[g]],p[y[g]]);if(b!==0)return b}return Je(h.length,y.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function U0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Je(n,e);const t=xs(n),r=xs(e),i=Je(t.seconds,r.seconds);return i!==0?i:Je(t.nanos,r.nanos)}function B0(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Po(t[i],r[i]);if(o)return o}return Je(t.length,r.length)}function $l(n){return Lg(n)}function Lg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=xs(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ds(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Lg(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Lg(t.fields[l])}`;return i+"}"})(n.mapValue):Ae(61005,{value:n})}function Wh(n){switch(Ao(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qf(n);return e?16+Wh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ds(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Wh(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Oo(r.fields,((o,l)=>{i+=o.length+Wh(l)})),i})(n.mapValue);default:throw Ae(13486,{value:n})}}function Oc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mg(n){return!!n&&"integerValue"in n}function Vc(n){return!!n&&"arrayValue"in n}function z0(n){return!!n&&"nullValue"in n}function j0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kh(n){return!!n&&"mapValue"in n}function Wf(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[jy])==null?void 0:r.stringValue)===$y}function mc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Oo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=mc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mc(n.arrayValue.values[t]);return e}return{...n}}function jb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zb}const $b={mapValue:{fields:{[jy]:{stringValue:$y},[jl]:{arrayValue:{}}}}};function KL(n){return"nullValue"in n?qh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Oc(wa.empty(),Ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Wf(n)?$b:{mapValue:{}}:Ae(35942,{value:n})}function GL(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Oc(wa.empty(),Ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?$b:"mapValue"in n?Wf(n)?{mapValue:{}}:vo:Ae(61959,{value:n})}function $0(n,e){const t=Po(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function H0(n,e){const t=Po(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(t)}setAll(e){let t=qt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=mc(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Oo(t,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new zn(mc(this.value))}}function Hb(n){const e=[];return Oo(n.fields,((t,r)=>{const i=new qt([t]);if(Kh(r)){const o=Hb(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Bt(e,0,Ue.min(),Ue.min(),Ue.min(),zn.empty(),0)}static newFoundDocument(e,t,r,i){return new Bt(e,1,t,Ue.min(),r,i,0)}static newNoDocument(e,t){return new Bt(e,2,t,Ue.min(),Ue.min(),zn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Ue.min(),Ue.min(),zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t){this.position=e,this.inclusive=t}}function q0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),t.key):r=Po(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function W0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!es(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function QL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{}class lt extends qb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new YL(e,t,r):t==="array-contains"?new ZL(e,r):t==="in"?new Jb(e,r):t==="not-in"?new e2(e,r):t==="array-contains-any"?new t2(e,r):new lt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new JL(e,r):new XL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Po(t,this.value)):t!==null&&Ao(this.value)===Ao(t)&&this.matchesComparison(Po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends qb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bt(e,t)}matches(e){return ql(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ql(n){return n.op==="and"}function Fg(n){return n.op==="or"}function Hy(n){return Wb(n)&&ql(n)}function Wb(n){for(const e of n.filters)if(e instanceof bt)return!1;return!0}function Ug(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+$l(n.value);if(Hy(n))return n.filters.map((e=>Ug(e))).join(",");{const e=n.filters.map((t=>Ug(t))).join(",");return`${n.op}(${e})`}}function Kb(n,e){return n instanceof lt?(function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&es(r.value,i.value)})(n,e):n instanceof bt?(function(r,i){return i instanceof bt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&Kb(l,i.filters[c])),!0):!1})(n,e):void Ae(19439)}function Gb(n,e){const t=n.filters.concat(e);return bt.create(t,n.op)}function Qb(n){return n instanceof lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${$l(t.value)}`})(n):n instanceof bt?(function(t){return t.op.toString()+" {"+t.getFilters().map(Qb).join(" ,")+"}"})(n):"Filter"}class YL extends lt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class JL extends lt{constructor(e,t){super(e,"in",t),this.keys=Yb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class XL extends lt{constructor(e,t){super(e,"not-in",t),this.keys=Yb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Yb(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Ee.fromName(r.referenceValue)))}class ZL extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vc(t)&&Nc(t.arrayValue,this.value)}}class Jb extends lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nc(this.value.arrayValue,t)}}class e2 extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nc(this.value.arrayValue,t)}}class t2 extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Nc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function Bg(n,e=null,t=[],r=[],i=null,o=null,l=null){return new n2(n,e,t,r,i,o,l)}function Ea(n){const e=Qe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Ug(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>$l(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>$l(r))).join(",")),e.Te=t}return e.Te}function sd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Kb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!W0(n.startAt,e.startAt)&&W0(n.endAt,e.endAt)}function mf(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function gf(n,e){return n.filters.filter((t=>t instanceof lt&&t.field.isEqual(e)))}function K0(n,e,t){let r=qh,i=!0;for(const o of gf(n,e)){let l=qh,c=!0;switch(o.op){case"<":case"<=":l=KL(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,c=!1;break;case"!=":case"not-in":l=qh}$0({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];$0({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function G0(n,e,t){let r=vo,i=!0;for(const o of gf(n,e)){let l=vo,c=!0;switch(o.op){case">=":case">":l=GL(o.value),c=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,c=!1;break;case"!=":case"not-in":l=vo}H0({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];H0({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function r2(n,e,t,r,i,o,l,c){return new Zl(n,e,t,r,i,o,l,c)}function od(n){return new Zl(n)}function Q0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function i2(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Xb(n){return n.collectionGroup!==null}function gc(n){const e=Qe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Rt(qt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Lc(o,r))})),t.has(qt.keyField().canonicalString())||e.Ie.push(new Lc(qt.keyField(),r))}return e.Ie}function ai(n){const e=Qe(n);return e.Ee||(e.Ee=s2(e,gc(n))),e.Ee}function s2(n,e){if(n.limitType==="F")return Bg(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Lc(i.field,o)}));const t=n.endAt?new Hl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Hl(n.startAt.position,n.startAt.inclusive):null;return Bg(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zg(n,e){const t=n.filters.concat([e]);return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function o2(n,e){const t=n.explicitOrderBy.concat([e]);return new Zl(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function yf(n,e,t){return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kf(n,e){return sd(ai(n),ai(e))&&n.limitType===e.limitType}function Zb(n){return`${Ea(ai(n))}|lt:${n.limitType}`}function El(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>Qb(i))).join(", ")}]`),rd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>$l(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>$l(i))).join(",")),`Target(${r})`})(ai(n))}; limitType=${n.limitType})`}function ad(n,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(const o of gc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const p=q0(l,c,h);return l.inclusive?p<=0:p<0})(r.startAt,gc(r),i)||r.endAt&&!(function(l,c,h){const p=q0(l,c,h);return l.inclusive?p>=0:p>0})(r.endAt,gc(r),i))})(n,e)}function a2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eR(n){return(e,t)=>{let r=!1;for(const i of gc(n)){const o=l2(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function l2(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(o,l,c){const h=l.data.field(o),p=c.data.field(o);return h!==null&&p!==null?Po(h,p):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,((t,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return Vb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new zt(Ee.comparator);function Hr(){return u2}const tR=new zt(Ee.comparator);function rc(...n){let e=tR;for(const t of n)e=e.insert(t.key,t);return e}function nR(n){let e=tR;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ki(){return yc()}function rR(){return yc()}function yc(){return new Ls((n=>n.toString()),((n,e)=>n.isEqual(e)))}const c2=new zt(Ee.comparator),d2=new Rt(Ee.comparator);function nt(...n){let e=d2;for(const t of n)e=e.add(t);return e}const h2=new Rt(Je);function f2(){return h2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function iR(n){return{integerValue:""+n}}function p2(n,e){return yL(e)?iR(e):qy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this._=void 0}}function m2(n,e,t){return n instanceof Mc?(function(i,o){const l={fields:{[Fb]:{stringValue:Mb},[Bb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zy(o)&&(o=qf(o)),o&&(l.fields[Ub]=o),{mapValue:l}})(t,e):n instanceof Wl?oR(n,e):n instanceof Kl?aR(n,e):(function(i,o){const l=sR(i,o),c=Y0(l)+Y0(i.Ae);return Mg(l)&&Mg(i.Ae)?iR(c):qy(i.serializer,c)})(n,e)}function g2(n,e,t){return n instanceof Wl?oR(n,e):n instanceof Kl?aR(n,e):t}function sR(n,e){return n instanceof Fc?(function(r){return Mg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Mc extends Gf{}class Wl extends Gf{constructor(e){super(),this.elements=e}}function oR(n,e){const t=lR(e);for(const r of n.elements)t.some((i=>es(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Kl extends Gf{constructor(e){super(),this.elements=e}}function aR(n,e){let t=lR(e);for(const r of n.elements)t=t.filter((i=>!es(i,r)));return{arrayValue:{values:t}}}class Fc extends Gf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Y0(n){return Ut(n.integerValue||n.doubleValue)}function lR(n){return Vc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t){this.field=e,this.transform=t}}function _2(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Wl&&i instanceof Wl||r instanceof Kl&&i instanceof Kl?Ml(r.elements,i.elements,es):r instanceof Fc&&i instanceof Fc?es(r.Ae,i.Ae):r instanceof Mc&&i instanceof Mc})(n.transform,e.transform)}class v2{constructor(e,t){this.version=e,this.transformResults=t}}class cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qf{}function uR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yf(n.key,cn.none()):new eu(n.key,n.data,cn.none());{const t=n.data,r=zn.empty();let i=new Rt(qt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Ms(n.key,r,new Pr(i.toArray()),cn.none())}}function w2(n,e,t){n instanceof eu?(function(i,o,l){const c=i.value.clone(),h=X0(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Ms?(function(i,o,l){if(!Gh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=X0(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(cR(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function _c(n,e,t,r){return n instanceof eu?(function(o,l,c,h){if(!Gh(o.precondition,l))return c;const p=o.value.clone(),y=Z0(o.fieldTransforms,h,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ms?(function(o,l,c,h){if(!Gh(o.precondition,l))return c;const p=Z0(o.fieldTransforms,h,l),y=l.data;return y.setAll(cR(o)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((g=>g.field)))})(n,e,t,r):(function(o,l,c){return Gh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function E2(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=sR(r.transform,i||null);o!=null&&(t===null&&(t=zn.empty()),t.set(r.field,o))}return t||null}function J0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ml(r,i,((o,l)=>_2(o,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class eu extends Qf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ms extends Qf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function cR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function X0(n,e,t){const r=new Map;Ve(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,g2(l,c,t[i]))}return r}function Z0(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,m2(o,l,e))}return r}class Yf extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wy extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&w2(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=_c(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=_c(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=rR();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const h=uR(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,((t,r)=>J0(t,r)))&&Ml(this.baseMutations,e.baseMutations,((t,r)=>J0(t,r)))}}class Gy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return c2})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Gy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,ct;function dR(n){switch(n){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function hR(n){if(n===void 0)return cr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case ln.OK:return ee.OK;case ln.CANCELLED:return ee.CANCELLED;case ln.UNKNOWN:return ee.UNKNOWN;case ln.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case ln.INTERNAL:return ee.INTERNAL;case ln.UNAVAILABLE:return ee.UNAVAILABLE;case ln.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case ln.NOT_FOUND:return ee.NOT_FOUND;case ln.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case ln.ABORTED:return ee.ABORTED;case ln.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case ln.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:n})}}(ct=ln||(ln={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Eo([4294967295,4294967295],0);function eT(n){const e=I2().encode(n),t=new cb;return t.update(e),new Uint8Array(t.digest())}function tT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Eo([t,r],0),new Eo([i,o],0)]}class Yy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ic(`Invalid padding: ${t}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ic(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Eo.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Eo.fromNumber(r)));return i.compare(S2)===1&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=eT(e),[r,i]=tT(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Yy(o,i,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=eT(e),[r,i]=tT(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Jf(Ue.min(),i,new zt(Je),Hr(),nt())}}class ld{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ld(r,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}}class fR{constructor(e,t){this.targetId=e,this.Ce=t}}class pR{constructor(e,t,r=fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class nT{constructor(){this.ve=0,this.Fe=rT(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),t=nt(),r=nt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ae(38017,{changeType:o})}})),new ld(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=rT()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class b2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hr(),this.He=Ih(),this.Je=Ih(),this.Ze=new zt(Je)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(mf(o))if(r===0){const l=new Ee(o.path);this.et(t,l,Bt.newNoDocument(l,Ue.min()))}else Ve(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Ds(r).toUint8Array()}catch(h){if(h instanceof Lb)return Ro("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Yy(l,i,o)}catch(h){return Ro(h instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&mf(c.target)){const h=new Ee(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Bt.newNoDocument(h,e))}o.Be&&(t.set(l,o.ke()),o.Ke())}}));let r=nt();this.Je.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new Jf(e,t,this.Ze,this.je,r);return this.je=Hr(),this.He=Ih(),this.Je=Ih(),this.Ze=new zt(Je),i}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new nT,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Rt(Je),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Rt(Je),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ih(){return new zt(Ee.comparator)}function rT(){return new zt(Ee.comparator)}const R2={asc:"ASCENDING",desc:"DESCENDING"},A2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P2={and:"AND",or:"OR"};class k2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jg(n,e){return n.useProto3Json||rd(e)?e:{value:e}}function Gl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function C2(n,e){return Gl(n,e.toTimestamp())}function kn(n){return Ve(!!n,49232),Ue.fromTimestamp((function(t){const r=xs(t);return new St(r.seconds,r.nanos)})(n))}function Jy(n,e){return $g(n,e).canonicalString()}function $g(n,e){const t=(function(i){return new gt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function gR(n){const e=gt.fromString(n);return Ve(bR(e),10190,{key:e.toString()}),e}function Uc(n,e){return Jy(n.databaseId,e.path)}function Ps(n,e){const t=gR(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(vR(t))}function yR(n,e){return Jy(n.databaseId,e)}function _R(n){const e=gR(n);return e.length===4?gt.emptyPath():vR(e)}function Hg(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vR(n){return Ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function iT(n,e,t){return{name:Uc(n,e),fields:t.value.mapValue.fields}}function x2(n,e,t){const r=Ps(n,e.name),i=kn(e.updateTime),o=e.createTime?kn(e.createTime):Ue.min(),l=new zn({mapValue:{fields:e.fields}}),c=Bt.newFoundDocument(r,i,o,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function D2(n,e){return"found"in e?(function(r,i){Ve(!!i.found,43571),i.found.name,i.found.updateTime;const o=Ps(r,i.found.name),l=kn(i.found.updateTime),c=i.found.createTime?kn(i.found.createTime):Ue.min(),h=new zn({mapValue:{fields:i.found.fields}});return Bt.newFoundDocument(o,l,c,h)})(n,e):"missing"in e?(function(r,i){Ve(!!i.missing,3894),Ve(!!i.readTime,22933);const o=Ps(r,i.missing),l=kn(i.readTime);return Bt.newNoDocument(o,l)})(n,e):Ae(7234,{result:e})}function N2(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(p,y){return p.useProto3Json?(Ve(y===void 0||typeof y=="string",58123),fn.fromBase64String(y||"")):(Ve(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),fn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const y=p.code===void 0?ee.UNKNOWN:hR(p.code);return new ge(y,p.message||"")})(l);t=new pR(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ps(n,r.document.name),o=kn(r.document.updateTime),l=r.document.createTime?kn(r.document.createTime):Ue.min(),c=new zn({mapValue:{fields:r.document.fields}}),h=Bt.newFoundDocument(i,o,l,c),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Qh(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ps(n,r.document),o=r.readTime?kn(r.readTime):Ue.min(),l=Bt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Qh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ps(n,r.document),o=r.removedTargetIds||[];t=new Qh([],o,i,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new T2(i,o),c=r.targetId;t=new fR(c,l)}}return t}function Bc(n,e){let t;if(e instanceof eu)t={update:iT(n,e.key,e.value)};else if(e instanceof Yf)t={delete:Uc(n,e.key)};else if(e instanceof Ms)t={update:iT(n,e.key,e.data),updateMask:U2(e.fieldMask)};else{if(!(e instanceof Wy))return Ae(16599,{dt:e.type});t={verify:Uc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Mc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Wl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Kl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Fc)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ae(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:C2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)})(n,e.precondition)),t}function qg(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?cn.updateTime(kn(o.updateTime)):o.exists!==void 0?cn.exists(o.exists):cn.none()})(e.currentDocument):cn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let h=null;if("setToServerValue"in c)Ve(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),h=new Mc;else if("appendMissingElements"in c){const y=c.appendMissingElements.values||[];h=new Wl(y)}else if("removeAllFromArray"in c){const y=c.removeAllFromArray.values||[];h=new Kl(y)}else"increment"in c?h=new Fc(l,c.increment):Ae(16584,{proto:c});const p=qt.fromServerFormat(c.fieldPath);return new y2(p,h)})(n,i))):[];if(e.update){e.update.name;const i=Ps(n,e.update.name),o=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const p=h.fieldPaths||[];return new Pr(p.map((y=>qt.fromServerFormat(y))))})(e.updateMask);return new Ms(i,o,l,t,r)}return new eu(i,o,t,r)}if(e.delete){const i=Ps(n,e.delete);return new Yf(i,t)}if(e.verify){const i=Ps(n,e.verify);return new Wy(i,t)}return Ae(1463,{proto:e})}function O2(n,e){return n&&n.length>0?(Ve(e!==void 0,14353),n.map((t=>(function(i,o){let l=i.updateTime?kn(i.updateTime):kn(o);return l.isEqual(Ue.min())&&(l=kn(o)),new v2(l,i.transformResults||[])})(t,e)))):[]}function wR(n,e){return{documents:[yR(n,e.path)]}}function ER(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yR(n,i);const o=(function(p){if(p.length!==0)return SR(bt.create(p,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(p){if(p.length!==0)return p.map((y=>(function(w){return{field:Tl(w.field),direction:L2(w.dir)}})(y)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=jg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:i}}function TR(n){let e=_R(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ve(r===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(g){const w=IR(g);return w instanceof bt&&Hy(w)?w.getFilters():[w]})(t.where));let l=[];t.orderBy&&(l=(function(g){return g.map((w=>(function(C){return new Lc(Il(C.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(w)))})(t.orderBy));let c=null;t.limit&&(c=(function(g){let w;return w=typeof g=="object"?g.value:g,rd(w)?null:w})(t.limit));let h=null;t.startAt&&(h=(function(g){const w=!!g.before,b=g.values||[];return new Hl(b,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(g){const w=!g.before,b=g.values||[];return new Hl(b,w)})(t.endAt)),r2(e,i,l,o,c,"F",h,p)}function V2(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Il(t.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Il(t.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Il(t.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Il(t.unaryFilter.field);return lt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return lt.create(Il(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bt.create(t.compositeFilter.filters.map((r=>IR(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function L2(n){return R2[n]}function M2(n){return A2[n]}function F2(n){return P2[n]}function Tl(n){return{fieldPath:n.canonicalString()}}function Il(n){return qt.fromServerFormat(n.fieldPath)}function SR(n){return n instanceof lt?(function(t){if(t.op==="=="){if(j0(t.value))return{unaryFilter:{field:Tl(t.field),op:"IS_NAN"}};if(z0(t.value))return{unaryFilter:{field:Tl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(j0(t.value))return{unaryFilter:{field:Tl(t.field),op:"IS_NOT_NAN"}};if(z0(t.value))return{unaryFilter:{field:Tl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(t.field),op:M2(t.op),value:t.value}}})(n):n instanceof bt?(function(t){const r=t.getFilters().map((i=>SR(i)));return r.length===1?r[0]:{compositeFilter:{op:F2(t.op),filters:r}}})(n):Ae(54877,{filter:n})}function U2(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function bR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function RR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t,r,i,o=Ue.min(),l=Ue.min(),c=fn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.yt=e}}function B2(n,e){let t;if(e.document)t=x2(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ee.fromSegments(e.noDocument.path),i=Ia(e.noDocument.readTime);t=Bt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ae(56709);{const r=Ee.fromSegments(e.unknownDocument.path),i=Ia(e.unknownDocument.version);t=Bt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){const o=new St(i[0],i[1]);return Ue.fromTimestamp(o)})(e.readTime)),t}function sT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_f(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,l){return{name:Uc(o,l.key),fields:l.data.value.mapValue.fields,updateTime:Gl(o,l.version.toTimestamp()),createTime:Gl(o,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ta(e.version)};else{if(!e.isUnknownDocument())return Ae(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Ta(e.version)}}return r}function _f(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ta(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ia(n){const e=new St(n.seconds,n.nanoseconds);return Ue.fromTimestamp(e)}function oa(n,e){const t=(e.baseMutations||[]).map((o=>qg(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const c=e.mutations[o+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>qg(n.yt,o))),i=St.fromMillis(e.localWriteTimeMs);return new Ky(e.batchId,i,t,r)}function sc(n){const e=Ia(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Ia(n.lastLimboFreeSnapshotVersion):Ue.min();let r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){const l=o.documents.length;return Ve(l===1,1966,{count:l}),ai(od(_R(o.documents[0])))})(n.query):(function(o){return ai(TR(o))})(n.query),new Rs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,fn.fromBase64String(n.resumeToken))}function PR(n,e){const t=Ta(e.snapshotVersion),r=Ta(e.lastLimboFreeSnapshotVersion);let i;i=mf(e.target)?wR(n.yt,e.target):ER(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ea(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function kR(n){const e=TR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yf(e,e.limit,"L"):e}function Xm(n,e){return new Qy(e.largestBatchId,qg(n.yt,e.overlayMutation))}function oT(n,e){const t=e.path.lastSegment();return[n,er(e.path.popLast()),t]}function aT(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ta(r.readTime),documentKey:er(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{getBundleMetadata(e,t){return lT(e).get(t).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:Ia(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,t){return lT(e).put((function(i){return{bundleId:i.id,createTime:Ta(kn(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return uT(e).get(t).next((r=>{if(r)return(function(o){return{name:o.name,query:kR(o.bundledQuery),readTime:Ia(o.readTime)}})(r)}))}saveNamedQuery(e,t){return uT(e).put((function(i){return{name:i.name,readTime:Ta(kn(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function lT(n){return vn(n,jf)}function uT(n){return vn(n,$f)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Xf(e,r)}getOverlay(e,t){return Hu(e).get(oT(this.userId,t)).next((r=>r?Xm(this.serializer,r):null))}getOverlays(e,t){const r=Ki();return j.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,t,r){const i=[];return r.forEach(((o,l)=>{const c=new Qy(t,l);i.push(this.bt(e,c))})),j.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach((l=>i.add(er(l.getCollectionPath()))));const o=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(Hu(e).X(Og,c))})),j.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Ki(),o=er(t),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Hu(e).H(Og,l).next((c=>{for(const h of c){const p=Xm(this.serializer,h);i.set(p.getKey(),p)}return i}))}getOverlaysForCollectionGroup(e,t,r,i){const o=Ki();let l;const c=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hu(e).ee({index:Cb,range:c},((h,p,y)=>{const g=Xm(this.serializer,p);o.size()<i||g.largestBatchId===l?(o.set(g.getKey(),g),l=g.largestBatchId):y.done()})).next((()=>o))}bt(e,t){return Hu(e).put((function(i,o,l){const[c,h,p]=oT(o,l.mutation.key);return{userId:o,collectionPath:h,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Bc(i.yt,l.mutation)}})(this.serializer,this.userId,t))}}function Hu(n){return vn(n,Hf)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{St(e){return vn(e,Uy)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t==null?void 0:t.value;return r?fn.fromUint8Array(r):fn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ut(e.integerValue));else if("doubleValue"in e){const r=Ut(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Pc(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=xs(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ds(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?jb(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Wf(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):Ae(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){var l,c;const r=e.fields||{};this.Ft(t,53);const i=jl,o=((c=(l=r[i].arrayValue)==null?void 0:l.values)==null?void 0:c.length)||0;this.Ft(t,15),t.Mt(Ut(o)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),Ee.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}aa.Wt=new aa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=255;function $2(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function cT(n){const e=64-(function(r){let i=0;for(let o=0;o<8;++o){const l=$2(255&r[o]);if(i+=l,l!==8)break}return i})(n);return Math.ceil(e/8)}class H2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=t.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const t=this.en(e),r=cT(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=cT(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(pl),this.sn(255)}_n(){this.an(pl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===pl?(this.sn(pl),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===pl?(this.an(pl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class q2{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class W2{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class qu{constructor(){this.cn=new H2,this.ascending=new q2(this.cn),this.descending=new W2(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,r,i){this.hn=e,this.Pn=t,this.Tn=r,this.In=i}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new la(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:Yh(this.Tn),directionalValue:Yh(this.In),orderedDocumentKey:Yh(t),documentKey:r.path.toArray()}}An(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function oo(n,e){let t=n.hn-e.hn;return t!==0?t:(t=dT(n.Tn,e.Tn),t!==0?t:(t=dT(n.In,e.In),t!==0?t:Ee.comparator(n.Pn,e.Pn)))}function dT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Yh(n){return _S()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function hT(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}class fT{constructor(e){this.Vn=new Rt(((t,r)=>qt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Ve(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=xg(e);if(t!==void 0&&!this.pn(t))return!1;const r=ra(e);let i=new Set,o=0,l=0;for(;o<r.length&&this.pn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Vn.size>0){const c=this.Vn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const h=r[o];if(!this.yn(c,h)||!this.wn(this.dn[l++],h))return!1}++o}for(;o<r.length;++o){const c=r[o];if(l>=this.dn.length||!this.wn(this.dn[l++],c))return!1}return!0}bn(){if(this.fn)return null;let e=new Rt(qt.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new jh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new jh(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new jh(r.field,r.dir==="asc"?0:1)));return new cf(cf.UNKNOWN_ID,this.collectionId,t,Ac.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n){var t,r;if(Ve(n instanceof lt||n instanceof bt,20012),n instanceof lt){if(n instanceof Jb){const i=((r=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:r.map((o=>lt.create(n.field,"==",o))))||[];return bt.create(i,"or")}return n}const e=n.filters.map((i=>CR(i)));return bt.create(e,n.op)}function K2(n){if(n.getFilters().length===0)return[];const e=Gg(CR(n));return Ve(xR(e),7391),Wg(e)||Kg(e)?[e]:e.getFilters()}function Wg(n){return n instanceof lt}function Kg(n){return n instanceof bt&&Hy(n)}function xR(n){return Wg(n)||Kg(n)||(function(t){if(t instanceof bt&&Fg(t)){for(const r of t.getFilters())if(!Wg(r)&&!Kg(r))return!1;return!0}return!1})(n)}function Gg(n){if(Ve(n instanceof lt||n instanceof bt,34018),n instanceof lt)return n;if(n.filters.length===1)return Gg(n.filters[0]);const e=n.filters.map((r=>Gg(r)));let t=bt.create(e,n.op);return t=vf(t),xR(t)?t:(Ve(t instanceof bt,64498),Ve(ql(t),40251),Ve(t.filters.length>1,57927),t.filters.reduce(((r,i)=>Xy(r,i))))}function Xy(n,e){let t;return Ve(n instanceof lt||n instanceof bt,38388),Ve(e instanceof lt||e instanceof bt,25473),t=n instanceof lt?e instanceof lt?(function(i,o){return bt.create([i,o],"and")})(n,e):pT(n,e):e instanceof lt?pT(e,n):(function(i,o){if(Ve(i.filters.length>0&&o.filters.length>0,48005),ql(i)&&ql(o))return Gb(i,o.getFilters());const l=Fg(i)?i:o,c=Fg(i)?o:i,h=l.filters.map((p=>Xy(p,c)));return bt.create(h,"or")})(n,e),vf(t)}function pT(n,e){if(ql(e))return Gb(e,n.getFilters());{const t=e.filters.map((r=>Xy(n,r)));return bt.create(t,"or")}}function vf(n){if(Ve(n instanceof lt||n instanceof bt,11850),n instanceof lt)return n;const e=n.getFilters();if(e.length===1)return vf(e[0]);if(Wb(n))return n;const t=e.map((i=>vf(i))),r=[];return t.forEach((i=>{i instanceof lt?r.push(i):i instanceof bt&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:bt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.Sn=new Zy}addToCollectionParentIndex(e,t){return this.Sn.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(Gr.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}}class Zy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Rt(gt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="IndexedDbIndexManager",Sh=new Uint8Array(0);class Q2{constructor(e,t){this.databaseId=t,this.Dn=new Zy,this.Cn=new Ls((r=>Ea(r)),((r,i)=>sd(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const o={collectionId:r,parent:er(i)};return gT(e).put(o)}return j.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[_b(t),""],!1,!0);return gT(e).H(i).next((o=>{for(const l of o){if(l.collectionId!==t)break;r.push(Wi(l.parent))}return r}))}addFieldIndex(e,t){const r=Wu(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete i.indexId;const o=r.add(i);if(t.indexState){const l=gl(e);return o.next((c=>{l.put(aT(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const r=Wu(e),i=gl(e),o=ml(e);return r.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Wu(e),r=ml(e),i=gl(e);return t.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,t){return j.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const o=new fT(r).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const r=ml(e);let i=!0;const o=new Map;return j.forEach(this.vn(t),(l=>this.Fn(e,l).next((c=>{i&&(i=!!c),o.set(l,c)})))).next((()=>{if(i){let l=nt();const c=[];return j.forEach(o,((h,p)=>{ce(mT,`Using index ${(function(Z){return`id=${Z.indexId}|cg=${Z.collectionGroup}|f=${Z.fields.map((oe=>`${oe.fieldPath}:${oe.kind}`)).join(",")}`})(h)} to execute ${Ea(t)}`);const y=(function(Z,oe){const ie=xg(oe);if(ie===void 0)return null;for(const ue of gf(Z,ie.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null})(p,h),g=(function(Z,oe){const ie=new Map;for(const ue of ra(oe))for(const I of gf(Z,ue.fieldPath))switch(I.op){case"==":case"in":ie.set(ue.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return ie.set(ue.fieldPath.canonicalString(),I.value),Array.from(ie.values())}return null})(p,h),w=(function(Z,oe){const ie=[];let ue=!0;for(const I of ra(oe)){const S=I.kind===0?K0(Z,I.fieldPath,Z.startAt):G0(Z,I.fieldPath,Z.startAt);ie.push(S.value),ue&&(ue=S.inclusive)}return new Hl(ie,ue)})(p,h),b=(function(Z,oe){const ie=[];let ue=!0;for(const I of ra(oe)){const S=I.kind===0?G0(Z,I.fieldPath,Z.endAt):K0(Z,I.fieldPath,Z.endAt);ie.push(S.value),ue&&(ue=S.inclusive)}return new Hl(ie,ue)})(p,h),C=this.Mn(h,p,w),L=this.Mn(h,p,b),N=this.xn(h,p,g),X=this.On(h.indexId,y,C,w.inclusive,L,b.inclusive,N);return j.forEach(X,(K=>r.Z(K,t.limit).next((Z=>{Z.forEach((oe=>{const ie=Ee.fromSegments(oe.documentKey);l.has(ie)||(l=l.add(ie),c.push(ie))}))}))))})).next((()=>c))}return j.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=K2(bt.create(e.filters,"and")).map((r=>Bg(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,i,o,l,c){const h=(t!=null?t.length:1)*Math.max(r.length,o.length),p=h/(t!=null?t.length:1),y=[];for(let g=0;g<h;++g){const w=t?this.Nn(t[g/p]):Sh,b=this.Bn(e,w,r[g%p],i),C=this.Ln(e,w,o[g%p],l),L=c.map((N=>this.Bn(e,w,N,!0)));y.push(...this.createRange(b,C,L))}return y}Bn(e,t,r,i){const o=new la(e,Ee.empty(),t,r);return i?o:o.En()}Ln(e,t,r,i){const o=new la(e,Ee.empty(),t,r);return i?o.En():o}Fn(e,t){const r=new fT(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((o=>{let l=null;for(const c of o)r.gn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,t){let r=2;const i=this.vn(t);return j.forEach(i,(o=>this.Fn(e,o).next((l=>{l?r!==0&&l.fields.length<(function(h){let p=new Rt(qt.comparator),y=!1;for(const g of h.filters)for(const w of g.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?y=!0:p=p.add(w.field));for(const g of h.orderBy)g.field.isKeyField()||(p=p.add(g.field));return p.size+(y?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&i.length>1&&r===2?1:r))}kn(e,t){const r=new qu;for(const i of ra(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const l=r.ln(i.kind);aa.Wt.Dt(o,l)}return r.un()}Nn(e){const t=new qu;return aa.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new qu;return aa.Wt.Dt(Oc(this.databaseId,t),r.ln((function(o){const l=ra(o);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let i=[];i.push(new qu);let o=0;for(const l of ra(e)){const c=r[o++];for(const h of i)if(this.qn(t,l.fieldPath)&&Vc(c))i=this.Un(i,l,c);else{const p=h.ln(l.kind);aa.Wt.Dt(c,p)}}return this.$n(i)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const c of i){const h=new qu;h.seed(c.un()),aa.Wt.Dt(l,h.ln(t.kind)),o.push(h)}return o}qn(e,t){return!!e.filters.find((r=>r instanceof lt&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Wu(e),i=gl(e);return(t?r.H(Ng,IDBKeyRange.bound(t,t)):r.H()).next((o=>{const l=[];return j.forEach(o,(c=>i.get([c.indexId,this.uid]).next((h=>{l.push((function(y,g){const w=g?new Ac(g.sequenceNumber,new Gr(Ia(g.readTime),new Ee(Wi(g.documentKey)),g.largestBatchId)):Ac.empty(),b=y.fields.map((([C,L])=>new jh(qt.fromServerFormat(C),L)));return new cf(y.indexId,y.collectionGroup,b,w)})(c,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Je(r.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const i=Wu(e),o=gl(e);return this.Wn(e).next((l=>i.H(Ng,IDBKeyRange.bound(t,t)).next((c=>j.forEach(c,(h=>o.put(aT(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return j.forEach(t,((i,o)=>{const l=r.get(i.collectionGroup);return(l?j.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),j.forEach(c,(h=>this.Qn(e,i,h).next((p=>{const y=this.Gn(o,h);return p.isEqual(y)?j.resolve():this.zn(e,o,h,p,y)})))))))}))}jn(e,t,r,i){return ml(e).put(i.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,i){return ml(e).delete(i.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const i=ml(e);let o=new Rt(oo);return i.ee({index:kb,range:IDBKeyRange.only([r.indexId,this.uid,Yh(this.Kn(r,t))])},((l,c)=>{o=o.add(new la(r.indexId,t,hT(c.arrayValue),hT(c.directionalValue)))})).next((()=>o))}Gn(e,t){let r=new Rt(oo);const i=this.kn(t,e);if(i==null)return r;const o=xg(t);if(o!=null){const l=e.data.field(o.fieldPath);if(Vc(l))for(const c of l.arrayValue.values||[])r=r.add(new la(t.indexId,e.key,this.Nn(c),i))}else r=r.add(new la(t.indexId,e.key,Sh,i));return r}zn(e,t,r,i,o){ce(mT,"Updating index entries for document '%s'",t.key);const l=[];return(function(h,p,y,g,w){const b=h.getIterator(),C=p.getIterator();let L=fl(b),N=fl(C);for(;L||N;){let X=!1,K=!1;if(L&&N){const Z=y(L,N);Z<0?K=!0:Z>0&&(X=!0)}else L!=null?K=!0:X=!0;X?(g(N),N=fl(C)):K?(w(L),L=fl(b)):(L=fl(b),N=fl(C))}})(i,o,oo,(c=>{l.push(this.jn(e,t,r,c))}),(c=>{l.push(this.Hn(e,t,r,c))})),j.waitFor(l)}Wn(e){let t=1;return gl(e).ee({index:Pb,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,o)=>{o.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,c)=>oo(l,c))).filter(((l,c,h)=>!c||oo(l,h[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=oo(l,e),h=oo(l,t);if(c===0)i[0]=e.En();else if(c>0&&h<0)i.push(l),i.push(l.En());else if(h>0)break}i.push(t);const o=[];for(let l=0;l<i.length;l+=2){if(this.Jn(i[l],i[l+1]))return[];const c=i[l].An(this.uid,Sh,Ee.empty()),h=i[l+1].An(this.uid,Sh,Ee.empty());o.push(IDBKeyRange.bound(c,h))}return o}Jn(e,t){return oo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(yT)}getMinOffset(e,t){return j.mapArray(this.vn(t),(r=>this.Fn(e,r).next((i=>i||Ae(44426))))).next(yT)}}function gT(n){return vn(n,xc)}function ml(n){return vn(n,pc)}function Wu(n){return vn(n,Fy)}function gl(n){return vn(n,fc)}function yT(n){Ve(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Vy(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Gr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DR=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n,e,t){const r=n.store(Ii),i=n.store(Fl),o=[],l=IDBKeyRange.only(t.batchId);let c=0;const h=r.ee({range:l},((y,g,w)=>(c++,w.delete())));o.push(h.next((()=>{Ve(c===1,47070,{batchId:t.batchId})})));const p=[];for(const y of t.mutations){const g=bb(e,y.key.path,t.batchId);o.push(i.delete(g)),p.push(y.key)}return j.waitFor(o).next((()=>p))}function wf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ae(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(DR,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class Zf{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,t,r,i){Ve(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Zf(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ao(e).ee({index:da,range:r},((i,o,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,i){const o=Sl(e),l=ao(e);return l.add({}).next((c=>{Ve(typeof c=="number",49019);const h=new Ky(c,t,r,i),p=(function(b,C,L){const N=L.baseMutations.map((K=>Bc(b.yt,K))),X=L.mutations.map((K=>Bc(b.yt,K)));return{userId:C,batchId:L.batchId,localWriteTimeMs:L.localWriteTime.toMillis(),baseMutations:N,mutations:X}})(this.serializer,this.userId,h),y=[];let g=new Rt(((w,b)=>Je(w.canonicalString(),b.canonicalString())));for(const w of i){const b=bb(this.userId,w.key.path,c);g=g.add(w.key.path.popLast()),y.push(l.put(p)),y.push(o.put(b,wL))}return g.forEach((w=>{y.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Zn[c]=h.keys()})),j.waitFor(y).next((()=>h))}))}lookupMutationBatch(e,t){return ao(e).get(t).next((r=>r?(Ve(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),oa(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?j.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const i=r.keys();return this.Zn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ao(e).ee({index:da,range:i},((l,c,h)=>{c.userId===this.userId&&(Ve(c.batchId>=r,47524,{Yn:r}),o=oa(this.serializer,c)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=fa;return ao(e).ee({index:da,range:t,reverse:!0},((i,o,l)=>{r=o.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,fa],[this.userId,Number.POSITIVE_INFINITY]);return ao(e).H(da,t).next((r=>r.map((i=>oa(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=$h(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Sl(e).ee({range:i},((l,c,h)=>{const[p,y,g]=l,w=Wi(y);if(p===this.userId&&t.path.isEqual(w))return ao(e).get(g).next((b=>{if(!b)throw Ae(61480,{er:l,batchId:g});Ve(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:g}),o.push(oa(this.serializer,b))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(Je);const i=[];return t.forEach((o=>{const l=$h(this.userId,o.path),c=IDBKeyRange.lowerBound(l),h=Sl(e).ee({range:c},((p,y,g)=>{const[w,b,C]=p,L=Wi(b);w===this.userId&&o.path.isEqual(L)?r=r.add(C):g.done()}));i.push(h)})),j.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=$h(this.userId,r),l=IDBKeyRange.lowerBound(o);let c=new Rt(Je);return Sl(e).ee({range:l},((h,p,y)=>{const[g,w,b]=h,C=Wi(w);g===this.userId&&r.isPrefixOf(C)?C.length===i&&(c=c.add(b)):y.done()})).next((()=>this.tr(e,c)))}tr(e,t){const r=[],i=[];return t.forEach((o=>{i.push(ao(e).get(o).next((l=>{if(l===null)throw Ae(35274,{batchId:o});Ve(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:o}),r.push(oa(this.serializer,l))})))})),j.waitFor(i).next((()=>r))}removeMutationBatch(e,t){return NR(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),j.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return j.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Sl(e).ee({range:r},((o,l,c)=>{if(o[0]===this.userId){const h=Wi(o[1]);i.push(h)}else c.done()})).next((()=>{Ve(i.length===0,56720,{rr:i.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return OR(e,this.userId,t)}ir(e){return VR(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:fa,lastStreamToken:""}))}}function OR(n,e,t){const r=$h(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return Sl(n).ee({range:o,Y:!0},((c,h,p)=>{const[y,g,w]=c;y===e&&g===i&&(l=!0),p.done()})).next((()=>l))}function ao(n){return vn(n,Ii)}function Sl(n){return vn(n,Fl)}function VR(n){return vn(n,kc)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Sa(0)}static ar(){return new Sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new Sa(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Ue.fromTimestamp(new St(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.cr(e,i))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>yl(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(Ve(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let i=0;const o=[];return yl(e).ee(((l,c)=>{const h=sc(c);h.sequenceNumber<=t&&r.get(h.targetId)===null&&(i++,o.push(this.removeTargetData(e,h)))})).next((()=>j.waitFor(o))).next((()=>i))}forEachTarget(e,t){return yl(e).ee(((r,i)=>{const o=sc(i);t(o)}))}ur(e){return vT(e).get(ff).next((t=>(Ve(t!==null,2888),t)))}cr(e,t){return vT(e).put(ff,t)}lr(e,t){return yl(e).put(PR(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Ea(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return yl(e).ee({range:i,index:Ab},((l,c,h)=>{const p=sc(c);sd(t,p.target)&&(o=p,h.done())})).next((()=>o))}addMatchingKeys(e,t,r){const i=[],o=go(e);return t.forEach((l=>{const c=er(l.path);i.push(o.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),j.waitFor(i)}removeMatchingKeys(e,t,r){const i=go(e);return j.forEach(t,(o=>{const l=er(o.path);return j.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,t){const r=go(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=go(e);let o=nt();return i.ee({range:r,Y:!0},((l,c,h)=>{const p=Wi(l[1]),y=new Ee(p);o=o.add(y)})).next((()=>o))}containsKey(e,t){const r=er(t.path),i=IDBKeyRange.bound([r],[_b(r)],!1,!0);let o=0;return go(e).ee({index:My,Y:!0,range:i},(([l,c],h,p)=>{l!==0&&(o++,p.done())})).next((()=>o>0))}At(e,t){return yl(e).get(t).next((r=>r?sc(r):null))}}function yl(n){return vn(n,Ul)}function vT(n){return vn(n,pa)}function go(n){return vn(n,Bl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="LruGarbageCollector",J2=1048576;function ET([n,e],[t,r]){const i=Je(n,t);return i===0?Je(e,r):i}class X2{constructor(e){this.Pr=e,this.buffer=new Rt(ET),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ET(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(wT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){No(t)?ce(wT,"Ignoring IndexedDB error during garbage collection: ",t):await Na(t)}await this.Ar(3e5)}))}}class Z2{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return j.resolve(oi.ce);const r=new X2(t);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(_T)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_T):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,o,l,c,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,t)))).next((g=>(o=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(p=Date.now(),wl()<=at.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${g} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g}))))}}function MR(n,e){return new Z2(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,t){this.db=e,this.garbageCollector=MR(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,i)=>t(i)))}addReference(e,t,r){return bh(e,r)}removeReference(e,t,r){return bh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return bh(e,t)}wr(e,t){return(function(i,o){let l=!1;return VR(i).te((c=>OR(i,c,o).next((h=>(h&&(l=!0),j.resolve(!h)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.yr(e,((l,c)=>{if(c<=t){const h=this.wr(e,l).next((p=>{if(!p)return o++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Ue.min()),go(e).delete((function(g){return[0,er(g.path)]})(l)))))}));i.push(h)}})).next((()=>j.waitFor(i))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return bh(e,t)}yr(e,t){const r=go(e);let i,o=oi.ce;return r.ee({index:My},(([l,c],{path:h,sequenceNumber:p})=>{l===0?(o!==oi.ce&&t(new Ee(Wi(i)),o),o=p,i=h):o=oi.ce})).next((()=>{o!==oi.ce&&t(new Ee(Wi(i)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bh(n,e){return go(n).put((function(r,i){return{targetId:0,path:er(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.changes=new Ls((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ea(e).put(r)}removeEntry(e,t,r){return ea(e).delete((function(o,l){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],_f(l),c[c.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=Bt.newInvalidDocument(t);return ea(e).ee({index:Hh,range:IDBKeyRange.only(Ku(t))},((i,o)=>{r=this.Sr(t,o)})).next((()=>r))}Dr(e,t){let r={size:0,document:Bt.newInvalidDocument(t)};return ea(e).ee({index:Hh,range:IDBKeyRange.only(Ku(t))},((i,o)=>{r={document:this.Sr(t,o),size:wf(o)}})).next((()=>r))}getEntries(e,t){let r=Hr();return this.Cr(e,t,((i,o)=>{const l=this.Sr(i,o);r=r.insert(i,l)})).next((()=>r))}vr(e,t){let r=Hr(),i=new zt(Ee.comparator);return this.Cr(e,t,((o,l)=>{const c=this.Sr(o,l);r=r.insert(o,c),i=i.insert(o,wf(l))})).next((()=>({documents:r,Fr:i})))}Cr(e,t,r){if(t.isEmpty())return j.resolve();let i=new Rt(ST);t.forEach((h=>i=i.add(h)));const o=IDBKeyRange.bound(Ku(i.first()),Ku(i.last())),l=i.getIterator();let c=l.getNext();return ea(e).ee({index:Hh,range:o},((h,p,y)=>{const g=Ee.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;c&&ST(c,g)<0;)r(c,null),c=l.getNext();c&&c.isEqual(g)&&(r(c,p),c=l.hasNext()?l.getNext():null),c?y.j(Ku(c)):y.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,i,o){const l=t.path,c=[l.popLast().toArray(),l.lastSegment(),_f(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).H(IDBKeyRange.bound(c,h,!0)).next((p=>{o==null||o.incrementDocumentReadCount(p.length);let y=Hr();for(const g of p){const w=this.Sr(Ee.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);w.isFoundDocument()&&(ad(t,w)||i.has(w.key))&&(y=y.insert(w.key,w))}return y}))}getAllFromCollectionGroup(e,t,r,i){let o=Hr();const l=IT(t,r),c=IT(t,Gr.max());return ea(e).ee({index:Rb,range:IDBKeyRange.bound(l,c,!0)},((h,p,y)=>{const g=this.Sr(Ee.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(g.key,g),o.size===i&&y.done()})).next((()=>o))}newChangeBuffer(e){return new nM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return TT(e).get(Dg).next((t=>(Ve(!!t,20021),t)))}br(e,t){return TT(e).put(Dg,t)}Sr(e,t){if(t){const r=B2(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ue.min())))return r}return Bt.newInvalidDocument(e)}}function UR(n){return new tM(n)}class nM extends FR{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new Ls((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const t=[];let r=0,i=new Rt(((o,l)=>Je(o.canonicalString(),l.canonicalString())));return this.changes.forEach(((o,l)=>{const c=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,c.readTime)),l.isValidDocument()){const h=sT(this.Mr.serializer,l);i=i.add(o.path.popLast());const p=wf(h);r+=p-c.size,t.push(this.Mr.addEntry(e,o,h))}else if(r-=c.size,this.trackRemovals){const h=sT(this.Mr.serializer,l.convertToNoDocument(Ue.min()));t.push(this.Mr.addEntry(e,o,h))}})),i.forEach((o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Mr.updateMetadata(e,r)),j.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:i})=>(i.forEach(((o,l)=>{this.Or.set(o,{size:l,readTime:r.get(o).readTime})})),r)))}}function TT(n){return vn(n,Cc)}function ea(n){return vn(n,hf)}function Ku(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IT(n,e){const t=e.documentKey.path.toArray();return[n,_f(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ST(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Je(t[o],r[o]),i)return i;return i=Je(t.length,r.length),i||(i=Je(t[t.length-2],r[r.length-2]),i||Je(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&_c(r.mutation,i,Pr.empty(),St.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=nt()){const i=Ki();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((o=>{let l=rc();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Ki();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,nt())))}populateOverlays(e,t,r){const i=[];return r.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,i){let o=Hr();const l=yc(),c=(function(){return yc()})();return t.forEach(((h,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof Ms)?o=o.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),_c(y.mutation,p,y.mutation.getFieldMask(),St.now())):l.set(p.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((p,y)=>l.set(p,y))),t.forEach(((p,y)=>c.set(p,new rM(y,l.get(p)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=yc();let i=new zt(((l,c)=>l-c)),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||Pr.empty();y=c.applyToLocalView(p,y),r.set(h,y);const g=(i.get(c.batchId)||nt()).add(h);i=i.insert(c.batchId,g)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,y=h.value,g=rR();y.forEach((w=>{if(!o.has(w)){const b=uR(t.get(w),r.get(w));b!==null&&g.set(w,b),o=o.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,g))}return j.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return i2(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):j.resolve(Ki());let c=Rc,h=o;return l.next((p=>j.forEach(p,((y,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(y)?j.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{h=h.insert(y,w)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,h,p,nt()))).next((y=>({batchId:c,changes:nR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=rc();return this.indexManager.getCollectionParents(e,o).next((c=>j.forEach(c,(h=>{const p=(function(g,w){return new Zl(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((y=>{y.forEach(((g,w)=>{l=l.insert(g,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i)))).next((l=>{o.forEach(((h,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,Bt.newInvalidDocument(y)))}));let c=rc();return l.forEach(((h,p)=>{const y=o.get(h);y!==void 0&&_c(y.mutation,p,Pr.empty(),St.now()),ad(t,p)&&(c=c.insert(h,p))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return j.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:kn(i.createTime)}})(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:kR(i.bundledQuery),readTime:kn(i.readTime)}})(t)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.overlays=new zt(Ee.comparator),this.Lr=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ki();return j.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,o)=>{this.bt(e,t,o)})),j.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){const i=Ki(),o=t.length+1,l=new Ee(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return j.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new zt(((p,y)=>p-y));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=Ki(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const c=Ki(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,y)=>c.set(p,y))),!(c.size()>=i)););return j.resolve(c)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Qy(t,r));let o=this.Lr.get(t);o===void 0&&(o=nt(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.kr=new Rt(An.Kr),this.qr=new Rt(An.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new An(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new An(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Ee(new gt([])),r=new An(t,e),i=new An(t,e+1),o=[];return this.qr.forEachInRange([r,i],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ee(new gt([])),r=new An(t,e),i=new An(t,e+1);let o=nt();return this.qr.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new An(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class An{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ee.comparator(e.key,t.key)||Je(e.Hr,t.Hr)}static Ur(e,t){return Je(e.Hr,t.Hr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Rt(An.Kr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Ky(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Jr=this.Jr.add(new An(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(l)}lookupMutationBatch(e,t){return j.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?fa:this.Yn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new An(t,0),i=new An(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(l=>{const c=this.Zr(l.Hr);o.push(c)})),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(Je);return t.forEach((i=>{const o=new An(i,0),l=new An(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(c=>{r=r.add(c.Hr)}))})),j.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Ee.isDocumentKey(o)||(o=o.child(""));const l=new An(new Ee(o),0);let c=new Rt(Je);return this.Jr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.Hr)),!0)}),l),j.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Ve(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return j.forEach(t.mutations,(i=>{const o=new An(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new An(t,0),i=this.Jr.firstAfterOrEqual(r);return j.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.ti=e,this.docs=(function(){return new zt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let r=Hr();return t.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bt.newInvalidDocument(i))})),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Hr();const l=t.path,c=new Ee(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Vy(Eb(y),r)<=0||(i.has(y.key)||ad(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ae(9500)}ni(e,t){return j.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new uM(this)}getSize(e){return j.resolve(this.size)}}class uM extends FR{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),j.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.persistence=e,this.ri=new Ls((t=>Ea(t)),sd),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ii=0,this.si=new e_,this.targetCount=0,this.oi=Sa._r()}forEachTarget(e,t){return this.ri.forEach(((r,i)=>t(i))),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),j.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Sa(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.lr(t),j.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),j.waitFor(o).next((()=>i))}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),j.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),j.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t){this._i={},this.overlays={},this.ai=new oi(0),this.ui=!1,this.ui=!0,this.ci=new oM,this.referenceDelegate=e(this),this.li=new cM(this),this.indexManager=new G2,this.remoteDocumentCache=(function(i){return new lM(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new AR(t),this.Pi=new iM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new aM(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const i=new dM(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,t){return j.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class dM extends Ib{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.Ri=new e_,this.Ai=null}static Vi(e){return new ep(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),j.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,(r=>{const i=Ee.fromPath(r);return this.mi(e,i).next((o=>{o||t.removeEntry(i,Ue.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return j.or([()=>j.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ef{constructor(e,t){this.persistence=e,this.fi=new Ls((r=>er(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=MR(this,t)}static Vi(e,t){return new Ef(e,t)}Ti(){}Ii(e){return j.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return j.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?j.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,t).next((c=>{c||(r++,o.removeEntry(l,Ue.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),j.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),j.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wh(e.data.value)),t}wr(e,t,r){return j.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.fi.get(t);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.serializer=e}k(e,t,r,i){const o=new zf("createOrUpgrade",t);r<1&&i>=1&&((function(h){h.createObjectStore(id)})(e),(function(h){h.createObjectStore(kc,{keyPath:vL}),h.createObjectStore(Ii,{keyPath:V0,autoIncrement:!0}).createIndex(da,L0,{unique:!0}),h.createObjectStore(Fl)})(e),bT(e),(function(h){h.createObjectStore(ia)})(e));let l=j.resolve();return r<3&&i>=3&&(r!==0&&((function(h){h.deleteObjectStore(Bl),h.deleteObjectStore(Ul),h.deleteObjectStore(pa)})(e),bT(e)),l=l.next((()=>(function(h){const p=h.store(pa),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ue.min().toTimestamp(),targetCount:0};return p.put(ff,y)})(o)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(h,p){return p.store(Ii).H().next((g=>{h.deleteObjectStore(Ii),h.createObjectStore(Ii,{keyPath:V0,autoIncrement:!0}).createIndex(da,L0,{unique:!0});const w=p.store(Ii),b=g.map((C=>w.put(C)));return j.waitFor(b)}))})(e,o)))),l=l.next((()=>{(function(h){h.createObjectStore(zl,{keyPath:PL})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.gi(o)))),r<6&&i>=6&&(l=l.next((()=>((function(h){h.createObjectStore(Cc)})(e),this.pi(o))))),r<7&&i>=7&&(l=l.next((()=>this.yi(o)))),r<8&&i>=8&&(l=l.next((()=>this.wi(e,o)))),r<9&&i>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.bi(o)))),r<11&&i>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(jf,{keyPath:kL})})(e),(function(h){h.createObjectStore($f,{keyPath:CL})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(h){const p=h.createObjectStore(Hf,{keyPath:ML});p.createIndex(Og,FL,{unique:!1}),p.createIndex(Cb,UL,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(h){const p=h.createObjectStore(hf,{keyPath:EL});p.createIndex(Hh,TL),p.createIndex(Rb,IL)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore(ia)))),r<14&&i>=14&&(l=l.next((()=>this.Di(e,o)))),r<15&&i>=15&&(l=l.next((()=>(function(h){h.createObjectStore(Fy,{keyPath:xL,autoIncrement:!0}).createIndex(Ng,DL,{unique:!1}),h.createObjectStore(fc,{keyPath:NL}).createIndex(Pb,OL,{unique:!1}),h.createObjectStore(pc,{keyPath:VL}).createIndex(kb,LL,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{t.objectStore(fc).clear()})).next((()=>{t.objectStore(pc).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(Uy,{keyPath:BL})})(e)}))),r<18&&i>=18&&_S()&&(l=l.next((()=>{t.objectStore(fc).clear()})).next((()=>{t.objectStore(pc).clear()}))),l}pi(e){let t=0;return e.store(ia).ee(((r,i)=>{t+=wf(i)})).next((()=>{const r={byteSize:t};return e.store(Cc).put(Dg,r)}))}gi(e){const t=e.store(kc),r=e.store(Ii);return t.H().next((i=>j.forEach(i,(o=>{const l=IDBKeyRange.bound([o.userId,fa],[o.userId,o.lastAcknowledgedBatchId]);return r.H(da,l).next((c=>j.forEach(c,(h=>{Ve(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const p=oa(this.serializer,h);return NR(e,o.userId,p).next((()=>{}))}))))}))))}yi(e){const t=e.store(Bl),r=e.store(ia);return e.store(pa).get(ff).next((i=>{const o=[];return r.ee(((l,c)=>{const h=new gt(l),p=(function(g){return[0,er(g)]})(h);o.push(t.get(p).next((y=>y?j.resolve():(g=>t.put({targetId:0,path:er(g),sequenceNumber:i.highestListenSequenceNumber}))(h))))})).next((()=>j.waitFor(o)))}))}wi(e,t){e.createObjectStore(xc,{keyPath:AL});const r=t.store(xc),i=new Zy,o=l=>{if(i.add(l)){const c=l.lastSegment(),h=l.popLast();return r.put({collectionId:c,parent:er(h)})}};return t.store(ia).ee({Y:!0},((l,c)=>{const h=new gt(l);return o(h.popLast())})).next((()=>t.store(Fl).ee({Y:!0},(([l,c,h],p)=>{const y=Wi(c);return o(y.popLast())}))))}bi(e){const t=e.store(Ul);return t.ee(((r,i)=>{const o=sc(i),l=PR(this.serializer,o);return t.put(l)}))}Si(e,t){const r=t.store(ia),i=[];return r.ee(((o,l)=>{const c=t.store(hf),h=(function(g){return g.document?new Ee(gt.fromString(g.document.name).popFirst(5)):g.noDocument?Ee.fromSegments(g.noDocument.path):g.unknownDocument?Ee.fromSegments(g.unknownDocument.path):Ae(36783)})(l).path.toArray(),p={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(p))})).next((()=>j.waitFor(i)))}Di(e,t){const r=t.store(Ii),i=UR(this.serializer),o=new t_(ep.Vi,this.serializer.yt);return r.H().next((l=>{const c=new Map;return l.forEach((h=>{let p=c.get(h.userId)??nt();oa(this.serializer,h).keys().forEach((y=>p=p.add(y))),c.set(h.userId,p)})),j.forEach(c,((h,p)=>{const y=new Un(p),g=Xf.wt(this.serializer,y),w=o.getIndexManager(y),b=Zf.wt(y,this.serializer,w,o.referenceDelegate);return new BR(i,b,g,w).recalculateAndSaveOverlaysForDocumentKeys(new Vg(t,oi.ce),h).next()}))}))}}function bT(n){n.createObjectStore(Bl,{keyPath:bL}).createIndex(My,RL,{unique:!0}),n.createObjectStore(Ul,{keyPath:"targetId"}).createIndex(Ab,SL,{unique:!0}),n.createObjectStore(pa)}const lo="IndexedDbPersistence",Zm=18e5,eg=5e3,tg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fM="main";class n_{constructor(e,t,r,i,o,l,c,h,p,y,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=o,this.window=l,this.document=c,this.Fi=p,this.Mi=y,this.xi=g,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=w=>Promise.resolve(),!n_.v())throw new ge(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eM(this,i),this.Ki=t+fM,this.serializer=new AR(h),this.qi=new To(this.Ki,this.xi,new hM(this.serializer)),this.ci=new j2,this.li=new Y2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=UR(this.serializer),this.Pi=new z2,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&cr(lo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ge(ee.FAILED_PRECONDITION,tg);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new oi(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Rh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(No(e))return ce(lo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ce(lo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Gu(e).get(hl).next((t=>j.resolve(this.Xi(t))))}Yi(e){return Rh(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Zm)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=vn(t,zl);return r.H().next((i=>{const o=this.ns(i,Zm),l=i.filter((c=>o.indexOf(c)===-1));return j.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?j.resolve(!0):Gu(e).get(hl).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,eg)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new ge(ee.FAILED_PRECONDITION,tg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rh(e).H().next((r=>this.ns(r,eg).find((i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(o||l&&c)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ce(lo,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[id,zl],(e=>{const t=new Vg(e,oi.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Rh(e).H().next((t=>this.ns(t,Zm).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return Zf.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Q2(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Xf.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){ce(lo,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?$L:h===17?Ob:h===16?jL:h===15?By:h===14?Nb:h===13?Db:h===12?zL:h===11?xb:void Ae(60245)})(this.xi);let l;return this.qi.runTransaction(e,i,o,(c=>(l=new Vg(c,this.ai?this.ai.next():oi.ce),t==="readwrite-primary"?this.ji(l).next((h=>!!h||this.Hi(l))).next((h=>{if(!h)throw cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ge(ee.FAILED_PRECONDITION,Tb);return r(l)})).next((h=>this.Zi(l).next((()=>h)))):this.Ps(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Ps(e){return Gu(e).get(hl).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,eg)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ge(ee.FAILED_PRECONDITION,tg)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gu(e).put(hl,t)}static v(){return To.v()}Ji(e){const t=Gu(e);return t.get(hl).next((r=>this.Xi(r)?(ce(lo,"Releasing primary lease."),t.delete(hl)):j.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(cr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;yS()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var t;try{const r=((t=this.Ui)==null?void 0:t.getItem(this.rs(e)))!==null;return ce(lo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return cr(lo,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){cr("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gu(n){return vn(n,id)}function Rh(n){return vn(n,zl)}function pM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=nt(),i=nt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new r_(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yS()?8:Sb(yn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.gs(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(e,t,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new mM;return this.ys(e,t,l).next((c=>{if(o.result=c,this.As)return this.ws(e,t,l,c.size)}))})).next((()=>o.result))}ws(e,t,r,i){return r.documentReadCount<this.Vs?(wl()<=at.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",El(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(wl()<=at.DEBUG&&ce("QueryEngine","Query:",El(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(wl()<=at.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",El(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(t))):j.resolve())}gs(e,t){if(Q0(t))return j.resolve(null);let r=ai(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=yf(t,null,"F"),r=ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=nt(...o);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.bs(t,c);return this.Ss(t,p,l,h.readTime)?this.gs(e,yf(t,null,"F")):this.Ds(e,p,t,h)}))))})))))}ps(e,t,r,i){return Q0(t)||i.isEqual(Ue.min())?j.resolve(null):this.fs.getDocuments(e,r).next((o=>{const l=this.bs(t,o);return this.Ss(t,l,r,i)?j.resolve(null):(wl()<=at.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),El(t)),this.Ds(e,l,t,hL(i,Rc)).next((c=>c)))}))}bs(e,t){let r=new Rt(eR(e));return t.forEach(((i,o)=>{ad(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,t,r){return wl()<=at.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",El(t)),this.fs.getDocumentsMatchingQuery(e,t,Gr.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="LocalStore",gM=3e8;class yM{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new zt(Je),this.Fs=new Ls((o=>Ea(o)),sd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function jR(n,e,t,r){return new yM(n,e,t,r)}async function $R(n,e){const t=Qe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=nt();for(const p of i){l.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of o){c.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ns:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function _M(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,h,p,y){const g=p.batch,w=g.keys();let b=j.resolve();return w.forEach((C=>{b=b.next((()=>y.getEntry(h,C))).next((L=>{const N=p.docVersions.get(C);Ve(N!==null,48541),L.version.compareTo(N)<0&&(g.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(h,g)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=nt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function HR(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function vM(n,e){const t=Qe(n),r=e.snapshotVersion;let i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;const c=[];e.targetChanges.forEach(((y,g)=>{const w=i.get(g);if(!w)return;c.push(t.li.removeMatchingKeys(o,y.removedDocuments,g).next((()=>t.li.addMatchingKeys(o,y.addedDocuments,g))));let b=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(fn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),i=i.insert(g,b),(function(L,N,X){return L.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=gM?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(w,b,y)&&c.push(t.li.updateTargetData(o,b))}));let h=Hr(),p=nt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),c.push(wM(o,l,e.documentUpdates).next((y=>{h=y.Bs,p=y.Ls}))),!r.isEqual(Ue.min())){const y=t.li.getLastRemoteSnapshotVersion(o).next((g=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(y)}return j.waitFor(c).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,p))).next((()=>h))})).then((o=>(t.vs=i,o)))}function wM(n,e,t){let r=nt(),i=nt();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let l=Hr();return t.forEach(((c,h)=>{const p=o.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ce(i_,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)})),{Bs:l,Ls:i}}))}function EM(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function TM(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.li.getTargetData(r,e).next((o=>o?(i=o,j.resolve(i)):t.li.allocateTargetId(r).next((l=>(i=new Rs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Qg(n,e,t){const r=Qe(n),i=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!No(l))throw l;ce(i_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function RT(n,e,t){const r=Qe(n);let i=Ue.min(),o=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,y){const g=Qe(h),w=g.Fs.get(y);return w!==void 0?j.resolve(g.vs.get(w)):g.li.getTargetData(p,y)})(r,l,ai(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?i:Ue.min(),t?o:nt()))).next((c=>(IM(r,a2(e),c),{documents:c,ks:o})))))}function IM(n,e,t){let r=n.Ms.get(e)||Ue.min();t.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class AT{constructor(){this.activeTargetIds=f2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qR{constructor(){this.vo=new AT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new AT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="ConnectivityMonitor";class kT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(PT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(PT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function Yg(){return Ah===null?Ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="RestConnection",bM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===pf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){const l=Yg(),c=this.Qo(e,t.toUriEncodedString());ce(ng,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,i,o);const{host:p}=new URL(c),y=rs(p);return this.zo(e,c,h,r,y).then((g=>(ce(ng,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Ro(ng,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g}))}jo(e,t,r,i,o,l){return this.Wo(e,t,r,i,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,t){const r=bM[e];let i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection",Qu=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Dl extends RM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Dl.c_){const e=pb();Qu(e,fb.STAT_EVENT,(t=>{t.stat===kg.PROXY?ce(Yn,"STAT_EVENT: detected buffering proxy"):t.stat===kg.NOPROXY&&ce(Yn,"STAT_EVENT: detected no buffering proxy")})),Dl.c_=!0}}zo(e,t,r,i,o){const l=Yg();return new Promise(((c,h)=>{const p=new db;p.setWithCredentials(!0),p.listenOnce(hb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case zh.NO_ERROR:const g=p.getResponseJson();ce(Yn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case zh.TIMEOUT:ce(Yn,`RPC '${e}' ${l} timed out`),h(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const w=p.getStatus();if(ce(Yn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const C=b==null?void 0:b.error;if(C&&C.status&&C.message){const L=(function(X){const K=X.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN})(C.status);h(new ge(L,C.message))}else h(new ge(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Yn,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(i);ce(Yn,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",y,r,15)}))}T_(e,t,r){const i=Yg(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=o.join("");ce(Yn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const y=l.createWebChannel(p,c);this.I_(y);let g=!1,w=!1;const b=new AM({Ho:C=>{w?ce(Yn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(g||(ce(Yn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),g=!0),ce(Yn,`RPC '${e}' stream ${i} sending:`,C),y.send(C))},Jo:()=>y.close()});return Qu(y,nc.EventType.OPEN,(()=>{w||(ce(Yn,`RPC '${e}' stream ${i} transport opened.`),b.i_())})),Qu(y,nc.EventType.CLOSE,(()=>{w||(w=!0,ce(Yn,`RPC '${e}' stream ${i} transport closed`),b.o_(),this.E_(y))})),Qu(y,nc.EventType.ERROR,(C=>{w||(w=!0,Ro(Yn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),b.o_(new ge(ee.UNAVAILABLE,"The operation could not be completed")))})),Qu(y,nc.EventType.MESSAGE,(C=>{var L;if(!w){const N=C.data[0];Ve(!!N,16349);const X=N,K=(X==null?void 0:X.error)||((L=X[0])==null?void 0:L.error);if(K){ce(Yn,`RPC '${e}' stream ${i} received error:`,K);const Z=K.status;let oe=(function(I){const S=ln[I];if(S!==void 0)return hR(S)})(Z),ie=K.message;Z==="NOT_FOUND"&&ie.includes("database")&&ie.includes("does not exist")&&ie.includes(this.databaseId.database)&&Ro(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),oe===void 0&&(oe=ee.INTERNAL,ie="Unknown error status: "+Z+" with message "+K.message),w=!0,b.o_(new ge(oe,ie)),y.close()}else ce(Yn,`RPC '${e}' stream ${i} received:`,N),b.__(N)}})),Dl.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return mb()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(n){return new Dl(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(){return typeof window<"u"?window:null}function Jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n){return new k2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dl.c_=!1;class s_{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="PersistentStream";class WR{constructor(e,t,r,i,o,l,c,h){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new ge(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(CT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ce(CT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CM extends WR{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=N2(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ue.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?kn(l.readTime):Ue.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Hg(this.serializer),t.addTarget=(function(o,l){let c;const h=l.target;if(c=mf(h)?{documents:wR(o,h)}:{query:ER(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=mR(o,l.resumeToken);const p=jg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ue.min())>0){c.readTime=Gl(o,l.snapshotVersion.toTimestamp());const p=jg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=V2(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Hg(this.serializer),t.removeTarget=e,this.K_(t)}}class xM extends WR{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=O2(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Hg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Bc(this.serializer,r)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{}class NM extends DM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,$g(t,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ee.UNKNOWN,o.toString())}))}jo(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,$g(t,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ee.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OM(n,e,t,r){return new NM(n,e,t,r)}class VM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class LM{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Oa(this)&&(ce(ba,"Restarting streams for network reachability change."),await(async function(h){const p=Qe(h);p.Ea.add(4),await ud(p),p.Va.set("Unknown"),p.Ea.delete(4),await np(p)})(this))}))})),this.Va=new VM(r,i)}}async function np(n){if(Oa(n))for(const e of n.Ra)await e(!0)}async function ud(n){for(const e of n.Ra)await e(!1)}function KR(n,e){const t=Qe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),u_(t)?l_(t):tu(t).O_()&&a_(t,e))}function o_(n,e){const t=Qe(n),r=tu(t);t.Ia.delete(e),r.O_()&&GR(t,e),t.Ia.size===0&&(r.O_()?r.L_():Oa(t)&&t.Va.set("Unknown"))}function a_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tu(n).Z_(e)}function GR(n,e){n.da.$e(e),tu(n).X_(e)}function l_(n){n.da=new b2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),tu(n).start(),n.Va.ua()}function u_(n){return Oa(n)&&!tu(n).x_()&&n.Ia.size>0}function Oa(n){return Qe(n).Ea.size===0}function QR(n){n.da=void 0}async function MM(n){n.Va.set("Online")}async function FM(n){n.Ia.forEach(((e,t)=>{a_(n,e)}))}async function UM(n,e){QR(n),u_(n)?(n.Va.ha(e),l_(n)):n.Va.set("Unknown")}async function BM(n,e,t){if(n.Va.set("Online"),e instanceof pR&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.da.removeTarget(c))})(n,e)}catch(r){ce(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tf(n,r)}else if(e instanceof Qh?n.da.Xe(e):e instanceof fR?n.da.st(e):n.da.tt(e),!t.isEqual(Ue.min()))try{const r=await HR(n.localStore);t.compareTo(r)>=0&&await(function(o,l){const c=o.da.Tt(l);return c.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.Ia.get(p);y&&o.Ia.set(p,y.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,p)=>{const y=o.Ia.get(h);if(!y)return;o.Ia.set(h,y.withResumeToken(fn.EMPTY_BYTE_STRING,y.snapshotVersion)),GR(o,h);const g=new Rs(y.target,h,p,y.sequenceNumber);a_(o,g)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){ce(ba,"Failed to raise snapshot:",r),await Tf(n,r)}}async function Tf(n,e,t){if(!No(e))throw e;n.Ea.add(1),await ud(n),n.Va.set("Offline"),t||(t=()=>HR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ce(ba,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await np(n)}))}function YR(n,e){return e().catch((t=>Tf(n,t,e)))}async function cd(n){const e=Qe(n),t=ko(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fa;for(;zM(e);)try{const i=await EM(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,jM(e,i)}catch(i){await Tf(e,i)}JR(e)&&XR(e)}function zM(n){return Oa(n)&&n.Ta.length<10}function jM(n,e){n.Ta.push(e);const t=ko(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function JR(n){return Oa(n)&&!ko(n).x_()&&n.Ta.length>0}function XR(n){ko(n).start()}async function $M(n){ko(n).ra()}async function HM(n){const e=ko(n);for(const t of n.Ta)e.ea(t.mutations)}async function qM(n,e,t){const r=n.Ta.shift(),i=Gy.from(r,e,t);await YR(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await cd(n)}async function WM(n,e){e&&ko(n).Y_&&await(async function(r,i){if((function(l){return dR(l)&&l!==ee.ABORTED})(i.code)){const o=r.Ta.shift();ko(r).B_(),await YR(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await cd(r)}})(n,e),JR(n)&&XR(n)}async function xT(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),ce(ba,"RemoteStore received new credentials");const r=Oa(t);t.Ea.add(3),await ud(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await np(t)}async function KM(n,e){const t=Qe(n);e?(t.Ea.delete(2),await np(t)):e||(t.Ea.add(2),await ud(t),t.Va.set("Unknown"))}function tu(n){return n.ma||(n.ma=(function(t,r,i){const o=Qe(t);return o.sa(),new CM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:MM.bind(null,n),Yo:FM.bind(null,n),t_:UM.bind(null,n),J_:BM.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),u_(n)?l_(n):n.Va.set("Unknown")):(await n.ma.stop(),QR(n))}))),n.ma}function ko(n){return n.fa||(n.fa=(function(t,r,i){const o=Qe(t);return o.sa(),new xM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$M.bind(null,n),t_:WM.bind(null,n),ta:HM.bind(null,n),na:qM.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await cd(n)):(await n.fa.stop(),n.Ta.length>0&&(ce(ba,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new c_(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(n,e){if(cr("AsyncQueue",`${e}: ${n}`),No(n))return new ge(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=rc(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.ga=new zt(Ee.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ql{constructor(e,t,r,i,o,l,c,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new Ql(e,t,Nl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class QM{constructor(){this.queries=NT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Qe(t),o=i.queries;i.queries=NT(),o.forEach(((l,c)=>{for(const h of c.ba)h.onError(r)}))})(this,new ge(ee.ABORTED,"Firestore shutting down"))}}function NT(){return new Ls((n=>Zb(n)),Kf)}async function h_(n,e){const t=Qe(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new GM,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=d_(l,`Initialization of query '${El(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&p_(t)}async function f_(n,e){const t=Qe(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ba.indexOf(e);l>=0&&(o.ba.splice(l,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function YM(n,e){const t=Qe(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.ba)c.Fa(i)&&(r=!0);l.wa=i}}r&&p_(t)}function JM(n,e,t){const r=Qe(n),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(t);r.queries.delete(e)}function p_(n){n.Ca.forEach((e=>{e.next()}))}var Jg,OT;(OT=Jg||(Jg={})).Ma="default",OT.Cache="cache";class m_{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.key=e}}class eA{constructor(e){this.key=e}}class XM{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=nt(),this.mutatedKeys=nt(),this.eu=eR(e),this.tu=new Nl(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new DT,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,g)=>{const w=i.get(y),b=ad(this.query,g)?g:null,C=!!w&&this.mutatedKeys.has(w.key),L=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let N=!1;w&&b?w.data.isEqual(b.data)?C!==L&&(r.track({type:3,doc:b}),N=!0):this.su(w,b)||(r.track({type:2,doc:b}),N=!0,(h&&this.eu(b,h)>0||p&&this.eu(b,p)<0)&&(c=!0)):!w&&b?(r.track({type:0,doc:b}),N=!0):w&&!b&&(r.track({type:1,doc:w}),N=!0,(h||p)&&(c=!0)),N&&(b?(l=l.add(b),o=L?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Ss:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((y,g)=>(function(b,C){const L=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:N})}};return L(b)-L(C)})(y.type,g.type)||this.eu(y.doc,g.doc))),this.ou(r),i=i??!1;const c=t&&!i?this._u():[],h=this.Ya.size===0&&this.current&&!i?1:0,p=h!==this.Xa;return this.Xa=h,l.length!==0||p?{snapshot:new Ql(this.query,e.tu,o,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new DT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new eA(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new ZR(r))})),t}cu(e){this.Za=e.ks,this.Ya=nt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const g_="SyncEngine";class ZM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eF{constructor(e){this.key=e,this.hu=!1}}class tF{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ls((c=>Zb(c)),Kf),this.Iu=new Map,this.Eu=new Set,this.Ru=new zt(Ee.comparator),this.Au=new Map,this.Vu=new e_,this.du={},this.mu=new Map,this.fu=Sa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nF(n,e,t=!0){const r=oA(n);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await tA(r,e,t,!0),i}async function rF(n,e){const t=oA(n);await tA(t,e,!0,!1)}async function tA(n,e,t,r){const i=await TM(n.localStore,ai(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await iF(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&KR(n.remoteStore,i),c}async function iF(n,e,t,r,i){n.pu=(g,w,b)=>(async function(L,N,X,K){let Z=N.view.ru(X);Z.Ss&&(Z=await RT(L.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,Z))));const oe=K&&K.targetChanges.get(N.targetId),ie=K&&K.targetMismatches.get(N.targetId)!=null,ue=N.view.applyChanges(Z,L.isPrimaryClient,oe,ie);return LT(L,N.targetId,ue.au),ue.snapshot})(n,g,w,b);const o=await RT(n.localStore,e,!0),l=new XM(e,o.ks),c=l.ru(o.documents),h=ld.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,h);LT(n,t,p.au);const y=new ZM(e,t,l);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function sF(n,e,t){const r=Qe(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!Kf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&o_(r.remoteStore,i.targetId),Xg(r,i.targetId)})).catch(Na)):(Xg(r,i.targetId),await Qg(r.localStore,i.targetId,!0))}async function oF(n,e){const t=Qe(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),o_(t.remoteStore,r.targetId))}async function aF(n,e,t){const r=aA(n);try{const i=await(function(l,c){const h=Qe(l),p=St.now(),y=c.reduce(((b,C)=>b.add(C.key)),nt());let g,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let C=Hr(),L=nt();return h.xs.getEntries(b,y).next((N=>{C=N,C.forEach(((X,K)=>{K.isValidDocument()||(L=L.add(X))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,C))).next((N=>{g=N;const X=[];for(const K of c){const Z=E2(K,g.get(K.key).overlayedDocument);Z!=null&&X.push(new Ms(K.key,Z,Hb(Z.value.mapValue),cn.exists(!0)))}return h.mutationQueue.addMutationBatch(b,p,X,c)})).next((N=>{w=N;const X=N.applyToLocalDocumentSet(g,L);return h.documentOverlayCache.saveOverlays(b,N.batchId,X)}))})).then((()=>({batchId:w.batchId,changes:nR(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let p=l.du[l.currentUser.toKey()];p||(p=new zt(Je)),p=p.insert(c,h),l.du[l.currentUser.toKey()]=p})(r,i.batchId,t),await dd(r,i.changes),await cd(r.remoteStore)}catch(i){const o=d_(i,"Failed to persist write");t.reject(o)}}async function nA(n,e){const t=Qe(n);try{const r=await vM(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=t.Au.get(o);l&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Ve(l.hu,14607):i.removedDocuments.size>0&&(Ve(l.hu,42227),l.hu=!1))})),await dd(t,r,e)}catch(r){await Na(r)}}function VT(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=Qe(l);h.onlineState=c;let p=!1;h.queries.forEach(((y,g)=>{for(const w of g.ba)w.va(c)&&(p=!0)})),p&&p_(h)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lF(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new zt(Ee.comparator);l=l.insert(o,Bt.newNoDocument(o,Ue.min()));const c=nt().add(o),h=new Jf(Ue.min(),new Map,new zt(Je),l,c);await nA(r,h),r.Ru=r.Ru.remove(o),r.Au.delete(e),y_(r)}else await Qg(r.localStore,e,!1).then((()=>Xg(r,e,t))).catch(Na)}async function uF(n,e){const t=Qe(n),r=e.batch.batchId;try{const i=await _M(t.localStore,e);iA(t,r,null),rA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await dd(t,i)}catch(i){await Na(i)}}async function cF(n,e,t){const r=Qe(n);try{const i=await(function(l,c){const h=Qe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return h.mutationQueue.lookupMutationBatch(p,c).next((g=>(Ve(g!==null,37113),y=g.keys(),h.mutationQueue.removeMutationBatch(p,g)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>h.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);iA(r,e,t),rA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await dd(r,i)}catch(i){await Na(i)}}function rA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function iA(n,e,t){const r=Qe(n);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Xg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||sA(n,r)}))}function sA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(o_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),y_(n))}function LT(n,e,t){for(const r of t)r instanceof ZR?(n.Vu.addReference(r.key,e),dF(n,r)):r instanceof eA?(ce(g_,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||sA(n,r.key)):Ae(19791,{wu:r})}function dF(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ce(g_,"New document in limbo: "+t),n.Eu.add(r),y_(n))}function y_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(gt.fromString(e)),r=n.fu.next();n.Au.set(r,new eF(t)),n.Ru=n.Ru.insert(t,r),KR(n.remoteStore,new Rs(ai(od(t.path)),r,"TargetPurposeLimboResolution",oi.ce))}}async function dd(n,e,t){const r=Qe(n),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,t).then((p=>{var y;if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(p){i.push(p);const g=r_.Es(h.targetId,p);o.push(g)}})))})),await Promise.all(l),r.Pu.J_(i),await(async function(h,p){const y=Qe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>j.forEach(p,(w=>j.forEach(w.Ts,(b=>y.persistence.referenceDelegate.addReference(g,w.targetId,b))).next((()=>j.forEach(w.Is,(b=>y.persistence.referenceDelegate.removeReference(g,w.targetId,b)))))))))}catch(g){if(!No(g))throw g;ce(i_,"Failed to update sequence numbers: "+g)}for(const g of p){const w=g.targetId;if(!g.fromCache){const b=y.vs.get(w),C=b.snapshotVersion,L=b.withLastLimboFreeSnapshotVersion(C);y.vs=y.vs.insert(w,L)}}})(r.localStore,o))}async function hF(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){ce(g_,"User change. New user:",e.toKey());const r=await $R(t.localStore,e);t.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new ge(ee.CANCELLED,l))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dd(t,r.Ns)}}function fF(n,e){const t=Qe(n),r=t.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let i=nt();const o=t.Iu.get(e);if(!o)return i;for(const l of o){const c=t.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function oA(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lF.bind(null,e),e.Pu.J_=YM.bind(null,e.eventManager),e.Pu.yu=JM.bind(null,e.eventManager),e}function aA(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cF.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return jR(this.persistence,new zR,e.initialUser,this.serializer)}Cu(e){return new t_(ep.Vi,this.serializer)}Du(e){return new qR}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class pF extends zc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ve(this.persistence.referenceDelegate instanceof Ef,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LR(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new t_((r=>Ef.Vi(r,t)),this.serializer)}}class mF extends zc{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await aA(this.xu.syncEngine),await cd(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return jR(this.persistence,new zR,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new LR(r,e.asyncQueue,t)}Mu(e,t){const r=new gL(t,this.persistence);return new mL(e.asyncQueue,r)}Cu(e){const t=pM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new n_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,kM(),Jh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new qR}}class If{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hF.bind(null,this.syncEngine),await KM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QM})()}createDatastore(e){const t=tp(e.databaseInfo.databaseId),r=PM(e.databaseInfo);return OM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,o,l,c){return new LM(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>VT(this.syncEngine,t,0)),(function(){return kT.v()?new kT:new SM})())}createSyncEngine(e,t){return(function(i,o,l,c,h,p,y){const g=new tF(i,o,l,c,h,p);return y&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const o=Qe(i);ce(ba,"RemoteStore shutting down."),o.Ea.add(5),await ud(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}If.provider={build:()=>new If};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gF=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ge(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(i,o){const l=Qe(i),c={documents:o.map((g=>Uc(l.serializer,g)))},h=await l.jo("BatchGetDocuments",l.serializer.databaseId,gt.emptyPath(),c,o.length),p=new Map;h.forEach((g=>{const w=D2(l.serializer,g);p.set(w.key.toString(),w)}));const y=[];return o.forEach((g=>{const w=p.get(g.toString());Ve(!!w,55234,{key:g}),y.push(w)})),y})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const i=Ee.fromPath(r);this.mutations.push(new Wy(i,this.precondition(i)))})),await(async function(r,i){const o=Qe(r),l={writes:i.map((c=>Bc(o.serializer,c)))};await o.Wo("Commit",o.serializer.databaseId,gt.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ae(50498,{Gu:e.constructor.name});t=Ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ge(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ue.min())?cn.exists(!1):cn.updateTime(t):cn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ue.min()))throw new ge(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(t)}return cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.zu=r.maxAttempts,this.M_=new s_(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new gF(this.datastore),t=this.Ju(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const t=this.updateFunction(e);return!rd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!dR(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="FirestoreClient";class _F{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=Oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{ce(Co,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ce(Co,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=d_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rg(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Co,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await $R(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function MT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vF(n);ce(Co,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>xT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>xT(e.remoteStore,i))),n._onlineComponents=e}async function vF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Co,"Using user provided OfflineComponentProvider");try{await rg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await rg(n,new zc)}}else ce(Co,"Using default OfflineComponentProvider"),await rg(n,new pF(void 0));return n._offlineComponents}async function v_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Co,"Using user provided OnlineComponentProvider"),await MT(n,n._uninitializedComponentsProvider._online)):(ce(Co,"Using default OnlineComponentProvider"),await MT(n,new If))),n._onlineComponents}function wF(n){return v_(n).then((e=>e.syncEngine))}function EF(n){return v_(n).then((e=>e.datastore))}async function Sf(n){const e=await v_(n),t=e.eventManager;return t.onListen=nF.bind(null,e.syncEngine),t.onUnlisten=sF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oF.bind(null,e.syncEngine),t}function TF(n,e,t,r){const i=new __(r),o=new m_(e,i,t);return n.asyncQueue.enqueueAndForget((async()=>h_(await Sf(n),o))),()=>{i.Nu(),n.asyncQueue.enqueueAndForget((async()=>f_(await Sf(n),o)))}}function IF(n,e,t={}){const r=new Ri;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,p){const y=new __({next:w=>{y.Nu(),l.enqueueAndForget((()=>f_(o,g)));const b=w.docs.has(c);!b&&w.fromCache?p.reject(new ge(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&h&&h.source==="server"?p.reject(new ge(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),g=new m_(od(c.path),y,{includeMetadataChanges:!0,Ka:!0});return h_(o,g)})(await Sf(n),n.asyncQueue,e,t,r))),r.promise}function SF(n,e,t={}){const r=new Ri;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,p){const y=new __({next:w=>{y.Nu(),l.enqueueAndForget((()=>f_(o,g))),w.fromCache&&h.source==="server"?p.reject(new ge(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),g=new m_(c,y,{includeMetadataChanges:!0,Ka:!0});return h_(o,g)})(await Sf(n),n.asyncQueue,e,t,r))),r.promise}function bF(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((async()=>aF(await wF(n),e,t))),t.promise}function RF(n,e,t){const r=new Ri;return n.asyncQueue.enqueueAndForget((async()=>{const i=await EF(n);new yF(n.asyncQueue,i,t,e,r).ju()})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="ComponentProvider",FT=new Map;function PF(n,e,t,r,i){return new qL(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,lA(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firestore.googleapis.com",UT=!0;class BT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uA,this.ssl=UT}else this.host=e.host,this.ssl=e.ssl??UT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J2)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tL;switch(r.type){case"firstParty":return new sL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=FT.get(t);r&&(ce(AF,"Removing Datastore"),FT.delete(t),r.terminate())})(this),Promise.resolve()}}function kF(n,e,t,r={}){var p;n=dr(n,rp);const i=rs(e),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;i&&(Df(`https://${c}`),Nf("Firestore",!0)),o.host!==uA&&o.host!==c&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:i,emulatorOptions:r};if(!bo(h,l)&&(n._setSettings(h),r.mockUserToken)){let y,g;if(typeof r.mockUserToken=="string")y=r.mockUserToken,g=Un.MOCK_USER;else{y=pS(r.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Un(w)}n._authCredentials=new nL(new yb(y,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fs(this.firestore,e,this._query)}}class Wt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(nd(t,Wt._jsonSchema))return new Wt(e,r||null,new Ee(gt.fromString(t.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:dn("string",Wt._jsonSchemaVersion),referencePath:dn("string")};class Io extends Fs{constructor(e,t,r){super(e,t,od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ee(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function iB(n,e,...t){if(n=dt(n),vb("collection","path",e),n instanceof rp){const r=gt.fromString(e,...t);return C0(r),new Io(n,null,r)}{if(!(n instanceof Wt||n instanceof Io))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gt.fromString(e,...t));return C0(r),new Io(n.firestore,null,r)}}function cA(n,e,...t){if(n=dt(n),arguments.length===1&&(e=Oy.newId()),vb("doc","path",e),n instanceof rp){const r=gt.fromString(e,...t);return k0(r),new Wt(n,null,new Ee(r))}{if(!(n instanceof Wt||n instanceof Io))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gt.fromString(e,...t));return k0(r),new Wt(n.firestore,n instanceof Io?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="AsyncQueue";class jT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s_(this,"async_queue_retry"),this._c=()=>{const r=Jh();r&&ce(zT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Jh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Jh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ri;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;ce(zT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",$T(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=c_.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ae(47125,{Pc:$T(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $T(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ts extends rp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new jT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jT(e),this._firestoreClient=void 0,await e}}}function CF(n,e){const t=typeof n=="object"?n:Jc(),r=typeof n=="string"?n:pf,i=Ns(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=vy("firestore");o&&kF(i,...o)}return i}function hd(n){if(n._terminated)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dA(n),n._firestoreClient}function dA(n){var r,i,o,l;const e=n._freezeSettings(),t=PF(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(i=n._app)==null?void 0:i.options.apiKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new _F(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}})(n._componentsProvider))}function xF(n,e){Ro("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return DF(n,If.provider,{build:r=>new mF(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function DF(n,e,t){if((n=dr(n,ts))._firestoreClient||n._terminated)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ge(ee.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},dA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $r(fn.fromBase64String(e))}catch(t){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $r(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nd(e,$r._jsonSchema))return $r.fromBase64String(e.bytes)}}$r._jsonSchemaVersion="firestore/bytes/1.0",$r._jsonSchema={type:dn("string",$r._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(nd(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:dn("string",Xi._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nd(e,Ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ai(e.vectorValues);throw new ge(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:dn("string",Ai._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=/^__.*__$/;class OF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}class hA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:n})}}class E_{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new E_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(fA(this.dataSource)&&NF.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class VF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tp(e)}createContext(e,t,r,i=!1){return new E_({dataSource:e,methodName:t,targetDoc:r,path:qt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fd(n){const e=n._freezeSettings(),t=tp(n._databaseId);return new VF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function T_(n,e,t,r,i,o={}){const l=n.createContext(o.merge||o.mergeFields?2:0,e,t,i);I_("Data must be an object, but it was:",l,r);const c=gA(r,l);let h,p;if(o.merge)h=new Pr(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const g of o.mergeFields){const w=Ra(e,g,t);if(!l.contains(w))throw new ge(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);vA(y,w)||y.push(w)}h=new Pr(y),p=l.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,p=l.fieldTransforms;return new OF(new zn(c),h,p)}class sp extends w_{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sp}}function pA(n,e,t,r){const i=n.createContext(1,e,t);I_("Data must be an object, but it was:",i,r);const o=[],l=zn.empty();Oo(r,((h,p)=>{const y=_A(e,h,t);p=dt(p);const g=i.childContextForFieldPath(y);if(p instanceof sp)o.push(y);else{const w=pd(p,g);w!=null&&(o.push(y),l.set(y,w))}}));const c=new Pr(o);return new hA(l,c,i.fieldTransforms)}function mA(n,e,t,r,i,o){const l=n.createContext(1,e,t),c=[Ra(e,r,t)],h=[i];if(o.length%2!=0)throw new ge(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(Ra(e,o[w])),h.push(o[w+1]);const p=[],y=zn.empty();for(let w=c.length-1;w>=0;--w)if(!vA(p,c[w])){const b=c[w];let C=h[w];C=dt(C);const L=l.childContextForFieldPath(b);if(C instanceof sp)p.push(b);else{const N=pd(C,L);N!=null&&(p.push(b),y.set(b,N))}}const g=new Pr(p);return new hA(y,g,l.fieldTransforms)}function LF(n,e,t,r=!1){return pd(t,n.createContext(r?4:3,e))}function pd(n,e){if(yA(n=dt(n)))return I_("Unsupported field value:",e,n),gA(n,e);if(n instanceof w_)return(function(r,i){if(!fA(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let h=pd(c,i.childContextForArray(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=St.fromDate(r);return{timestampValue:Gl(i.serializer,o)}}if(r instanceof St){const o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gl(i.serializer,o)}}if(r instanceof Xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $r)return{bytesValue:mR(i.serializer,r._byteString)};if(r instanceof Wt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ai)return(function(l,c){const h=l instanceof Ai?l.toArray():l;return{mapValue:{fields:{[jy]:{stringValue:$y},[jl]:{arrayValue:{values:h.map((y=>{if(typeof y!="number")throw c.createError("VectorValues must only contain numeric values.");return qy(c.serializer,y)}))}}}}}})(r,i);if(RR(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Bf(r)}`)})(n,e)}function gA(n,e){const t={};return Vb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(n,((r,i)=>{const o=pd(i,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function yA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof Xi||n instanceof $r||n instanceof Wt||n instanceof w_||n instanceof Ai||RR(n))}function I_(n,e,t){if(!yA(t)||!wb(t)){const r=Bf(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Ra(n,e,t){if((e=dt(e))instanceof ip)return e._internalPath;if(typeof e=="string")return _A(n,e);throw bf("Field path arguments must be of type string or ",n,!1,void 0,t)}const MF=new RegExp("[~\\*/\\[\\]]");function _A(n,e,t){if(e.search(MF)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ip(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bf(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ge(ee.INVALID_ARGUMENT,c+n+h)}function vA(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{convertValue(e,t="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Oo(e,((i,o)=>{r[i]=this.convertValue(o,t)})),r}convertVectorValue(e){var r,i,o;const t=(o=(i=(r=e.fields)==null?void 0:r[jl].arrayValue)==null?void 0:i.values)==null?void 0:o.map((l=>Ut(l.doubleValue)));return new Ai(t)}convertGeoPoint(e){return new Xi(Ut(e.latitude),Ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=qf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const t=xs(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gt.fromString(e);Ve(bR(r),9688,{name:e});const i=new wa(r.get(1),r.get(3)),o=new Ee(r.popFirst(5));return i.isEqual(t)||cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends wA{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}}const HT="@firebase/firestore",qT="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(Ra("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class FF extends Rf{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S_{}class b_ extends S_{}function sB(n,e,...t){let r=[];e instanceof S_&&r.push(e),r=r.concat(t),(function(o){const l=o.filter((h=>h instanceof R_)).length,c=o.filter((h=>h instanceof ap)).length;if(l>1||l>0&&c>0)throw new ge(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class ap extends b_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ap(e,t,r)}_apply(e){const t=this._parse(e);return TA(e._query,t),new Fs(e.firestore,e.converter,zg(e._query,t))}_parse(e){const t=fd(e.firestore);return(function(o,l,c,h,p,y,g){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){GT(g,y);const C=[];for(const L of g)C.push(KT(h,o,L));w={arrayValue:{values:C}}}else w=KT(h,o,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||GT(g,y),w=LF(c,l,g,y==="in"||y==="not-in");return lt.create(p,y,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oB(n,e,t){const r=e,i=Ra("where",n);return ap._create(i,r,t)}class R_ extends S_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new R_(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:bt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)TA(l,h),l=zg(l,h)})(e._query,t),new Fs(e.firestore,e.converter,zg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class A_ extends b_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new A_(e,t)}_apply(e){const t=(function(i,o,l){if(i.startAt!==null)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lc(o,l)})(e._query,this._field,this._direction);return new Fs(e.firestore,e.converter,o2(e._query,t))}}function aB(n,e="asc"){const t=e,r=Ra("orderBy",n);return A_._create(r,t)}class P_ extends b_{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new P_(e,t,r)}_apply(e){return new Fs(e.firestore,e.converter,yf(e._query,this._limit,this._limitType))}}function lB(n){return P_._create("limit",n,"F")}function KT(n,e,t){if(typeof(t=dt(t))=="string"){if(t==="")throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xb(e)&&t.indexOf("/")!==-1)throw new ge(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gt.fromString(t));if(!Ee.isDocumentKey(r))throw new ge(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Oc(n,new Ee(r))}if(t instanceof Wt)return Oc(n,t._key);throw new ge(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(t)}.`)}function GT(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TA(n,e){const t=(function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function k_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class UF extends wA{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}}class Al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class So extends Rf{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ra("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=So._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:dn("string",So._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class Xh extends So{data(e={}){return super.data(e)}}class ma{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Xh(this._firestore,this._userDataWriter,r.key,r,new Al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new Xh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Al(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new Xh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Al(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),y=l.indexOf(c.doc.key)),{type:BF(c.type),doc:h,oldIndex:p,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ma._jsonSchemaVersion="firestore/querySnapshot/1.0",ma._jsonSchema={type:dn("string",ma._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};const zF={maxAttempts:5};function oc(n,e){if((n=dt(n)).firestore!==e)throw new ge(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fd(e)}get(e){const t=oc(e,this._firestore),r=new UF(this._firestore);return this._transaction.lookup([t._key]).then((i=>{if(!i||i.length!==1)return Ae(24041);const o=i[0];if(o.isFoundDocument())return new Rf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Rf(this._firestore,r,t._key,null,t.converter);throw Ae(18433,{doc:o})}))}set(e,t,r){const i=oc(e,this._firestore),o=k_(i.converter,t,r),l=T_(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const o=oc(e,this._firestore);let l;return l=typeof(t=dt(t))=="string"||t instanceof ip?mA(this._dataReader,"Transaction.update",o._key,t,r,i):pA(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=oc(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F extends jF{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=oc(e,this._firestore),r=new op(this._firestore);return super.get(e).then((i=>new So(this._firestore,r,t._key,i._document,new Al(!1,!1),t.converter)))}}function uB(n,e,t){n=dr(n,ts);const r={...zF,...t};(function(l){if(l.maxAttempts<1)throw new ge(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=hd(n);return RF(i,(o=>e(new $F(n,o))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(n){n=dr(n,Wt);const e=dr(n.firestore,ts),t=hd(e);return IF(t,n._key).then((r=>IA(e,n,r)))}function cB(n){n=dr(n,Fs);const e=dr(n.firestore,ts),t=hd(e),r=new op(e);return EA(n._query),SF(t,n._query).then((i=>new ma(e,r,n,i)))}function qF(n,e,t){n=dr(n,Wt);const r=dr(n.firestore,ts),i=k_(n.converter,e,t),o=fd(r);return C_(r,[T_(o,"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,cn.none())])}function dB(n,e,t,...r){n=dr(n,Wt);const i=dr(n.firestore,ts),o=fd(i);let l;return l=typeof(e=dt(e))=="string"||e instanceof ip?mA(o,"updateDoc",n._key,e,t,r):pA(o,"updateDoc",n._key,e),C_(i,[l.toMutation(n._key,cn.exists(!0))])}function hB(n,e){const t=dr(n.firestore,ts),r=cA(n),i=k_(n.converter,e),o=fd(n.firestore);return C_(t,[T_(o,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,cn.exists(!1))]).then((()=>r))}function WF(n,...e){var p,y,g;n=dt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||WT(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(WT(e[r])){const w=e[r];e[r]=(p=w.next)==null?void 0:p.bind(w),e[r+1]=(y=w.error)==null?void 0:y.bind(w),e[r+2]=(g=w.complete)==null?void 0:g.bind(w)}let o,l,c;if(n instanceof Wt)l=dr(n.firestore,ts),c=od(n._key.path),o={next:w=>{e[r]&&e[r](IA(l,n,w))},error:e[r+1],complete:e[r+2]};else{const w=dr(n,Fs);l=dr(w.firestore,ts),c=w._query;const b=new op(l);o={next:C=>{e[r]&&e[r](new ma(l,b,w,C))},error:e[r+1],complete:e[r+2]},EA(n._query)}const h=hd(l);return TF(h,c,i,o)}function C_(n,e){const t=hd(n);return bF(t,e)}function IA(n,e,t){const r=t.docs.get(e._key),i=new op(n);return new So(n,i,e._key,r,new Al(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){eL(Da),kr(new fr("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new ts(new rL(r.getProvider("auth-internal")),new oL(l,r.getProvider("app-check-internal")),WL(l,i),l);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Pn(HT,qT,e),Pn(HT,qT,"esm2020")})();const SA="@firebase/installations",x_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=1e4,RA=`w:${x_}`,AA="FIS_v2",KF="https://firebaseinstallations.googleapis.com/v1",GF=3600*1e3,QF="installations",YF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Aa=new Do(QF,YF,JF);function PA(n){return n instanceof Qr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA({projectId:n}){return`${KF}/projects/${n}/installations`}function CA(n){return{token:n.token,requestStatus:2,expiresIn:ZF(n.expiresIn),creationTime:Date.now()}}async function xA(n,e){const r=(await e.json()).error;return Aa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function DA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function XF(n,{refreshToken:e}){const t=DA(n);return t.append("Authorization",e4(e)),t}async function NA(n){const e=await n();return e.status>=500&&e.status<600?n():e}function ZF(n){return Number(n.replace("s","000"))}function e4(n){return`${AA} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=kA(n),i=DA(n),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:t,authVersion:AA,appId:n.appId,sdkVersion:RA},c={method:"POST",headers:i,body:JSON.stringify(l)},h=await NA(()=>fetch(r,c));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:CA(p.authToken)}}else throw await xA("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^[cdef][\w-]{21}$/,Zg="";function i4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=s4(n);return r4.test(t)?t:Zg}catch{return Zg}}function s4(n){return n4(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new Map;function LA(n,e){const t=lp(n);MA(t,e),o4(t,e)}function MA(n,e){const t=VA.get(n);if(t)for(const r of t)r(e)}function o4(n,e){const t=a4();t&&t.postMessage({key:n,fid:e}),l4()}let ha=null;function a4(){return!ha&&"BroadcastChannel"in self&&(ha=new BroadcastChannel("[Firebase] FID Change"),ha.onmessage=n=>{MA(n.data.key,n.data.fid)}),ha}function l4(){VA.size===0&&ha&&(ha.close(),ha=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="firebase-installations-database",c4=1,Pa="firebase-installations-store";let ig=null;function D_(){return ig||(ig=Vf(u4,c4,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Pa)}}})),ig}async function Af(n,e){const t=lp(n),i=(await D_()).transaction(Pa,"readwrite"),o=i.objectStore(Pa),l=await o.get(t);return await o.put(e,t),await i.done,(!l||l.fid!==e.fid)&&LA(n,e.fid),e}async function FA(n){const e=lp(n),r=(await D_()).transaction(Pa,"readwrite");await r.objectStore(Pa).delete(e),await r.done}async function up(n,e){const t=lp(n),i=(await D_()).transaction(Pa,"readwrite"),o=i.objectStore(Pa),l=await o.get(t),c=e(l);return c===void 0?await o.delete(t):await o.put(c,t),await i.done,c&&(!l||l.fid!==c.fid)&&LA(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N_(n){let e;const t=await up(n.appConfig,r=>{const i=d4(r),o=h4(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Zg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function d4(n){const e=n||{fid:i4(),registrationStatus:0};return UA(e)}function h4(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Aa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=f4(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:p4(n)}:{installationEntry:e}}async function f4(n,e){try{const t=await t4(n,e);return Af(n.appConfig,t)}catch(t){throw PA(t)&&t.customData.serverCode===409?await FA(n.appConfig):await Af(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function p4(n){let e=await QT(n.appConfig);for(;e.registrationStatus===1;)await OA(100),e=await QT(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await N_(n);return r||t}return e}function QT(n){return up(n,e=>{if(!e)throw Aa.create("installation-not-found");return UA(e)})}function UA(n){return m4(n)?{fid:n.fid,registrationStatus:0}:n}function m4(n){return n.registrationStatus===1&&n.registrationTime+bA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4({appConfig:n,heartbeatServiceProvider:e},t){const r=y4(n,t),i=XF(n,t),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:RA,appId:n.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},h=await NA(()=>fetch(r,c));if(h.ok){const p=await h.json();return CA(p)}else throw await xA("Generate Auth Token",h)}function y4(n,{fid:e}){return`${kA(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O_(n,e=!1){let t;const r=await up(n.appConfig,o=>{if(!BA(o))throw Aa.create("not-registered");const l=o.authToken;if(!e&&w4(l))return o;if(l.requestStatus===1)return t=_4(n,e),o;{if(!navigator.onLine)throw Aa.create("app-offline");const c=T4(o);return t=v4(n,c),c}});return t?await t:r.authToken}async function _4(n,e){let t=await YT(n.appConfig);for(;t.authToken.requestStatus===1;)await OA(100),t=await YT(n.appConfig);const r=t.authToken;return r.requestStatus===0?O_(n,e):r}function YT(n){return up(n,e=>{if(!BA(e))throw Aa.create("not-registered");const t=e.authToken;return I4(t)?{...e,authToken:{requestStatus:0}}:e})}async function v4(n,e){try{const t=await g4(n,e),r={...e,authToken:t};return await Af(n.appConfig,r),t}catch(t){if(PA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await FA(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Af(n.appConfig,r)}throw t}}function BA(n){return n!==void 0&&n.registrationStatus===2}function w4(n){return n.requestStatus===2&&!E4(n)}function E4(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+GF}function T4(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function I4(n){return n.requestStatus===1&&n.requestTime+bA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(n){const e=n,{installationEntry:t,registrationPromise:r}=await N_(e);return r?r.catch(console.error):O_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(n,e=!1){const t=n;return await R4(t),(await O_(t,e)).token}async function R4(n){const{registrationPromise:e}=await N_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(n){if(!n||!n.options)throw sg("App Configuration");if(!n.name)throw sg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw sg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function sg(n){return Aa.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="installations",P4="installations-internal",k4=n=>{const e=n.getProvider("app").getImmediate(),t=A4(e),r=Ns(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},C4=n=>{const e=n.getProvider("app").getImmediate(),t=Ns(e,zA).getImmediate();return{getId:()=>S4(t),getToken:i=>b4(t,i)}};function x4(){kr(new fr(zA,k4,"PUBLIC")),kr(new fr(P4,C4,"PRIVATE"))}x4();Pn(SA,x_);Pn(SA,x_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="analytics",D4="firebase_id",N4="origin",O4=60*1e3,V4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",V_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Of("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wr=new Do("analytics","Analytics",L4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(n){if(!n.startsWith(V_)){const e=Wr.create("invalid-gtag-resource",{gtagURL:n});return hr.warn(e.message),""}return n}function jA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function F4(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function U4(n,e){const t=F4("firebase-js-sdk-policy",{createScriptURL:M4}),r=document.createElement("script"),i=`${V_}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function B4(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function z4(n,e,t,r,i,o){const l=r[i];try{if(l)await e[l];else{const h=(await jA(t)).find(p=>p.measurementId===i);h&&await e[h.appId]}}catch(c){hr.error(c)}n("config",i,o)}async function j4(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await jA(t);for(const h of l){const p=c.find(g=>g.measurementId===h),y=p&&e[p.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,i||{})}catch(o){hr.error(o)}}function $4(n,e,t,r){async function i(o,...l){try{if(o==="event"){const[c,h]=l;await j4(n,e,t,c,h)}else if(o==="config"){const[c,h]=l;await z4(n,e,t,r,c,h)}else if(o==="consent"){const[c,h]=l;n("consent",c,h)}else if(o==="get"){const[c,h,p]=l;n("get",c,h,p)}else if(o==="set"){const[c]=l;n("set",c)}else n(o,...l)}catch(c){hr.error(c)}}return i}function H4(n,e,t,r,i){let o=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=$4(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function q4(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(V_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=30,K4=1e3;class G4{constructor(e={},t=K4){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $A=new G4;function Q4(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Y4(n){var l;const{appId:e,apiKey:t}=n,r={method:"GET",headers:Q4(t)},i=V4.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let c="";try{const h=await o.json();(l=h.error)!=null&&l.message&&(c=h.error.message)}catch{}throw Wr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function J4(n,e=$A,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Wr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Wr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new eU;return setTimeout(async()=>{c.abort()},O4),HA({appId:r,apiKey:i,measurementId:o},l,c,e)}async function HA(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=$A){var c;const{appId:o,measurementId:l}=n;try{await X4(r,e)}catch(h){if(l)return hr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:l};throw h}try{const h=await Y4(n);return i.deleteThrottleMetadata(o),h}catch(h){const p=h;if(!Z4(p)){if(i.deleteThrottleMetadata(o),l)return hr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:o,measurementId:l};throw h}const y=Number((c=p==null?void 0:p.customData)==null?void 0:c.httpStatus)===503?GE(t,i.intervalMillis,W4):GE(t,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(o,g),hr.debug(`Calling attemptFetch again in ${y} millis`),HA(n,g,r,i)}}function X4(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Z4(n){if(!(n instanceof Qr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class eU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function tU(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const o=await e,l={...r,send_to:o};n("event",t,l)}}async function nU(n,e,t,r){if(r&&r.global){const i={};for(const o of Object.keys(t))i[`user_properties.${o}`]=t[o];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(){if(wy())try{await vS()}catch(n){return hr.warn(Wr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return hr.warn(Wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iU(n,e,t,r,i,o,l){const c=J4(n);c.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&hr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>hr.error(w)),e.push(c);const h=rU().then(w=>{if(w)return r.getId()}),[p,y]=await Promise.all([c,h]);q4(o)||U4(o,p.measurementId),i("js",new Date);const g=(l==null?void 0:l.config)??{};return g[N4]="firebase",g.update=!0,y!=null&&(g[D4]=y),i("config",p.measurementId,g),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.app=e}_delete(){return delete Ol[this.app.options.appId],Promise.resolve()}}let Ol={},JT=[];const XT={};let og="dataLayer",oU="gtag",ZT,L_,eI=!1;function aU(){const n=[];if(gS()&&n.push("This is a browser extension environment."),Gx()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Wr.create("invalid-analytics-context",{errorInfo:e});hr.warn(t.message)}}function lU(n,e,t){aU();const r=n.options.appId;if(!r)throw Wr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)hr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wr.create("no-api-key");if(Ol[r]!=null)throw Wr.create("already-exists",{id:r});if(!eI){B4(og);const{wrappedGtag:o,gtagCore:l}=H4(Ol,JT,XT,og,oU);L_=o,ZT=l,eI=!0}return Ol[r]=iU(n,JT,XT,e,ZT,og,t),new sU(n)}function uU(n=Jc()){n=dt(n);const e=Ns(n,Pf);return e.isInitialized()?e.getImmediate():cU(n)}function cU(n,e={}){const t=Ns(n,Pf);if(t.isInitialized()){const i=t.getImmediate();if(bo(e,t.getOptions()))return i;throw Wr.create("already-initialized")}return t.initialize({options:e})}function dU(n,e,t){n=dt(n),nU(L_,Ol[n.app.options.appId],e,t).catch(r=>hr.error(r))}function hU(n,e,t,r){n=dt(n),tU(L_,Ol[n.app.options.appId],e,t,r).catch(i=>hr.error(i))}const tI="@firebase/analytics",nI="0.10.19";function fU(){kr(new fr(Pf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return lU(r,i,t)},"PUBLIC")),kr(new fr("analytics-internal",n,"PRIVATE")),Pn(tI,nI),Pn(tI,nI,"esm2020");function n(e){try{const t=e.getProvider(Pf).getImmediate();return{logEvent:(r,i,o)=>hU(t,r,i,o),setUserProperties:(r,i)=>dU(t,r,i)}}catch(t){throw Wr.create("interop-component-reg-failed",{reason:t})}}}fU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebasestorage.googleapis.com",WA="storageBucket",pU=120*1e3,mU=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt extends Qr{constructor(e,t,r=0){super(ag(e),`Firebase Storage: ${t} (${ag(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ag(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jt||(Jt={}));function ag(n){return"storage/"+n}function M_(){const n="An unknown error occurred, please check the error payload for server response.";return new Xt(Jt.UNKNOWN,n)}function gU(n){return new Xt(Jt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function yU(n){return new Xt(Jt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _U(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xt(Jt.UNAUTHENTICATED,n)}function vU(){return new Xt(Jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wU(n){return new Xt(Jt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function EU(){return new Xt(Jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TU(){return new Xt(Jt.CANCELED,"User canceled the upload/download.")}function IU(n){return new Xt(Jt.INVALID_URL,"Invalid URL '"+n+"'.")}function SU(n){return new Xt(Jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function bU(){return new Xt(Jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+WA+"' property when initializing the app?")}function RU(){return new Xt(Jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function AU(){return new Xt(Jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function PU(n){return new Xt(Jt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ey(n){return new Xt(Jt.INVALID_ARGUMENT,n)}function KA(){return new Xt(Jt.APP_DELETED,"The Firebase app was deleted.")}function kU(n){return new Xt(Jt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vc(n,e){return new Xt(Jt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Yu(n){throw new Xt(Jt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qr.makeFromUrl(e,t)}catch{return new qr(e,"")}if(r.path==="")return r;throw SU(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function p(oe){oe.path_=decodeURIComponent(oe.path)}const y="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${y}/b/${i}/o${w}`,"i"),C={bucket:1,path:3},L=t===qA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",X=new RegExp(`^https?://${L}/${i}/${N}`,"i"),Z=[{regex:c,indices:h,postModify:o},{regex:b,indices:C,postModify:p},{regex:X,indices:{bucket:1,path:2},postModify:p}];for(let oe=0;oe<Z.length;oe++){const ie=Z[oe],ue=ie.regex.exec(e);if(ue){const I=ue[ie.indices.bucket];let S=ue[ie.indices.path];S||(S=""),r=new qr(I,S),ie.postModify(r);break}}if(r==null)throw IU(e);return r}}class CU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(n,e,t){let r=1,i=null,o=null,l=!1,c=0;function h(){return c===2}let p=!1;function y(...N){p||(p=!0,e.apply(null,N))}function g(N){i=setTimeout(()=>{i=null,n(b,h())},N)}function w(){o&&clearTimeout(o)}function b(N,...X){if(p){w();return}if(N){w(),y.call(null,N,...X);return}if(h()||l){w(),y.call(null,N,...X);return}r<64&&(r*=2);let Z;c===1?(c=2,Z=0):Z=(r+Math.random())*1e3,g(Z)}let C=!1;function L(N){C||(C=!0,w(),!p&&(i!==null?(N||(c=2),clearTimeout(i),g(0)):N||(c=1)))}return g(0),o=setTimeout(()=>{l=!0,L(!0)},t),L}function DU(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(n){return n!==void 0}function OU(n){return typeof n=="object"&&!Array.isArray(n)}function F_(n){return typeof n=="string"||n instanceof String}function rI(n){return U_()&&n instanceof Blob}function U_(){return typeof Blob<"u"}function iI(n,e,t,r){if(r<e)throw ey(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ey(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function GA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var ga;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ga||(ga={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,t,r,i,o,l,c,h,p,y,g,w=!0,b=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=g,this.retry=w,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,L)=>{this.resolve_=C,this.reject_=L,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ph(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===ga.NO_ERROR,h=o.getStatus();if(!c||VU(h,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===ga.ABORT;r(!1,new Ph(!1,null,y));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Ph(p,o))})},t=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());NU(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=M_();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?KA():TU();l(h)}else{const h=EU();l(h)}};this.canceled_?t(!1,new Ph(!1,null,!0)):this.backoffId_=xU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ph{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function MU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function FU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function BU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function zU(n,e,t,r,i,o,l=!0,c=!1){const h=GA(n.urlParams),p=n.url+h,y=Object.assign({},n.headers);return UU(y,e),MU(y,t),FU(y,o),BU(y,r),new LU(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $U(...n){const e=jU();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(U_())return new Blob(n);throw new Xt(Jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(n){if(typeof atob>"u")throw PU("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lg{constructor(e,t){this.data=e,this.contentType=t||null}}function WU(n,e){switch(n){case Gi.RAW:return new lg(QA(e));case Gi.BASE64:case Gi.BASE64URL:return new lg(YA(n,e));case Gi.DATA_URL:return new lg(GU(e),QU(e))}throw M_()}function QA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function KU(n){let e;try{e=decodeURIComponent(n)}catch{throw vc(Gi.DATA_URL,"Malformed data URL.")}return QA(e)}function YA(n,e){switch(n){case Gi.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw vc(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gi.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw vc(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=qU(e)}catch(i){throw i.message.includes("polyfill")?i:vc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class JA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw vc(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=YU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function GU(n){const e=new JA(n);return e.base64?YA(Gi.BASE64,e.rest):KU(e.rest)}function QU(n){return new JA(n).contentType}function YU(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t){let r=0,i="";rI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(rI(this.data_)){const r=this.data_,i=HU(r,e,t);return i===null?null:new yo(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new yo(r,!0)}}static getBlob(...e){if(U_()){const t=e.map(r=>r instanceof yo?r.data_:r);return new yo($U.apply(null,t))}else{const t=e.map(l=>F_(l)?WU(Gi.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new yo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n){let e;try{e=JSON.parse(n)}catch{return null}return OU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function XU(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function ZA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(n,e){return e}class ur{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||ZU}}let kh=null;function e6(n){return!F_(n)||n.length<2?n:ZA(n)}function eP(){if(kh)return kh;const n=[];n.push(new ur("bucket")),n.push(new ur("generation")),n.push(new ur("metageneration")),n.push(new ur("name","fullPath",!0));function e(o,l){return e6(l)}const t=new ur("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const i=new ur("size");return i.xform=r,n.push(i),n.push(new ur("timeCreated")),n.push(new ur("updated")),n.push(new ur("md5Hash",null,!0)),n.push(new ur("cacheControl",null,!0)),n.push(new ur("contentDisposition",null,!0)),n.push(new ur("contentEncoding",null,!0)),n.push(new ur("contentLanguage",null,!0)),n.push(new ur("contentType",null,!0)),n.push(new ur("metadata","customMetadata",!0)),kh=n,kh}function t6(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new qr(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function n6(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return t6(r,n),r}function tP(n,e,t){const r=XA(e);return r===null?null:n6(n,r,t)}function r6(n,e,t,r){const i=XA(e);if(i===null||!F_(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(p=>{const y=n.bucket,g=n.fullPath,w="/b/"+l(y)+"/o/"+l(g),b=B_(w,t,r),C=GA({alt:"media",token:p});return b+C})[0]}function i6(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class nP{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n){if(!n)throw M_()}function s6(n,e){function t(r,i){const o=tP(n,i,e);return rP(o!==null),o}return t}function o6(n,e){function t(r,i){const o=tP(n,i,e);return rP(o!==null),r6(o,i,n.host,n._protocol)}return t}function iP(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=vU():i=_U():t.getStatus()===402?i=yU(n.bucket):t.getStatus()===403?i=wU(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function a6(n){const e=iP(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=gU(n.path)),o.serverResponse=i.serverResponse,o}return t}function l6(n,e,t){const r=e.fullServerUrl(),i=B_(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new nP(i,o,o6(n,t),l);return c.errorHandler=a6(e),c}function u6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function c6(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=u6(null,e)),r}function d6(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let Z="";for(let oe=0;oe<2;oe++)Z=Z+Math.random().toString().slice(2);return Z}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const p=c6(e,r,i),y=i6(p,t),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+h+"--",b=yo.getBlob(g,r,w);if(b===null)throw RU();const C={name:p.fullPath},L=B_(o,n.host,n._protocol),N="POST",X=n.maxUploadRetryTime,K=new nP(L,N,s6(n,t),X);return K.urlParams=C,K.headers=l,K.body=b.uploadData(),K.errorHandler=iP(e),K}class h6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ga.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ga.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ga.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,o){if(this.sent_)throw Yu("cannot .send() more than once");if(rs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class f6 extends h6{initXhr(){this.xhr_.responseType="text"}}function sP(){return new f6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t){this._service=e,t instanceof qr?this._location=t:this._location=qr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ka(e,t)}get root(){const e=new qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZA(this._location.path)}get storage(){return this._service}get parent(){const e=JU(this._location.path);if(e===null)return null;const t=new qr(this._location.bucket,e);return new ka(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw kU(e)}}function p6(n,e,t){n._throwIfRoot("uploadBytes");const r=d6(n.storage,n._location,eP(),new yo(e,!0),t);return n.storage.makeRequestWithTokens(r,sP).then(i=>({metadata:i,ref:n}))}function m6(n){n._throwIfRoot("getDownloadURL");const e=l6(n.storage,n._location,eP());return n.storage.makeRequestWithTokens(e,sP).then(t=>{if(t===null)throw AU();return t})}function g6(n,e){const t=XU(n._location.path,e),r=new qr(n._location.bucket,t);return new ka(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(n){return/^[A-Za-z]+:\/\//.test(n)}function _6(n,e){return new ka(n,e)}function oP(n,e){if(n instanceof z_){const t=n;if(t._bucket==null)throw bU();const r=new ka(t,t._bucket);return e!=null?oP(r,e):r}else return e!==void 0?g6(n,e):n}function v6(n,e){if(e&&y6(e)){if(n instanceof z_)return _6(n,e);throw ey("To use ref(service, url), the first argument must be a Storage instance.")}else return oP(n,e)}function sI(n,e){const t=e==null?void 0:e[WA];return t==null?null:qr.makeFromBucketSpec(t,n)}function w6(n,e,t,r={}){n.host=`${e}:${t}`;const i=rs(e);i&&(Df(`https://${n.host}/b`),Nf("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:pS(o,n.app.options.projectId))}class z_{constructor(e,t,r,i,o,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=qA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pU,this._maxUploadRetryTime=mU,this._requests=new Set,i!=null?this._bucket=qr.makeFromBucketSpec(i,this._host):this._bucket=sI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qr.makeFromBucketSpec(this._url,e):this._bucket=sI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ka(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new CU(KA());{const l=zU(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const oI="@firebase/storage",aI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="storage";function fB(n,e,t){return n=dt(n),p6(n,e,t)}function pB(n){return n=dt(n),m6(n)}function mB(n,e){return n=dt(n),v6(n,e)}function E6(n=Jc(),e){n=dt(n);const r=Ns(n,aP).getImmediate({identifier:e}),i=vy("storage");return i&&T6(r,...i),r}function T6(n,e,t,r={}){w6(n,e,t,r)}function I6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new z_(t,r,i,e,Da)}function S6(){kr(new fr(aP,I6,"PUBLIC").setMultipleInstances(!0)),Pn(oI,aI,""),Pn(oI,aI,"esm2020")}S6();const ac={apiKey:"AIzaSyA2W9m7u415haZwLdIidqNMYbP3rJF_J2k",authDomain:"vosl12.firebaseapp.com",projectId:"vosl12",storageBucket:"vosl12.firebasestorage.app",messagingSenderId:"23089939460",appId:"1:23089939460:web:fc0efbea5db8290f6be151"},lP=!!(ac.apiKey&&ac.authDomain&&ac.projectId&&ac.appId),Ch=lP;let Cr;lP&&(Cr=e0().length?e0()[0]:TS(ac));const bl=Cr?XV(Cr):void 0,uP=Cr?CF(Cr):void 0,lI=Cr?new Is:void 0;let b6;const gB=Cr?E6(Cr):void 0,yB=Cr?ON(Cr):void 0;if(Cr){MO(bl,ZS).catch(()=>{});try{typeof window<"u"&&(b6=uU(Cr))}catch{}try{xF(uP).catch(()=>{})}catch{}}/*! Capacitor: https://capacitorjs.com/ - MIT License */const R6=n=>{const e=new Map;e.set("web",{name:"web"});const t=n.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(o,l)=>{t.platforms.set(o,l)},i=o=>{t.platforms.has(o)&&(t.currentPlatform=t.platforms.get(o))};return t.addPlatform=r,t.setPlatform=i,t},A6=n=>n.CapacitorPlatforms=R6(n),cP=A6(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});cP.addPlatform;cP.setPlatform;var Yl;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(Yl||(Yl={}));class ug extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}const P6=n=>{var e,t;return n!=null&&n.androidBridge?"android":!((t=(e=n==null?void 0:n.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},k6=n=>{var e,t,r,i,o;const l=n.CapacitorCustomPlatform||null,c=n.Capacitor||{},h=c.Plugins=c.Plugins||{},p=n.CapacitorPlatforms,y=()=>l!==null?l.name:P6(n),g=((e=p==null?void 0:p.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||y,w=()=>g()!=="web",b=((t=p==null?void 0:p.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||w,C=I=>{const S=oe.get(I);return!!(S!=null&&S.platforms.has(g())||X(I))},L=((r=p==null?void 0:p.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||C,N=I=>{var S;return(S=c.PluginHeaders)===null||S===void 0?void 0:S.find(A=>A.name===I)},X=((i=p==null?void 0:p.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||N,K=I=>n.console.error(I),Z=(I,S,A)=>Promise.reject(`${A} does not have an implementation of "${S}".`),oe=new Map,ie=(I,S={})=>{const A=oe.get(I);if(A)return console.warn(`Capacitor plugin "${I}" already registered. Cannot register plugins twice.`),A.proxy;const V=g(),D=X(I);let F;const P=async()=>(!F&&V in S?F=typeof S[V]=="function"?F=await S[V]():F=S[V]:l!==null&&!F&&"web"in S&&(F=typeof S.web=="function"?F=await S.web():F=S.web),F),Be=(ne,O)=>{var G,re;if(D){const de=D==null?void 0:D.methods.find(ve=>O===ve.name);if(de)return de.rtype==="promise"?ve=>c.nativePromise(I,O.toString(),ve):(ve,we)=>c.nativeCallback(I,O.toString(),ve,we);if(ne)return(G=ne[O])===null||G===void 0?void 0:G.bind(ne)}else{if(ne)return(re=ne[O])===null||re===void 0?void 0:re.bind(ne);throw new ug(`"${I}" plugin is not implemented on ${V}`,Yl.Unimplemented)}},ze=ne=>{let O;const G=(...re)=>{const de=P().then(ve=>{const we=Be(ve,ne);if(we){const Ce=we(...re);return O=Ce==null?void 0:Ce.remove,Ce}else throw new ug(`"${I}.${ne}()" is not implemented on ${V}`,Yl.Unimplemented)});return ne==="addListener"&&(de.remove=async()=>O()),de};return G.toString=()=>`${ne.toString()}() { [capacitor code] }`,Object.defineProperty(G,"name",{value:ne,writable:!1,configurable:!1}),G},fe=ze("addListener"),be=ze("removeListener"),$=(ne,O)=>{const G=fe({eventName:ne},O),re=async()=>{const ve=await G;be({eventName:ne,callbackId:ve},O)},de=new Promise(ve=>G.then(()=>ve({remove:re})));return de.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await re()},de},pe=new Proxy({},{get(ne,O){switch(O){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?$:fe;case"removeListener":return be;default:return ze(O)}}});return h[I]=pe,oe.set(I,{name:I,proxy:pe,platforms:new Set([...Object.keys(S),...D?[V]:[]])}),pe},ue=((o=p==null?void 0:p.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||ie;return c.convertFileSrc||(c.convertFileSrc=I=>I),c.getPlatform=g,c.handleError=K,c.isNativePlatform=b,c.isPluginAvailable=L,c.pluginMethodNoop=Z,c.registerPlugin=ue,c.Exception=ug,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},C6=n=>n.Capacitor=k6(n),jc=C6(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),dP=jc.registerPlugin;jc.Plugins;class hP{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(e);const l=async()=>this.removeListener(e,t);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){const i=this.listeners[e];if(!i){if(r){let o=this.retainedEventArguments[e];o||(o=[]),o.push(t),this.retainedEventArguments[e]=o}return}i.forEach(o=>o(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new jc.Exception(e,Yl.Unimplemented)}unavailable(e="not available"){return new jc.Exception(e,Yl.Unavailable)}async removeListener(e,t){const r=this.listeners[e];if(!r)return;const i=r.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(r=>{this.notifyListeners(e,r)}))}}const uI=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),cI=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class x6 extends hP{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=cI(i).trim(),o=cI(o).trim(),t[i]=o}),t}async setCookie(e){try{const t=uI(e.key),r=uI(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${i}; path=${o}; ${l};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}dP("CapacitorCookies",{web:()=>new x6});const D6=async n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>t(i),r.readAsDataURL(n)}),N6=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(i=>i.toLocaleLowerCase()).reduce((i,o,l)=>(i[o]=n[e[l]],i),{})},O6=(n,e=!0)=>n?Object.entries(n).reduce((r,i)=>{const[o,l]=i;let c,h;return Array.isArray(l)?(h="",l.forEach(p=>{c=e?encodeURIComponent(p):p,h+=`${o}=${c}&`}),h.slice(0,-1)):(c=e?encodeURIComponent(l):l,h=`${o}=${c}`),`${r}&${h}`},"").substr(1):null,V6=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),i=N6(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(i.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[l,c]of Object.entries(n.data||{}))o.set(l,c);t.body=o.toString()}else if(i.includes("multipart/form-data")||n.data instanceof FormData){const o=new FormData;if(n.data instanceof FormData)n.data.forEach((c,h)=>{o.append(h,c)});else for(const c of Object.keys(n.data))o.append(c,n.data[c]);t.body=o;const l=new Headers(t.headers);l.delete("content-type"),t.headers=l}else(i.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class L6 extends hP{async request(e){const t=V6(e,e.webFetchExtra),r=O6(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,o=await fetch(i,t),l=o.headers.get("content-type")||"";let{responseType:c="text"}=o.ok?e:{};l.includes("application/json")&&(c="json");let h,p;switch(c){case"arraybuffer":case"blob":p=await o.blob(),h=await D6(p);break;case"json":h=await o.json();break;case"document":case"text":default:h=await o.text()}const y={};return o.headers.forEach((g,w)=>{y[w]=g}),{data:h,headers:y,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}dP("CapacitorHttp",{web:()=>new L6});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="/firebase-messaging-sw.js",F6="/firebase-cloud-messaging-push-scope",fP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",U6="https://fcmregistrations.googleapis.com/v1",pP="google.c.a.c_id",B6="google.c.a.c_l",z6="google.c.a.ts",j6="google.c.a.e",dI=1e4;var hI;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(hI||(hI={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var $c;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})($c||($c={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $6(n){const e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="fcm_token_details_db",H6=5,fI="fcm_token_object_Store";async function q6(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(cg))return null;let e=null;return(await Vf(cg,H6,{upgrade:async(r,i,o,l)=>{if(i<2||!r.objectStoreNames.contains(fI))return;const c=l.objectStore(fI),h=await c.index("fcmSenderId").get(n);if(await c.clear(),!!h){if(i===2){const p=h;if(!p.auth||!p.p256dh||!p.endpoint)return;e={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Ts(p.vapidKey)}}}else if(i===3){const p=h;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Ts(p.auth),p256dh:Ts(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Ts(p.vapidKey)}}}else if(i===4){const p=h;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Ts(p.auth),p256dh:Ts(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Ts(p.vapidKey)}}}}}})).close(),await Wm(cg),await Wm("fcm_vapid_details_db"),await Wm("undefined"),W6(e)?e:null}function W6(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="firebase-messaging-database",G6=1,Hc="firebase-messaging-store";let dg=null;function mP(){return dg||(dg=Vf(K6,G6,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Hc)}}})),dg}async function Q6(n){const e=gP(n),r=await(await mP()).transaction(Hc).objectStore(Hc).get(e);if(r)return r;{const i=await q6(n.appConfig.senderId);if(i)return await j_(n,i),i}}async function j_(n,e){const t=gP(n),i=(await mP()).transaction(Hc,"readwrite");return await i.objectStore(Hc).put(e,t),await i.done,e}function gP({appConfig:n}){return n.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Kr=new Do("messaging","Messaging",Y6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(n,e){const t=await H_(n),r=yP(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=await(await fetch($_(n.appConfig),i)).json()}catch(l){throw Kr.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(o.error){const l=o.error.message;throw Kr.create("token-subscribe-failed",{errorInfo:l})}if(!o.token)throw Kr.create("token-subscribe-no-token");return o.token}async function X6(n,e){const t=await H_(n),r=yP(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${$_(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw Kr.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(o.error){const l=o.error.message;throw Kr.create("token-update-failed",{errorInfo:l})}if(!o.token)throw Kr.create("token-update-no-token");return o.token}async function Z6(n,e){const r={method:"DELETE",headers:await H_(n)};try{const o=await(await fetch(`${$_(n.appConfig)}/${e}`,r)).json();if(o.error){const l=o.error.message;throw Kr.create("token-unsubscribe-failed",{errorInfo:l})}}catch(i){throw Kr.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function $_({projectId:n}){return`${U6}/projects/${n}/registrations`}async function H_({appConfig:n,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function yP({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==fP&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=10080*60*1e3;async function t3(n){const e=await r3(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ts(e.getKey("auth")),p256dh:Ts(e.getKey("p256dh"))},r=await Q6(n.firebaseDependencies);if(r){if(i3(r.subscriptionOptions,t))return Date.now()>=r.createTime+e3?n3(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{await Z6(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return pI(n.firebaseDependencies,t)}else return pI(n.firebaseDependencies,t)}async function n3(n,e){try{const t=await X6(n.firebaseDependencies,e),r={...e,token:t,createTime:Date.now()};return await j_(n.firebaseDependencies,r),t}catch(t){throw t}}async function pI(n,e){const r={token:await J6(n,e),createTime:Date.now(),subscriptionOptions:e};return await j_(n,r),r.token}async function r3(n,e){const t=await n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$6(e)})}function i3(n,e){const t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return s3(e,n),o3(e,n),a3(e,n),e}function s3(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}function o3(n,e){e.data&&(n.data=e.data)}function a3(n,e){var i,o,l,c;if(!e.fcmOptions&&!((i=e.notification)!=null&&i.click_action))return;n.fcmOptions={};const t=((o=e.fcmOptions)==null?void 0:o.link)??((l=e.notification)==null?void 0:l.click_action);t&&(n.fcmOptions.link=t);const r=(c=e.fcmOptions)==null?void 0:c.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n){return typeof n=="object"&&!!n&&pP in n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(n){if(!n||!n.options)throw hg("App Configuration Object");if(!n.name)throw hg("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw hg(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function hg(n){return Kr.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=u3(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(n){try{n.swRegistration=await navigator.serviceWorker.register(M6,{scope:F6}),n.swRegistration.update().catch(()=>{}),await h3(n.swRegistration)}catch(e){throw Kr.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function h3(n){return new Promise((e,t)=>{const r=setTimeout(()=>t(new Error(`Service worker not registered after ${dI} ms`)),dI),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var l;((l=o.target)==null?void 0:l.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(n,e){if(!e&&!n.swRegistration&&await d3(n),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Kr.create("invalid-sw-registration");n.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=fP)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(n,e){if(!navigator)throw Kr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Kr.create("permission-blocked");return await p3(n,e==null?void 0:e.vapidKey),await f3(n,e==null?void 0:e.serviceWorkerRegistration),t3(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(n,e,t){const r=y3(e);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[pP],message_name:t[B6],message_time:t[z6],message_device_time:Math.floor(Date.now()/1e3)})}function y3(n){switch(n){case $c.NOTIFICATION_CLICKED:return"notification_open";case $c.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===$c.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(mI(t)):n.onMessageHandler.next(mI(t)));const r=t.data;l3(r)&&r[j6]==="1"&&await g3(n,t.messageType,r)}const gI="@firebase/messaging",yI="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=n=>{const e=new c3(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>_3(e,t)),e},w3=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>m3(e,r)}};function E3(){kr(new fr("messaging",v3,"PUBLIC")),kr(new fr("messaging-internal",w3,"PRIVATE")),Pn(gI,yI),Pn(gI,yI,"esm2020")}E3();const T3=[{id:"l1",userId:"2",name:"Dr. Sarah Johnson",subject:"Mathematics",price:45,bio:"PhD in Mathematics with 10+ years of teaching experience. Specialized in Calculus and Linear Algebra.",rating:4.8,totalReviews:124,avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150",availability:["Mon","Wed","Fri"]},{id:"l2",userId:"6",name:"Prof. Michael Chen",subject:"Physics",price:50,bio:"Expert in Quantum Physics and Mechanics. Published researcher and passionate educator.",rating:4.9,totalReviews:98,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",availability:["Tue","Thu","Sat"]},{id:"l3",userId:"7",name:"Dr. Emily Davis",subject:"Chemistry",price:40,bio:"Organic Chemistry specialist with hands-on lab experience. Making chemistry fun and easy!",rating:4.7,totalReviews:156,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150",availability:["Mon","Tue","Thu"]},{id:"l4",userId:"8",name:"James Wilson",subject:"Computer Science",price:55,bio:"Full-stack developer and CS educator. Specializing in Python, JavaScript, and Data Structures.",rating:4.9,totalReviews:203,avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150",availability:["Mon","Wed","Fri","Sat"]},{id:"l5",userId:"9",name:"Dr. Maria Garcia",subject:"Biology",price:42,bio:"Molecular Biology PhD. Passionate about genetics and cell biology. Patient and thorough teaching style.",rating:4.6,totalReviews:87,avatar:"https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?w=150",availability:["Tue","Wed","Fri"]},{id:"l6",userId:"10",name:"David Brown",subject:"English Literature",price:38,bio:"MA in English Literature. Specializing in Shakespeare, Poetry, and Essay Writing.",rating:4.8,totalReviews:142,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150",availability:["Mon","Tue","Thu","Sat"]}],I3=()=>["09:00 AM","10:00 AM","11:00 AM","01:00 PM","02:00 PM","03:00 PM","04:00 PM"].map((e,t)=>({id:`slot-${t}`,time:e,available:Math.random()>.3})),_B=T3.flatMap(n=>{const e=[];for(let t=0;t<14;t++){const r=new Date;r.setDate(r.getDate()+t),e.push({id:`avail-${n.id}-${t}`,lecturerId:n.id,date:r.toISOString().split("T")[0],timeSlots:I3()})}return e}),vB=n=>{switch(n){case"STUDENT":return"/student/dashboard";case"LECTURER":return"/lecturer/dashboard";case"ADMIN":return"/admin/dashboard";case"SUPER_ADMIN":return"/super-admin/dashboard";case"DEVELOPER":return"/developer/dashboard";default:return"/login"}};var S3=kI();const b3=PI(S3);function R3(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const A3=n=>{switch(n){case"success":return C3;case"info":return D3;case"warning":return x3;case"error":return N3;default:return null}},P3=Array(12).fill(0),k3=({visible:n,className:e})=>_e.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},_e.createElement("div",{className:"sonner-spinner"},P3.map((t,r)=>_e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),C3=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),x3=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),D3=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),N3=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),O3=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),V3=()=>{const[n,e]=_e.useState(document.hidden);return _e.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let ty=1;class L3{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ty++,l=this.toasts.find(h=>h.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...e,id:o,title:r}),{...h,...e,id:o,dismissible:c,title:r}):h):this.addToast({title:r,...i,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,l;const c=i.then(async p=>{if(l=["resolve",p],_e.isValidElement(p))o=!1,this.create({id:r,type:"default",message:p});else if(F3(p)&&!p.ok){o=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,C=typeof g=="object"&&!_e.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:w,...C})}else if(p instanceof Error){o=!1;const g=typeof t.error=="function"?await t.error(p):t.error,w=typeof t.description=="function"?await t.description(p):t.description,C=typeof g=="object"&&!_e.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:w,...C})}else if(t.success!==void 0){o=!1;const g=typeof t.success=="function"?await t.success(p):t.success,w=typeof t.description=="function"?await t.description(p):t.description,C=typeof g=="object"&&!_e.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:w,...C})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){o=!1;const y=typeof t.error=="function"?await t.error(p):t.error,g=typeof t.description=="function"?await t.description(p):t.description,b=typeof y=="object"&&!_e.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:g,...b})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,y)=>c.then(()=>l[0]==="reject"?y(l[1]):p(l[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||ty++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Rr=new L3,M3=(n,e)=>{const t=(e==null?void 0:e.id)||ty++;return Rr.addToast({title:n,...e,id:t}),t},F3=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",U3=M3,B3=()=>Rr.toasts,z3=()=>Rr.getActiveToasts(),_I=Object.assign(U3,{success:Rr.success,info:Rr.info,warning:Rr.warning,error:Rr.error,custom:Rr.custom,message:Rr.message,promise:Rr.promise,dismiss:Rr.dismiss,loading:Rr.loading},{getHistory:B3,getToasts:z3});R3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function xh(n){return n.label!==void 0}const j3=3,$3="24px",H3="16px",vI=4e3,q3=356,W3=14,K3=45,G3=200;function Hi(...n){return n.filter(Boolean).join(" ")}function Q3(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const Y3=n=>{var e,t,r,i,o,l,c,h,p;const{invert:y,toast:g,unstyled:w,interacting:b,setHeights:C,visibleToasts:L,heights:N,index:X,toasts:K,expanded:Z,removeToast:oe,defaultRichColors:ie,closeButton:ue,style:I,cancelButtonStyle:S,actionButtonStyle:A,className:V="",descriptionClassName:D="",duration:F,position:P,gap:Be,expandByDefault:ze,classNames:fe,icons:be,closeButtonAriaLabel:$="Close toast"}=n,[pe,ne]=_e.useState(null),[O,G]=_e.useState(null),[re,de]=_e.useState(!1),[ve,we]=_e.useState(!1),[Ce,qe]=_e.useState(!1),[Ze,At]=_e.useState(!1),[pr,_t]=_e.useState(!1),[Cn,xr]=_e.useState(0),[Us,xn]=_e.useState(0),tr=_e.useRef(g.duration||F||vI),Pi=_e.useRef(null),ht=_e.useRef(null),xt=X===0,nr=X+1<=L,Zt=g.type,mr=g.dismissible!==!1,gr=g.className||"",jn=g.descriptionClassName||"",Dr=_e.useMemo(()=>N.findIndex(je=>je.toastId===g.id)||0,[N,g.id]),Yr=_e.useMemo(()=>{var je;return(je=g.closeButton)!=null?je:ue},[g.closeButton,ue]),en=_e.useMemo(()=>g.duration||F||vI,[g.duration,F]),wn=_e.useRef(0),Dn=_e.useRef(0),Nr=_e.useRef(0),rr=_e.useRef(null),[Jr,En]=P.split("-"),di=_e.useMemo(()=>N.reduce((je,Tt,Lt)=>Lt>=Dr?je:je+Tt.height,0),[N,Dr]),Nn=V3(),hi=g.invert||y,yr=Zt==="loading";Dn.current=_e.useMemo(()=>Dr*Be+di,[Dr,di]),_e.useEffect(()=>{tr.current=en},[en]),_e.useEffect(()=>{de(!0)},[]),_e.useEffect(()=>{const je=ht.current;if(je){const Tt=je.getBoundingClientRect().height;return xn(Tt),C(Lt=>[{toastId:g.id,height:Tt,position:g.position},...Lt]),()=>C(Lt=>Lt.filter(jt=>jt.toastId!==g.id))}},[C,g.id]),_e.useLayoutEffect(()=>{if(!re)return;const je=ht.current,Tt=je.style.height;je.style.height="auto";const Lt=je.getBoundingClientRect().height;je.style.height=Tt,xn(Lt),C(jt=>jt.find(Dt=>Dt.toastId===g.id)?jt.map(Dt=>Dt.toastId===g.id?{...Dt,height:Lt}:Dt):[{toastId:g.id,height:Lt,position:g.position},...jt])},[re,g.title,g.description,C,g.id]);const Tn=_e.useCallback(()=>{we(!0),xr(Dn.current),C(je=>je.filter(Tt=>Tt.toastId!==g.id)),setTimeout(()=>{oe(g)},G3)},[g,oe,C,Dn]);_e.useEffect(()=>{if(g.promise&&Zt==="loading"||g.duration===1/0||g.type==="loading")return;let je;return Z||b||Nn?(()=>{if(Nr.current<wn.current){const jt=new Date().getTime()-wn.current;tr.current=tr.current-jt}Nr.current=new Date().getTime()})():(()=>{tr.current!==1/0&&(wn.current=new Date().getTime(),je=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Tn()},tr.current))})(),()=>clearTimeout(je)},[Z,b,g,Zt,Nn,Tn]),_e.useEffect(()=>{g.delete&&Tn()},[Tn,g.delete]);function $n(){var je;if(be!=null&&be.loading){var Tt;return _e.createElement("div",{className:Hi(fe==null?void 0:fe.loader,g==null||(Tt=g.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":Zt==="loading"},be.loading)}return _e.createElement(k3,{className:Hi(fe==null?void 0:fe.loader,g==null||(je=g.classNames)==null?void 0:je.loader),visible:Zt==="loading"})}const _r=g.icon||(be==null?void 0:be[Zt])||A3(Zt);var Et,ki;return _e.createElement("li",{tabIndex:0,ref:ht,className:Hi(V,gr,fe==null?void 0:fe.toast,g==null||(e=g.classNames)==null?void 0:e.toast,fe==null?void 0:fe.default,fe==null?void 0:fe[Zt],g==null||(t=g.classNames)==null?void 0:t[Zt]),"data-sonner-toast":"","data-rich-colors":(Et=g.richColors)!=null?Et:ie,"data-styled":!(g.jsx||g.unstyled||w),"data-mounted":re,"data-promise":!!g.promise,"data-swiped":pr,"data-removed":ve,"data-visible":nr,"data-y-position":Jr,"data-x-position":En,"data-index":X,"data-front":xt,"data-swiping":Ce,"data-dismissible":mr,"data-type":Zt,"data-invert":hi,"data-swipe-out":Ze,"data-swipe-direction":O,"data-expanded":!!(Z||ze&&re),style:{"--index":X,"--toasts-before":X,"--z-index":K.length-X,"--offset":`${ve?Cn:Dn.current}px`,"--initial-height":ze?"auto":`${Us}px`,...I,...g.style},onDragEnd:()=>{qe(!1),ne(null),rr.current=null},onPointerDown:je=>{yr||!mr||(Pi.current=new Date,xr(Dn.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(qe(!0),rr.current={x:je.clientX,y:je.clientY}))},onPointerUp:()=>{var je,Tt,Lt;if(Ze||!mr)return;rr.current=null;const jt=Number(((je=ht.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rn=Number(((Tt=ht.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dt=new Date().getTime()-((Lt=Pi.current)==null?void 0:Lt.getTime()),Kt=pe==="x"?jt:rn,ir=Math.abs(Kt)/Dt;if(Math.abs(Kt)>=K3||ir>.11){xr(Dn.current),g.onDismiss==null||g.onDismiss.call(g,g),G(pe==="x"?jt>0?"right":"left":rn>0?"down":"up"),Tn(),At(!0);return}else{var x,U;(x=ht.current)==null||x.style.setProperty("--swipe-amount-x","0px"),(U=ht.current)==null||U.style.setProperty("--swipe-amount-y","0px")}_t(!1),qe(!1),ne(null)},onPointerMove:je=>{var Tt,Lt,jt;if(!rr.current||!mr||((Tt=window.getSelection())==null?void 0:Tt.toString().length)>0)return;const Dt=je.clientY-rr.current.y,Kt=je.clientX-rr.current.x;var ir;const x=(ir=n.swipeDirections)!=null?ir:Q3(P);!pe&&(Math.abs(Kt)>1||Math.abs(Dt)>1)&&ne(Math.abs(Kt)>Math.abs(Dt)?"x":"y");let U={x:0,y:0};const W=te=>1/(1.5+Math.abs(te)/20);if(pe==="y"){if(x.includes("top")||x.includes("bottom"))if(x.includes("top")&&Dt<0||x.includes("bottom")&&Dt>0)U.y=Dt;else{const te=Dt*W(Dt);U.y=Math.abs(te)<Math.abs(Dt)?te:Dt}}else if(pe==="x"&&(x.includes("left")||x.includes("right")))if(x.includes("left")&&Kt<0||x.includes("right")&&Kt>0)U.x=Kt;else{const te=Kt*W(Kt);U.x=Math.abs(te)<Math.abs(Kt)?te:Kt}(Math.abs(U.x)>0||Math.abs(U.y)>0)&&_t(!0),(Lt=ht.current)==null||Lt.style.setProperty("--swipe-amount-x",`${U.x}px`),(jt=ht.current)==null||jt.style.setProperty("--swipe-amount-y",`${U.y}px`)}},Yr&&!g.jsx&&Zt!=="loading"?_e.createElement("button",{"aria-label":$,"data-disabled":yr,"data-close-button":!0,onClick:yr||!mr?()=>{}:()=>{Tn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Hi(fe==null?void 0:fe.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(ki=be==null?void 0:be.close)!=null?ki:O3):null,(Zt||g.icon||g.promise)&&g.icon!==null&&((be==null?void 0:be[Zt])!==null||g.icon)?_e.createElement("div",{"data-icon":"",className:Hi(fe==null?void 0:fe.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||$n():null,g.type!=="loading"?_r:null):null,_e.createElement("div",{"data-content":"",className:Hi(fe==null?void 0:fe.content,g==null||(o=g.classNames)==null?void 0:o.content)},_e.createElement("div",{"data-title":"",className:Hi(fe==null?void 0:fe.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?_e.createElement("div",{"data-description":"",className:Hi(D,jn,fe==null?void 0:fe.description,g==null||(c=g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),_e.isValidElement(g.cancel)?g.cancel:g.cancel&&xh(g.cancel)?_e.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||S,onClick:je=>{xh(g.cancel)&&mr&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,je),Tn())},className:Hi(fe==null?void 0:fe.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,_e.isValidElement(g.action)?g.action:g.action&&xh(g.action)?_e.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||A,onClick:je=>{xh(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,je),!je.defaultPrevented&&Tn())},className:Hi(fe==null?void 0:fe.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function wI(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function J3(n,e){const t={};return[n,e].forEach((r,i)=>{const o=i===1,l=o?"--mobile-offset":"--offset",c=o?H3:$3;function h(p){["top","right","bottom","left"].forEach(y=>{t[`${l}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=c:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(c)}),t}const X3=_e.forwardRef(function(e,t){const{invert:r,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:h,offset:p,mobileOffset:y,theme:g="light",richColors:w,duration:b,style:C,visibleToasts:L=j3,toastOptions:N,dir:X=wI(),gap:K=W3,icons:Z,containerAriaLabel:oe="Notifications"}=e,[ie,ue]=_e.useState([]),I=_e.useMemo(()=>Array.from(new Set([i].concat(ie.filter(O=>O.position).map(O=>O.position)))),[ie,i]),[S,A]=_e.useState([]),[V,D]=_e.useState(!1),[F,P]=_e.useState(!1),[Be,ze]=_e.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),fe=_e.useRef(null),be=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=_e.useRef(null),pe=_e.useRef(!1),ne=_e.useCallback(O=>{ue(G=>{var re;return(re=G.find(de=>de.id===O.id))!=null&&re.delete||Rr.dismiss(O.id),G.filter(({id:de})=>de!==O.id)})},[]);return _e.useEffect(()=>Rr.subscribe(O=>{if(O.dismiss){requestAnimationFrame(()=>{ue(G=>G.map(re=>re.id===O.id?{...re,delete:!0}:re))});return}setTimeout(()=>{b3.flushSync(()=>{ue(G=>{const re=G.findIndex(de=>de.id===O.id);return re!==-1?[...G.slice(0,re),{...G[re],...O},...G.slice(re+1)]:[O,...G]})})})}),[ie]),_e.useEffect(()=>{if(g!=="system"){ze(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ze("dark"):ze("light")),typeof window>"u")return;const O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:G})=>{ze(G?"dark":"light")})}catch{O.addListener(({matches:re})=>{try{ze(re?"dark":"light")}catch(de){console.error(de)}})}},[g]),_e.useEffect(()=>{ie.length<=1&&D(!1)},[ie]),_e.useEffect(()=>{const O=G=>{var re;if(o.every(we=>G[we]||G.code===we)){var ve;D(!0),(ve=fe.current)==null||ve.focus()}G.code==="Escape"&&(document.activeElement===fe.current||(re=fe.current)!=null&&re.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[o]),_e.useEffect(()=>{if(fe.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,pe.current=!1)}},[fe.current]),_e.createElement("section",{ref:t,"aria-label":`${oe} ${be}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((O,G)=>{var re;const[de,ve]=O.split("-");return ie.length?_e.createElement("ol",{key:O,dir:X==="auto"?wI():X,tabIndex:-1,ref:fe,className:h,"data-sonner-toaster":!0,"data-sonner-theme":Be,"data-y-position":de,"data-lifted":V&&ie.length>1&&!l,"data-x-position":ve,style:{"--front-toast-height":`${((re=S[0])==null?void 0:re.height)||0}px`,"--width":`${q3}px`,"--gap":`${K}px`,...C,...J3(p,y)},onBlur:we=>{pe.current&&!we.currentTarget.contains(we.relatedTarget)&&(pe.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||pe.current||(pe.current=!0,$.current=we.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{F||D(!1)},onDragEnd:()=>D(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},ie.filter(we=>!we.position&&G===0||we.position===O).map((we,Ce)=>{var qe,Ze;return _e.createElement(Y3,{key:we.id,icons:Z,index:Ce,toast:we,defaultRichColors:w,duration:(qe=N==null?void 0:N.duration)!=null?qe:b,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:r,visibleToasts:L,closeButton:(Ze=N==null?void 0:N.closeButton)!=null?Ze:c,interacting:F,position:O,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,closeButtonAriaLabel:N==null?void 0:N.closeButtonAriaLabel,removeToast:ne,toasts:ie.filter(At=>At.position==we.position),heights:S.filter(At=>At.position==we.position),setHeights:A,expandByDefault:l,gap:K,expanded:V,swipeDirections:e.swipeDirections})})):null}))}),Z3=async()=>{},_P=async()=>{if(!Cr){_I.error("App not initialized");return}{_I.error("VAPID key missing");return}},vP=z.createContext(void 0),e5=({children:n})=>{const[e,t]=z.useState(null);z.useEffect(()=>{if(!Ch)return;let l=null;const c=BO(bl,async h=>{if(!h){if(t(null),l)try{l()}catch{}return}const p=cA(uP,"users",h.uid),y=await HF(p);let g="STUDENT",w=h.displayName||h.email||"User",b=h.photoURL||void 0;if(y.exists()){const C=y.data();g=C.role||"STUDENT",w=C.name||w,b=C.avatarUrl||b}else await qF(p,{email:h.email,name:w,role:g});if(t({id:h.uid,email:h.email||"",name:w,role:g,password:"",avatar:b}),l)try{l()}catch{}l=WF(p,C=>{const L=C.data();L&&t(N=>N&&{...N,name:L.name||N.name,role:L.role||N.role,avatar:L.avatarUrl||N.avatar})});try{typeof Notification<"u"&&Notification.permission!=="granted"&&await _P()}catch{}});return()=>{if(l)try{l()}catch{}c&&c()}},[]);const r=async(l,c)=>{if(!Ch)throw new Error("Firebase is not configured. Add env vars.");await VO(bl,l,c)},i=async()=>{if(!Ch)throw new Error("Firebase is not configured. Add env vars.");jc.isNativePlatform()?await hV(bl,lI):await oV(bl,lI)},o=()=>{Ch&&zO(bl).catch(()=>{}),t(null)};return un.jsx(vP.Provider,{value:{user:e,loginWithEmail:r,loginWithGoogle:i,logout:o,isAuthenticated:!!e},children:n})},wB=()=>{const n=z.useContext(vP);if(!n)throw new Error("useAuth must be used within AuthProvider");return n};var t5=(n,e,t,r,i,o,l,c)=>{let h=document.documentElement,p=["light","dark"];function y(b){(Array.isArray(n)?n:[n]).forEach(C=>{let L=C==="class",N=L&&o?i.map(X=>o[X]||X):i;L?(h.classList.remove(...N),h.classList.add(o&&o[b]?o[b]:b)):h.setAttribute(C,b)}),g(b)}function g(b){c&&p.includes(b)&&(h.style.colorScheme=b)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)y(r);else try{let b=localStorage.getItem(e)||t,C=l&&b==="system"?w():b;y(C)}catch{}},n5=z.createContext(void 0),r5={setTheme:n=>{},themes:[]},i5=()=>{var n;return(n=z.useContext(n5))!=null?n:r5};z.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:l,themes:c,nonce:h,scriptProps:p})=>{let y=JSON.stringify([t,e,o,n,c,l,r,i]).slice(1,-1);return z.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${t5.toString()})(${y})`}})});const s5=({...n})=>{const{theme:e="system"}=i5();return un.jsx(X3,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function EI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function wP(...n){return e=>{let t=!1;const r=n.map(i=>{const o=EI(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():EI(n[i],null)}}}}function EB(...n){return z.useCallback(wP(...n),n)}var EP=z.forwardRef((n,e)=>{const{children:t,...r}=n,i=z.Children.toArray(t),o=i.find(a5);if(o){const l=o.props.children,c=i.map(h=>h===o?z.Children.count(l)>1?z.Children.only(null):z.isValidElement(l)?l.props.children:null:h);return un.jsx(ny,{...r,ref:e,children:z.isValidElement(l)?z.cloneElement(l,void 0,c):null})}return un.jsx(ny,{...r,ref:e,children:t})});EP.displayName="Slot";var ny=z.forwardRef((n,e)=>{const{children:t,...r}=n;if(z.isValidElement(t)){const i=u5(t),o=l5(r,t.props);return t.type!==z.Fragment&&(o.ref=e?wP(e,i):i),z.cloneElement(t,o)}return z.Children.count(t)>1?z.Children.only(null):null});ny.displayName="SlotClone";var o5=({children:n})=>un.jsx(un.Fragment,{children:n});function a5(n){return z.isValidElement(n)&&n.type===o5}function l5(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{o(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function u5(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function TP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=TP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function IP(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=TP(n))&&(r&&(r+=" "),r+=e);return r}const TI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,II=IP,c5=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return II(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(p=>{const y=t==null?void 0:t[p],g=o==null?void 0:o[p];if(y===null)return null;const w=TI(y)||TI(g);return i[p][w]}),c=t&&Object.entries(t).reduce((p,y)=>{let[g,w]=y;return w===void 0||(p[g]=w),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:g,className:w,...b}=y;return Object.entries(b).every(C=>{let[L,N]=C;return Array.isArray(N)?N.includes({...o,...c}[L]):{...o,...c}[L]===N})?[...p,g,w]:p},[]);return II(n,l,h,t==null?void 0:t.class,t==null?void 0:t.className)},q_="-",d5=n=>{const e=f5(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(q_);return c[0]===""&&c.length!==1&&c.shift(),SP(c,e)||h5(l)},getConflictingClassGroupIds:(l,c)=>{const h=t[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},SP=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?SP(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(q_);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},SI=/^\[(.+)\]$/,h5=n=>{if(SI.test(n)){const e=SI.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},f5=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)ry(t[i],r,i,e);return r},ry=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:bI(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(p5(i)){ry(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,l])=>{ry(l,bI(e,o),t,r)})})},bI=(n,e)=>{let t=n;return e.split(q_).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},p5=n=>n.isThemeGetter,m5=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){t.has(o)?t.set(o,l):i(o,l)}}},iy="!",sy=":",g5=sy.length,y5=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const o=[];let l=0,c=0,h=0,p;for(let C=0;C<i.length;C++){let L=i[C];if(l===0&&c===0){if(L===sy){o.push(i.slice(h,C)),h=C+g5;continue}if(L==="/"){p=C;continue}}L==="["?l++:L==="]"?l--:L==="("?c++:L===")"&&c--}const y=o.length===0?i:i.substring(h),g=_5(y),w=g!==y,b=p&&p>h?p-h:void 0;return{modifiers:o,hasImportantModifier:w,baseClassName:g,maybePostfixModifierPosition:b}};if(e){const i=e+sy,o=r;r=l=>l.startsWith(i)?o(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=o=>t({className:o,parseClassName:i})}return r},_5=n=>n.endsWith(iy)?n.substring(0,n.length-1):n.startsWith(iy)?n.substring(1):n,v5=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...o.sort(),l),o=[]):o.push(l)}),i.push(...o.sort()),i}},w5=n=>({cache:m5(n.cacheSize),parseClassName:y5(n),sortModifiers:v5(n),...d5(n)}),E5=/\s+/,T5=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],c=n.trim().split(E5);let h="";for(let p=c.length-1;p>=0;p-=1){const y=c[p],{isExternal:g,modifiers:w,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:L}=t(y);if(g){h=y+(h.length>0?" "+h:h);continue}let N=!!L,X=r(N?C.substring(0,L):C);if(!X){if(!N){h=y+(h.length>0?" "+h:h);continue}if(X=r(C),!X){h=y+(h.length>0?" "+h:h);continue}N=!1}const K=o(w).join(":"),Z=b?K+iy:K,oe=Z+X;if(l.includes(oe))continue;l.push(oe);const ie=i(X,N);for(let ue=0;ue<ie.length;++ue){const I=ie[ue];l.push(Z+I)}h=y+(h.length>0?" "+h:h)}return h};function I5(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=bP(e))&&(r&&(r+=" "),r+=t);return r}const bP=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=bP(n[r]))&&(t&&(t+=" "),t+=e);return t};function S5(n,...e){let t,r,i,o=l;function l(h){const p=e.reduce((y,g)=>g(y),n());return t=w5(p),r=t.cache.get,i=t.cache.set,o=c,c(h)}function c(h){const p=r(h);if(p)return p;const y=T5(h,t);return i(h,y),y}return function(){return o(I5.apply(null,arguments))}}const gn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},RP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,AP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,b5=/^\d+\/\d+$/,R5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,C5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_l=n=>b5.test(n),tt=n=>!!n&&!Number.isNaN(Number(n)),uo=n=>!!n&&Number.isInteger(Number(n)),fg=n=>n.endsWith("%")&&tt(n.slice(0,-1)),ws=n=>R5.test(n),x5=()=>!0,D5=n=>A5.test(n)&&!P5.test(n),PP=()=>!1,N5=n=>k5.test(n),O5=n=>C5.test(n),V5=n=>!De(n)&&!Ne(n),L5=n=>nu(n,xP,PP),De=n=>RP.test(n),ta=n=>nu(n,DP,D5),pg=n=>nu(n,z5,tt),RI=n=>nu(n,kP,PP),M5=n=>nu(n,CP,O5),Dh=n=>nu(n,NP,N5),Ne=n=>AP.test(n),Ju=n=>ru(n,DP),F5=n=>ru(n,j5),AI=n=>ru(n,kP),U5=n=>ru(n,xP),B5=n=>ru(n,CP),Nh=n=>ru(n,NP,!0),nu=(n,e,t)=>{const r=RP.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},ru=(n,e,t=!1)=>{const r=AP.exec(n);return r?r[1]?e(r[1]):t:!1},kP=n=>n==="position"||n==="percentage",CP=n=>n==="image"||n==="url",xP=n=>n==="length"||n==="size"||n==="bg-size",DP=n=>n==="length",z5=n=>n==="number",j5=n=>n==="family-name",NP=n=>n==="shadow",$5=()=>{const n=gn("color"),e=gn("font"),t=gn("text"),r=gn("font-weight"),i=gn("tracking"),o=gn("leading"),l=gn("breakpoint"),c=gn("container"),h=gn("spacing"),p=gn("radius"),y=gn("shadow"),g=gn("inset-shadow"),w=gn("text-shadow"),b=gn("drop-shadow"),C=gn("blur"),L=gn("perspective"),N=gn("aspect"),X=gn("ease"),K=gn("animate"),Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ie=()=>[...oe(),Ne,De],ue=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[Ne,De,h],A=()=>[_l,"full","auto",...S()],V=()=>[uo,"none","subgrid",Ne,De],D=()=>["auto",{span:["full",uo,Ne,De]},uo,Ne,De],F=()=>[uo,"auto",Ne,De],P=()=>["auto","min","max","fr",Ne,De],Be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ze=()=>["start","end","center","stretch","center-safe","end-safe"],fe=()=>["auto",...S()],be=()=>[_l,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],$=()=>[n,Ne,De],pe=()=>[...oe(),AI,RI,{position:[Ne,De]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",U5,L5,{size:[Ne,De]}],G=()=>[fg,Ju,ta],re=()=>["","none","full",p,Ne,De],de=()=>["",tt,Ju,ta],ve=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[tt,fg,AI,RI],qe=()=>["","none",C,Ne,De],Ze=()=>["none",tt,Ne,De],At=()=>["none",tt,Ne,De],pr=()=>[tt,Ne,De],_t=()=>[_l,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ws],breakpoint:[ws],color:[x5],container:[ws],"drop-shadow":[ws],ease:["in","out","in-out"],font:[V5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ws],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ws],shadow:[ws],spacing:["px",tt],text:[ws],"text-shadow":[ws],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_l,De,Ne,N]}],container:["container"],columns:[{columns:[tt,De,Ne,c]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ie()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[uo,"auto",Ne,De]}],basis:[{basis:[_l,"full","auto",c,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tt,_l,"auto","initial","none",De]}],grow:[{grow:["",tt,Ne,De]}],shrink:[{shrink:["",tt,Ne,De]}],order:[{order:[uo,"first","last","none",Ne,De]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Be(),"normal"]}],"justify-items":[{"justify-items":[...ze(),"normal"]}],"justify-self":[{"justify-self":["auto",...ze()]}],"align-content":[{content:["normal",...Be()]}],"align-items":[{items:[...ze(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ze(),{baseline:["","last"]}]}],"place-content":[{"place-content":Be()}],"place-items":[{"place-items":[...ze(),"baseline"]}],"place-self":[{"place-self":["auto",...ze()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:fe()}],mx:[{mx:fe()}],my:[{my:fe()}],ms:[{ms:fe()}],me:[{me:fe()}],mt:[{mt:fe()}],mr:[{mr:fe()}],mb:[{mb:fe()}],ml:[{ml:fe()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:be()}],w:[{w:[c,"screen",...be()]}],"min-w":[{"min-w":[c,"screen","none",...be()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...be()]}],h:[{h:["screen",...be()]}],"min-h":[{"min-h":["screen","none",...be()]}],"max-h":[{"max-h":["screen",...be()]}],"font-size":[{text:["base",t,Ju,ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,pg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",fg,De]}],"font-family":[{font:[F5,De,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ne,De]}],"line-clamp":[{"line-clamp":[tt,"none",Ne,pg]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",Ne,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[tt,"from-font","auto",Ne,ta]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[tt,"auto",Ne,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},uo,Ne,De],radial:["",Ne,De],conic:[uo,Ne,De]},B5,M5]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tt,Ne,De]}],"outline-w":[{outline:["",tt,Ju,ta]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",y,Nh,Dh]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,Nh,Dh]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[tt,ta]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",w,Nh,Dh]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[tt,Ne,De]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ne,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":oe()}],"mask-image-conic-pos":[{"mask-conic":[tt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,De]}],filter:[{filter:["","none",Ne,De]}],blur:[{blur:qe()}],brightness:[{brightness:[tt,Ne,De]}],contrast:[{contrast:[tt,Ne,De]}],"drop-shadow":[{"drop-shadow":["","none",b,Nh,Dh]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",tt,Ne,De]}],"hue-rotate":[{"hue-rotate":[tt,Ne,De]}],invert:[{invert:["",tt,Ne,De]}],saturate:[{saturate:[tt,Ne,De]}],sepia:[{sepia:["",tt,Ne,De]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,De]}],"backdrop-blur":[{"backdrop-blur":qe()}],"backdrop-brightness":[{"backdrop-brightness":[tt,Ne,De]}],"backdrop-contrast":[{"backdrop-contrast":[tt,Ne,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tt,Ne,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tt,Ne,De]}],"backdrop-invert":[{"backdrop-invert":["",tt,Ne,De]}],"backdrop-opacity":[{"backdrop-opacity":[tt,Ne,De]}],"backdrop-saturate":[{"backdrop-saturate":[tt,Ne,De]}],"backdrop-sepia":[{"backdrop-sepia":["",tt,Ne,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tt,"initial",Ne,De]}],ease:[{ease:["linear","initial",X,Ne,De]}],delay:[{delay:[tt,Ne,De]}],animate:[{animate:["none",K,Ne,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[L,Ne,De]}],"perspective-origin":[{"perspective-origin":ie()}],rotate:[{rotate:Ze()}],"rotate-x":[{"rotate-x":Ze()}],"rotate-y":[{"rotate-y":Ze()}],"rotate-z":[{"rotate-z":Ze()}],scale:[{scale:At()}],"scale-x":[{"scale-x":At()}],"scale-y":[{"scale-y":At()}],"scale-z":[{"scale-z":At()}],"scale-3d":["scale-3d"],skew:[{skew:pr()}],"skew-x":[{"skew-x":pr()}],"skew-y":[{"skew-y":pr()}],transform:[{transform:[Ne,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:ie()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_t()}],"translate-x":[{"translate-x":_t()}],"translate-y":[{"translate-y":_t()}],"translate-z":[{"translate-z":_t()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,De]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[tt,Ju,ta,pg]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},H5=S5($5);function q5(...n){return H5(IP(n))}const W5=c5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive shadow-sm",{variants:{variant:{default:"bg-[#0066FF] text-white hover:bg-[#0053cc]",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border border-white/50 bg-white/40 text-foreground hover:bg-white/60 backdrop-blur-md dark:bg-white/10 dark:border-white/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-lg gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-lg px-6 has-[>svg]:px-4",icon:"size-9 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}});function K5({className:n,variant:e,size:t,asChild:r=!1,...i}){const o=r?EP:"button";return un.jsx(o,{"data-slot":"button",className:q5(W5({variant:e,size:t,className:n})),...i})}function G5(){const[n,e]=z.useState(!1),t=z.useMemo(()=>{try{return typeof Notification<"u"}catch{return!1}},[]);return z.useEffect(()=>{Z3();try{t&&e(Notification.permission!=="granted")}catch{}},[]),un.jsxs(e5,{children:[un.jsxs("div",{className:"min-h-screen flex flex-col",children:[n&&un.jsxs("div",{className:"w-full px-4 py-2 text-sm flex items-center justify-between",style:{backgroundColor:"#fff7ed",color:"#9a3412"},children:[un.jsx("div",{className:"pr-3",children:"Enable notifications to receive booking updates, reminders, and messages."}),un.jsx("div",{className:"flex items-center gap-2",children:un.jsx(K5,{variant:"outline",onClick:async()=>{await _P();try{e(typeof Notification<"u"&&Notification.permission!=="granted")}catch{e(!1)}},children:"Enable Notifications"})})]}),un.jsx("div",{className:"flex-1",children:un.jsx(OC,{router:Nx})}),un.jsx("footer",{className:"text-center text-gray-500 text-xs py-3",children:"Developed by esystemlk"})]}),un.jsx(s5,{})]})}Gk.createRoot(document.getElementById("root")).render(un.jsx(G5,{}));export{iB as A,K5 as B,WF as C,hB as D,Q5 as E,Ch as F,PI as G,IP as H,c5 as I,_P as J,cB as K,T3 as L,oB as M,_B as N,lB as O,X5 as P,uB as Q,b3 as R,EP as S,dB as T,yB as U,pC as a,Y5 as b,EB as c,q5 as d,S3 as e,Z5 as f,vB as g,bl as h,tB as i,un as j,qF as k,cA as l,uP as m,HF as n,mB as o,gB as p,fB as q,z as r,eB as s,_I as t,wB as u,pB as v,_e as w,Qk as x,sB as y,aB as z};
