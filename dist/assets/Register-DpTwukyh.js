import{r as t,a as y,j as e,B as h,t as i,f as v,h as C,i as N,s as E,k as F,l as b,m as S,F as R}from"./index-29trkLDX.js";import{C as P,a as A,b as D,c as k,d as q}from"./card-WBB6GQn7.js";import{L as l}from"./label-C8eofHuj.js";import{I as o}from"./input-D4oRv7lk.js";import"./index--ESsa993.js";function U(){const[n,p]=t.useState(""),[r,f]=t.useState(""),[c,x]=t.useState(""),[d,g]=t.useState(""),[m,j]=t.useState(""),u=y(),w=async a=>{if(a.preventDefault(),!R){i.error("Firebase not configured");return}if(r!==c){i.error("Emails do not match");return}if(d!==m){i.error("Passwords do not match");return}try{const s=await v(C,r,d);n&&await N(s.user,{displayName:n}),await E(s.user),await F(b(S,"users",s.user.uid),{email:r,name:n||r,role:"STUDENT",emailVerified:!1,createdAt:new Date().toISOString()},{merge:!0}),i.success("Account created. Verification email sent."),u("/onboarding")}catch(s){i.error((s==null?void 0:s.message)||"Registration failed")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"#ffffff"},children:e.jsxs(P,{className:"w-full max-w-md shadow-lg",children:[e.jsxs(A,{children:[e.jsx(D,{style:{color:"#0066FF"},children:"Create Account"}),e.jsx(k,{children:"Register and complete your profile"})]}),e.jsx(q,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Full Name"}),e.jsx(o,{id:"name",value:n,onChange:a=>p(a.target.value),placeholder:"Your full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"email",value:r,onChange:a=>f(a.target.value),placeholder:"you@mail.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email2",children:"Confirm Email"}),e.jsx(o,{id:"email2",type:"email",value:c,onChange:a=>x(a.target.value),placeholder:"Confirm email",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",children:"Password"}),e.jsx(o,{id:"password",type:"password",value:d,onChange:a=>g(a.target.value),placeholder:"••••••••",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password2",children:"Confirm Password"}),e.jsx(o,{id:"password2",type:"password",value:m,onChange:a=>j(a.target.value),placeholder:"Repeat password",required:!0})]}),e.jsx(h,{type:"submit",className:"w-full text-white",style:{backgroundColor:"#0066FF"},children:"Register"}),e.jsx(h,{type:"button",variant:"outline",className:"w-full",onClick:()=>u("/login"),children:"Back to Login"})]})})]})})}export{U as default};
