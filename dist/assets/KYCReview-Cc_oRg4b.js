import{u as C,a as v,r as a,a3 as i,j as e,B as x,a4 as m,t as p}from"./index-B4Ad_25t.js";import{C as E,a as g,b as R,d as k}from"./card-CoGWnkv-.js";import{H as A}from"./HeaderBar-D0LKnIUw.js";import{C as b,a as w}from"./circle-x-C7FXVuQ7.js";import"./createLucideIcon-BGnTon0B.js";function K(){const{user:r}=C(),h=v(),[f,l]=a.useState([]),[n,j]=a.useState("ALL"),[c,u]=a.useState({});a.useEffect(()=>{if(!r||!["ADMIN","SUPER_ADMIN","DEVELOPER"].includes(r.role)){h("/login");return}i().then(l)},[r]);const o=f.filter(s=>n==="ALL"?!0:s.kycStatus===n),N=async s=>{await m(s,"APPROVED"),p.success("KYC approved"),i().then(l)},y=async s=>{const t=c[s]||"";await m(s,"REJECTED",t),p.error("KYC rejected"),i().then(l)};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#f8f9fa"},children:[e.jsx(A,{title:"Admin â€¢ KYC Review",color:"#0066FF"}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-xl font-semibold",style:{color:"#0066FF"},children:"Lecturer Verification"}),e.jsxs("select",{className:"border rounded px-2 py-1 text-sm",value:n,onChange:s=>j(s.target.value),children:[e.jsx("option",{value:"ALL",children:"All"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"APPROVED",children:"Approved"}),e.jsx("option",{value:"REJECTED",children:"Rejected"})]})]}),e.jsxs("div",{className:"space-y-3",children:[o.map(s=>e.jsxs(E,{children:[e.jsx(g,{children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s.name||s.email}),e.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:s.kycStatus==="APPROVED"?"#10b981":s.kycStatus==="REJECTED"?"#ef4444":"#FFD700",color:s.kycStatus==="PENDING"?"#000":"#fff"},children:s.kycStatus||"N/A"})]})}),e.jsxs(k,{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.kycFiles||[]).map((t,d)=>e.jsxs("a",{href:t,target:"_blank",className:"text-sm underline",rel:"noreferrer",children:["Document ",d+1]},d)),(!s.kycFiles||s.kycFiles.length===0)&&e.jsx("span",{className:"text-sm text-gray-500",children:"No files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{size:"sm",onClick:()=>N(s.id),className:"text-white",style:{backgroundColor:"#10b981"},children:[e.jsx(b,{className:"w-4 h-4 mr-1"})," Approve"]}),e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>y(s.id),style:{borderColor:"#ef4444",color:"#ef4444"},children:[e.jsx(w,{className:"w-4 h-4 mr-1"})," Reject"]}),e.jsx("input",{className:"border rounded px-2 py-1 text-sm flex-1",placeholder:"Rejection reason (optional)",value:c[s.id]||"",onChange:t=>u({...c,[s.id]:t.target.value})})]})]})]},s.id)),o.length===0&&e.jsx("div",{className:"text-sm text-gray-600",children:"No applicants found for this filter."})]})]})]})}export{K as default};
