import{u as h,a as y,r as l,j as e,a8 as b,B as g}from"./index-B4Ad_25t.js";function j({title:x,color:d="#0066FF"}){const{user:t,logout:u}=h(),s=y(),[i,a]=l.useState(!1),n=l.useRef(null),[r,f]=l.useState(()=>{try{return localStorage.getItem("theme")==="dark"}catch{return!1}});l.useEffect(()=>{const o=c=>{n.current&&!n.current.contains(c.target)&&a(!1)},m=c=>{c.key==="Escape"&&a(!1)};return document.addEventListener("click",o),document.addEventListener("keydown",m),()=>{document.removeEventListener("click",o),document.removeEventListener("keydown",m)}},[]),l.useEffect(()=>{try{r?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))}catch{}},[r]);const p=((t==null?void 0:t.name)||(t==null?void 0:t.email)||"U").charAt(0).toUpperCase();return e.jsx("div",{className:"sticky top-0 z-10 shadow-sm",style:{backgroundColor:d},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"/logo.png",alt:"smartlabs",className:"w-10 h-10 rounded-full bg-white object-cover"}),e.jsx("p",{className:"text-white/90 text-xs",children:x})]}),e.jsxs("div",{className:"flex items-center gap-2 relative",ref:n,children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-white/90 flex items-center justify-center cursor-pointer select-none",onClick:()=>a(!i),title:(t==null?void 0:t.name)||(t==null?void 0:t.email),children:t!=null&&t.avatar?e.jsx("img",{src:t.avatar,alt:"profile",className:"w-9 h-9 rounded-full object-cover"}):e.jsx("span",{className:"text-sm font-semibold",style:{color:d},children:p})}),i&&e.jsxs("div",{className:"absolute right-0 top-12 z-50 w-64 sm:w-56 max-w-[90vw] bg-white/90 backdrop-blur-xl border border-black/10 shadow-2xl rounded-xl p-2 pointer-events-auto",role:"menu","aria-label":"Profile menu",children:[e.jsx("div",{className:"px-2 py-1 text-xs text-gray-700",children:t==null?void 0:t.email}),e.jsx("button",{type:"button",className:"w-full text-left px-2 py-2 text-sm hover:bg-gray-100 rounded text-gray-800",onClick:()=>{s("/profile"),a(!1)},children:"Profile"}),e.jsx("button",{type:"button",className:"w-full text-left px-2 py-2 text-sm hover:bg-gray-100 rounded text-gray-800",onClick:()=>{f(!r)},children:r?"Light Mode":"Dark Mode"}),e.jsx("button",{type:"button",className:"w-full text-left px-2 py-2 text-sm hover:bg-gray-100 rounded text-gray-800",onClick:async()=>{await b(),a(!1)},children:"Enable Notifications"}),e.jsx("div",{className:"border-t my-1"}),e.jsx("button",{type:"button",className:"w-full text-left px-2 py-2 text-sm hover:bg-gray-100 rounded text-gray-800",onClick:()=>{s("/student/dashboard"),a(!1)},children:"Student Portal"}),e.jsx("button",{type:"button",className:"w-full text-left px-2 py-2 text-sm hover:bg-gray-100 rounded text-gray-800",onClick:()=>{s("/lecturer/dashboard"),a(!1)},children:"Lecturer Portal"}),e.jsx("button",{type:"button",className:"w-full text-left px-2 py-2 text-sm hover:bg-gray-100 rounded text-gray-800",onClick:()=>{s("/admin/dashboard"),a(!1)},children:"Admin Portal"}),e.jsx("button",{type:"button",className:"w-full text-left px-2 py-2 text-sm hover:bg-gray-100 rounded text-gray-800",onClick:()=>{s("/super-admin/dashboard"),a(!1)},children:"Super Admin"}),e.jsx("button",{type:"button",className:"w-full text-left px-2 py-2 text-sm hover:bg-gray-100 rounded text-gray-800",onClick:()=>{s("/developer/dashboard"),a(!1)},children:"Developer"}),e.jsx("div",{className:"border-t my-1"}),e.jsx(g,{variant:"outline",className:"w-full justify-start",onClick:()=>{u(),a(!1)},children:"Logout"})]})]})]})})})}export{j as H};
