import{u as y,a as C,r as n,j as s}from"./index-BToGKl4C.js";import{b as w}from"./db-nqeXl3hD.js";import{B as h,C as i,d as m}from"./card-D3FJTV3E.js";import{B as u}from"./badge-93OQ6PlQ.js";import{T as v,a as b,b as p,c as j}from"./tabs-DHqpCJ_0.js";import{A as D}from"./arrow-left-BUPTS_F6.js";import{C as r}from"./calendar-BPRpVTBD.js";import{C as F}from"./clock-izyGzFpI.js";import{D as k}from"./dollar-sign-CEozzTHh.js";import{C as E}from"./credit-card-zELxOLdy.js";import{F as B}from"./file-text-2p1esPSl.js";import"./mockData-meiYRdoj.js";import"./index-C2-HvyGl.js";import"./index-Bym7oP2B.js";import"./index-CpMpevxU.js";import"./createLucideIcon-DePTzsAY.js";function H(){const{user:a}=y(),t=C();n.useEffect(()=>{a||t("/login")},[a,t]);const[d,f]=n.useState([]);n.useEffect(()=>{a!=null&&a.id&&w(a.id).then(f)},[a==null?void 0:a.id]);const l=d.filter(e=>new Date(e.date)>=new Date&&e.status!=="CANCELLED"),c=d.filter(e=>new Date(e.date)<new Date||e.status==="CANCELLED"),N=e=>{switch(e){case"CONFIRMED":return{backgroundColor:"#10b981",color:"white"};case"PENDING":return{backgroundColor:"#FFD700",color:"#000"};case"CANCELLED":return{backgroundColor:"#ef4444",color:"white"};default:return{}}},g=e=>{switch(e){case"APPROVED":return{backgroundColor:"#10b981",color:"white"};case"PENDING":return{backgroundColor:"#FFD700",color:"#000"};case"REJECTED":return{backgroundColor:"#ef4444",color:"white"};default:return{}}},x=({booking:e,isPast:o=!1})=>s.jsx(i,{className:o?"opacity-75":"",children:s.jsx(m,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",style:{backgroundColor:"#f0f7ff"},children:s.jsx(r,{className:"w-8 h-8",style:{color:"#0066FF"}})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:e.lecturerName}),s.jsx("p",{className:"text-sm",style:{color:"#0066FF"},children:e.subject})]}),s.jsx(u,{style:N(e.status),children:e.status})]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(r,{className:"w-4 h-4"}),new Date(e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(F,{className:"w-4 h-4"}),e.time]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(k,{className:"w-4 h-4"}),"$",e.price]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[e.paymentMethod==="VISA"?s.jsx(E,{className:"w-4 h-4",style:{color:"#0066FF"}}):s.jsx(B,{className:"w-4 h-4",style:{color:"#FFD700"}}),s.jsx("span",{className:"text-xs text-gray-600",children:e.paymentMethod==="VISA"?"Card Payment":"Manual Payment"})]}),s.jsx(u,{variant:"outline",style:g(e.paymentStatus),children:e.paymentStatus})]})]})]})})});return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#f8f9fa"},children:[s.jsx("div",{className:"sticky top-0 z-10 shadow-sm",style:{backgroundColor:"#0066FF"},children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(h,{variant:"ghost",size:"sm",onClick:()=>t("/student/dashboard"),className:"text-white hover:bg-white/20",children:s.jsx(D,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-white font-semibold",children:"My Bookings"})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs(v,{defaultValue:"upcoming",className:"w-full",children:[s.jsxs(b,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsxs(p,{value:"upcoming",children:["Upcoming (",l.length,")"]}),s.jsxs(p,{value:"past",children:["Past (",c.length,")"]})]}),s.jsx(j,{value:"upcoming",className:"space-y-4",children:l.length>0?l.map(e=>s.jsx(x,{booking:e},e.id)):s.jsx(i,{children:s.jsxs(m,{className:"p-8 text-center",children:[s.jsx(r,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No upcoming bookings"}),s.jsx(h,{className:"mt-4 text-white",style:{backgroundColor:"#0066FF"},onClick:()=>t("/student/dashboard"),children:"Browse Lecturers"})]})})}),s.jsx(j,{value:"past",className:"space-y-4",children:c.length>0?c.map(e=>s.jsx(x,{booking:e,isPast:!0},e.id)):s.jsx(i,{children:s.jsxs(m,{className:"p-8 text-center",children:[s.jsx(r,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No past bookings"})]})})})]})})]})}export{H as default};
